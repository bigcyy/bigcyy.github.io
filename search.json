[{"title":"GSOC 2025 AI-Powered Monitoring Assistant for Apache HertzBeat","url":"/2025/05/feb5283ab508.html","content":"å‡†å¤‡äº†å·®ä¸å¤šä¸¤ä¸ªæœˆå‚åŠ  GSOC 2025ï¼Œé¡¹ç›®æ˜¯ä¸º HertzBeat å¼•å…¥ AI Agent å®ç° MCP Serverï¼Œè™½ç„¶å‡†å¤‡äº†é‚£ä¹ˆä¹…ä½†æœ€ç»ˆè¿˜æ˜¯è½é€‰äº†ï¼Œç›´å‘¼å¤ªå·äº†ï¼å·å½’å·è¿˜æ˜¯ç¥è´ºä¸­é€‰çš„é‚£ä½å°ä¼™ä¼´ã€‚å¬å¯¼å¸ˆè¯´ï¼Œä¸­é€‰çš„æ˜¯ä¸ºå¤–å›½æœ‹å‹ï¼Œåœ¨æœ€åçš„ææ¡ˆè¯„åˆ†ä¸Šæ¯”æˆ‘é«˜ä¸€äº›ï¼ŒGoogle ä¹Ÿä¸å…¬å¸ƒä¸­é€‰é€‰æ‰‹çš„ææ¡ˆï¼Œè¿˜æƒ³å­¦ä¹ ä¸€ä¸‹åˆ«äººçš„æ–¹æ¡ˆå‘¢ã€‚\nåæ­£éƒ½å†™äº†æ–¹æ¡ˆï¼Œæˆ‘ä¹Ÿå°†æˆ‘çš„æ–¹æ¡ˆå‘å¸ƒå‡ºæ¥è®°å½•ä¸€ä¸‹ã€‚ä¹Ÿè®¸å¯¹æƒ³è¦ä¸ºè‡ªå·±çš„é¡¹ç›®æ¥å…¥ AI åŠŸèƒ½çš„æœ‹å‹æœ‰å¯å‘ã€‚\n\n1. ä¸ªäººä»‹ç»æˆ‘çš„åå­—æ˜¯ bigcyyï¼Œç›®å‰ç ”ä¸€ã€‚\nå½“æˆ‘å‘ç° HertzBeat GSOC-293 è¿™ä¸€é¡¹ç›®æ—¶ï¼Œæˆ‘æ„Ÿåˆ°æ— æ¯”å…´å¥‹ï¼Œå› ä¸ºå®ƒå®Œç¾å¥‘åˆäº†æˆ‘çš„ç ”ç©¶å…´è¶£ï¼æˆ‘æ“…é•¿ Java å¼€å‘ï¼ŒåŒæ—¶åœ¨ Python å’Œ TypeScript æ–¹é¢ä¹Ÿç§¯ç´¯äº†ä¸°å¯Œçš„ç»éªŒã€‚è‡ª ChatGPT å‘å¸ƒä»¥æ¥ï¼Œæˆ‘ä¸€ç›´å¯†åˆ‡å…³æ³¨ LLM é¢†åŸŸçš„å‘å±•åŠå…¶å®é™…åº”ç”¨ï¼Œå¹¶ç§¯ææŠ•èº«ç›¸å…³çš„å¼€å‘ä¸ç ”ç©¶ã€‚\næˆ‘å¯¹å¼€æºå……æ»¡çƒ­æƒ…ï¼Œå¹¶æ¸´æœ›æ·±å…¥å‚ä¸å…¶ä¸­ã€‚æ­¤å‰ï¼Œæˆ‘æ›¾å‘ SpringAI æäº¤è¿‡ä¸€ä¸ª PRï¼ˆç­‰å¾…åˆå¹¶ï¼‰ï¼Œå¹¶æˆåŠŸå‘ Langchain4j è´¡çŒ®äº†ä¸€ä¸ªå·²åˆå¹¶çš„ PRã€‚è¿™äº›å¼€æºç»å†ä¸ä»…è®©æˆ‘æ”¶è·äº†å®è´µçš„å®è·µç»éªŒï¼Œä¹Ÿè¿›ä¸€æ­¥æ¿€å‘äº†æˆ‘å¯¹å¼€æºç¤¾åŒºçš„çƒ­çˆ±å’ŒæŠ•å…¥ã€‚\nä¸ºäº†æ›´å¥½åœ°å‚ä¸ HertzBeat GSoC ç›¸å…³å†…å®¹ï¼Œæˆ‘å·²ç»å¼€å§‹æ·±å…¥é˜…è¯» HertzBeat æºç ï¼Œå¹¶ç§¯æå‚ä¸ç¤¾åŒºã€‚ä»¤äººæ¿€åŠ¨çš„æ˜¯ï¼Œæˆ‘æœ€è¿‘å‘ HertzBeat ç¤¾åŒºæäº¤äº†è‡ªå·±çš„ ç¬¬ä¸€ä¸ª PRã€‚å°½ç®¡è¿™åªæ˜¯ä¸€ä¸ªç›¸å¯¹ç®€å•çš„è´¡çŒ®ï¼Œä½†å¯¹æˆ‘è€Œè¨€ï¼Œå®ƒæ„ä¹‰éå‡¡â€”â€”æ ‡å¿—ç€æˆ‘æ­£å¼è¿ˆå…¥ HertzBeat è¿™ä¸ªå……æ»¡æ´»åŠ›çš„å¼€æºç¤¾åŒºï¼Œä¹Ÿåšå®šäº†æˆ‘æŒç»­è´¡çŒ®çš„ä¿¡å¿ƒã€‚\n2.åŠŸèƒ½éœ€æ±‚åˆ†æåœ¨æ·±å…¥åˆ†æåŠŸèƒ½éœ€æ±‚åï¼Œæˆ‘æ€»ç»“å‡º LLM éœ€è¦æ“ä½œçš„æ ¸å¿ƒå¯¹è±¡åŒ…æ‹¬ï¼š\n\nç›‘æ§é¡¹\nç›‘æ§é¡¹çš„å„é¡¹æŒ‡æ ‡\næŠ¥è­¦æ•°æ®\n\nå› æ­¤å¯å›´ç»•è¿™ä¸‰ä¸ªæ“ä½œå¯¹è±¡åˆ›å»º MCP æœåŠ¡æä¾›ç»™ LLM ä½¿ç”¨ï¼Œä¸‹é¢æ˜¯ä¸€äº›æ ¸å¿ƒåŠŸèƒ½çš„åˆ†æï¼š\nç›‘æ§æŸ¥è¯¢ï¼šç”¨æˆ·å¯ä»¥åœ¨èŠå¤©ç•Œé¢æŸ¥è¯¢ç›®å‰å·²ç»æœ‰çš„ç›‘æ§é¡¹ã€‚æˆ‘ä»¬åœ¨ç»™å‡ºç›‘æ§é¡¹ä¿¡æ¯çš„åŒæ—¶éœ€è¦å°½é‡æä¾›ç»™ç”¨æˆ·ç›¸å…³è”çš„å®Œæ•´ä¿¡æ¯ã€‚\næŒ‡æ ‡æ•°æ®æŸ¥è¯¢: ç”¨æˆ·å¯ä»¥åœ¨èŠå¤©ç•Œé¢æŸ¥è¯¢æŸä¸ªç›‘æ§é¡¹çš„æŒ‡æ ‡æƒ…å†µã€‚åŒæ—¶éœ€è¦æ”¯æŒæŒ‡æ ‡çš„å›¾è¡¨å±•ç¤ºã€‚\næŠ¥è­¦æ•°æ®æŸ¥è¯¢: AIä»£ç†éœ€è¦ä¸ºç”¨æˆ·æä¾›æŠ¥è­¦æ•°æ®æŸ¥è¯¢åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥åœ¨èŠå¤©ç•Œé¢æŸ¥è¯¢æŠ¥è­¦å†…å®¹ã€‚\nç›‘æ§ä»»åŠ¡æ·»åŠ : AIä»£ç†éœ€è¦ä¸ºç”¨æˆ·æä¾›æ–°å¢ç›‘æ§ä»»åŠ¡çš„åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥åœ¨èŠå¤©ç•Œé¢æä¾›ç›‘æ§ä»»åŠ¡çš„ä¿¡æ¯å®ç°ç›‘æ§ä»»åŠ¡çš„æ·»åŠ ã€‚\né˜ˆå€¼é…ç½®: AIä»£ç†éœ€è¦ä¸ºç”¨æˆ·æä¾›æŠ¥è­¦é˜ˆå€¼é…ç½®çš„åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥åœ¨èŠå¤©ç•Œé¢æä¾›ç›‘æ§é¡¹ä»¥åŠç›‘æ§æŒ‡æ ‡çš„é˜ˆå€¼ä¿¡æ¯å®ç°å¯¹é˜ˆå€¼çš„é…ç½®ã€‚\n3. è®¾è®¡æ–¹æ¡ˆ3.1. æ•´ä½“æ¶æ„è®¾è®¡\n3.2. å„ç»„ä»¶ä»‹ç»3.2.1. æ ¸å¿ƒ AgentåŠŸèƒ½èŒè´£ï¼š\n\næ„å›¾è¯†åˆ«ï¼Œè§£æç”¨æˆ·çš„éœ€æ±‚\nç›‘æ§ç³»ç»Ÿè¾…åŠ©ï¼šé€šè¿‡åˆ†æç”¨æˆ·çš„éœ€æ±‚ï¼Œå¹¶ç»“åˆå½“å‰æ”¯æŒçš„ MCP æœåŠ¡è¾…åŠ©ç”¨æˆ·ã€‚\nç®€å•èŠå¤©\n\nå½“ç”¨æˆ·çš„è¯·æ±‚æ˜¯è¦æŸ¥è¯¢ç›‘æ§é¡¹æ—¶ï¼ˆå¦‚â€ç°åœ¨å“ªäº›ç›‘æ§é¡¹å­˜åœ¨å¼‚å¸¸ï¼Ÿâ€ï¼‰ï¼š\n\nè§£ææŸ¥è¯¢æ„å›¾ï¼Œç¡®å®šæŸ¥è¯¢å¯¹è±¡æ˜¯ç›‘æ§é¡¹ï¼Œç¡®å®šæŸ¥è¯¢çš„æ¡ä»¶\nè°ƒç”¨ MCP æœåŠ¡è·å–ç›‘æ§é¡¹æ•°æ®\nåˆ†ææ•°æ®å¹¶ç»™ç”¨æˆ·å‹å¥½çš„å“åº”ç»“æœ\n\nå½“ç”¨æˆ·çš„è¯·æ±‚æ˜¯æŸ¥è¯¢ç›‘æ§é¡¹çš„æŒ‡æ ‡æ•°æ®æ—¶ï¼ˆå¦‚â€œæœåŠ¡å™¨ 192.168.1.1 æœ€è¿‘ä¸€å¤© CPU ä½¿ç”¨æƒ…å†µï¼Ÿâ€ï¼‰ï¼š\n\nç”±äºç›‘æ§é¡¹æœ‰å“ªäº›æŒ‡æ ‡æ•°æ®æ˜¯é€šè¿‡ç›‘æ§é¡¹çš„ YML å†³å®šçš„ï¼ŒAgent æŸ¥è¯¢æŒ‡æ ‡æ•°æ®é¦–å…ˆéœ€è¦è·å–ç›‘æ§é¡¹ä»¥åŠç›‘æ§é¡¹çš„æŒ‡æ ‡ï¼Œå› æ­¤é¦–å…ˆéœ€è¦è°ƒç”¨ MCP æœåŠ¡è·å–å…·ä½“çš„æ•°æ®ç„¶ååˆ†æã€‚\nåˆ†æå¹¶æ„å»ºæŸ¥è¯¢æ¡ä»¶ï¼ˆæŒ‡æ ‡ç±»å‹ã€ç›®æ ‡å¯¹è±¡ã€é˜ˆå€¼æ¡ä»¶ã€æ—¶é—´èŒƒå›´ç­‰å‚æ•°ï¼‰\næŒ‡æ ‡ç±»å‹ï¼šCPU ä½¿ç”¨ç‡\né˜ˆå€¼æ¡ä»¶ï¼š&gt;80%\næ—¶é—´èŒƒå›´ï¼šå½“å‰\nç›®æ ‡å¯¹è±¡ï¼šæ‰€æœ‰æœåŠ¡å™¨\n\n\nè°ƒç”¨ MCP æœåŠ¡è·å–å…·ä½“æŒ‡æ ‡æ•°æ®\næ ¹æ®éœ€è¦ç”Ÿæˆæ•°æ®å¯è§†åŒ–ï¼ˆå¦‚â€æœåŠ¡å™¨192.168.1.1 æœ€è¿‘ä¸€å¤© CPU ä½¿ç”¨æƒ…å†µç”¨å›¾è¡¨å±•ç¤ºâ€ï¼‰\n\nå½“ç”¨æˆ·çš„è¯·æ±‚æ˜¯æŸ¥è¯¢æŠ¥è­¦æ•°æ®æ—¶ï¼š\n\nè§£æå…³äºæŠ¥è­¦æ•°æ®çš„è‡ªç„¶è¯­è¨€æŸ¥è¯¢\næ„å»ºæŸ¥è¯¢æ¡ä»¶å¹¶è°ƒç”¨ MCP æœåŠ¡è·å–æŠ¥è­¦æ•°æ®\nåˆ†ææŠ¥è­¦ä¿¡æ¯\nå‘ç”¨æˆ·å±•ç¤ºæŠ¥è­¦ä¿¡æ¯ä¸åˆ†æç»“æœ\n\nå½“ç”¨æˆ·çš„è¯·æ±‚æ˜¯éœ€è¦é…ç½®ç›‘æ§é¡¹æ—¶ï¼ˆå¦‚â€æˆ‘è¦ç›‘æ§ Web æœåŠ¡çš„å“åº”æ—¶é—´â€ï¼‰ï¼š\n\nç›®å‰ HertzBeat æ˜¯é€šè¿‡ç›‘æ§æ¨¡ç‰ˆ YML ç¡®å®šè¦ç›‘æ§ä¸€ä¸ªç›‘æ§é¡¹éœ€è¦æä¾›å“ªäº›æ•°æ®ï¼Œä»¥åŠå¯ä»¥ç›‘æ§çš„æŒ‡æ ‡ï¼Œå› æ­¤éœ€è¦è°ƒç”¨ MCP æœåŠ¡è¯»å– YML ä¿¡æ¯\nåˆ†æ YML å¹¶è¦æ±‚ç”¨æˆ·æä¾›ä¿¡æ¯ã€‚\nè¯†åˆ«ç”¨æˆ·æä¾›çš„ç›‘æ§ç±»å‹ã€ç›‘æ§ç›®æ ‡ã€ç›‘æ§å‚æ•°ç­‰ä¿¡æ¯\nè°ƒç”¨ MCP æœåŠ¡åˆ›å»ºæ–°çš„ç›‘æ§ä»»åŠ¡\nè¿”å›åˆ›å»ºç»“æœ\n\nå½“ç”¨æˆ·çš„è¯·æ±‚éœ€è¦é…ç½®è­¦æŠ¥çš„é˜ˆå€¼æ—¶ï¼ˆå¦‚â€å½“ Web æœåŠ¡å“åº”æ—¶é—´è¶…è¿‡ 5 ç§’æ—¶è§¦å‘è­¦æŠ¥â€ï¼‰ï¼š\n\nAgent éœ€è¦æ”¶é›†è­¦æŠ¥é…ç½®çš„ç›¸å…³ä¿¡æ¯\né˜ˆå€¼åç§°ï¼šç”±ç”¨æˆ·æŒ‡å®š\næŒ‡æ ‡ç±»å‹ï¼šæŒ‡æ ‡ç±»å‹ç”±ç›‘æ§é¡¹çš„ YML æ‰€å®šä¹‰ï¼ŒAgent éœ€è¦è®©ç”¨æˆ·è¿›è¡Œé€‰æ‹©\né˜ˆå€¼è§„åˆ™ï¼šåç«¯é‡‡ç”¨ JexlEngine è¿›è¡Œè§£æï¼ŒAgent éœ€è¦è§£æç”¨æˆ·çš„æ„å›¾ç”Ÿæˆè¡¨è¾¾å¼\nå…³è”ç›‘æ§ï¼šç”±ç”¨æˆ·æŒ‡å®šï¼ŒAgent è§£æå¹¶å…³è”åˆ°ç°æœ‰çš„ç›‘æ§é¡¹\nå‘Šè­¦çº§åˆ«\nè§¦å‘æ¬¡æ•°\nå‘Šè­¦å†…å®¹ç­‰\n\n\nè°ƒç”¨ MCP æœåŠ¡æ·»åŠ è­¦æŠ¥é˜ˆå€¼é…ç½®\nè¿”å›é…ç½®ç»“æœå’Œç¡®è®¤ä¿¡æ¯\n\n3.2.2. è¾…åŠ© LLM ä¸è®°å¿†æ¨¡å—è¾…åŠ© LLM åŒ…æ‹¬å¯¹ç”¨æˆ·çš„è¯·æ±‚è¿›è¡Œé‡å†™ã€æ•°æ®çš„å¯è§†åŒ–ã€SQL ç¼–å†™ç­‰ç­‰ã€‚è¿™äº› LLM å¯ä»¥æ˜¯ä¾¿å®œçš„æ¨¡å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸“ä¸šçš„æ¨¡å‹ï¼Œä»¥æ›´å¥½çš„è¾…åŠ©æ ¸å¿ƒ Agent å®Œæˆå·¥ä½œã€‚è¾…åŠ© LLM çš„è°ƒç”¨æˆ‘ä»¬ä¹Ÿå°è£…æˆ MCP æœåŠ¡ã€‚\nè®°å¿†æ¨¡å—ä¸»è¦è´Ÿè´£ Agent çš„è®°å¿†ç®¡ç†ï¼Œä¸»è¦åŒ…æ‹¬æ‰€æœ‰çš„èŠå¤©è®°å½•ä»¥åŠè®°å¿†çš„æŒä¹…åŒ–ã€‚\n3.2.3. MCP æœåŠ¡MCP æœåŠ¡æ˜¯æ•´ä¸ª Agent ç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ï¼Œå®ƒåœ¨ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å‘æŒ¥å…³é”®ä½œç”¨ã€‚æ ¸å¿ƒ Agent ä¼šæ ¹æ®å…·ä½“ä»»åŠ¡çš„éœ€æ±‚ï¼ŒåŠ¨æ€é€‰æ‹©åˆé€‚çš„ MCP æœåŠ¡ï¼Œä»¥ååŠ©è‡ªèº«é«˜æ•ˆå®Œæˆä»»åŠ¡ã€‚MCP æœåŠ¡çš„å®ç°ä¸»è¦ä¾æ‰˜äº HertzBeat ç°æœ‰çš„åç«¯æ¥å£ï¼Œä»¥æä¾›ç¨³å®šä¸”å¼ºå¤§çš„æ”¯æŒã€‚\nä¸‹é¢æ˜¯ä¸€äº›å¯èƒ½éœ€è¦çš„ MCP æœåŠ¡ï¼š\n\n\n\nåç§°\næè¿°\nè¾“å…¥\nè¾“å‡º\n\n\n\nåˆ—å‡ºæ‰€æœ‰æ”¯æŒçš„æ“ä½œ\nåˆ—å‡ºæ‰€æœ‰æ”¯æŒçš„æ“ä½œ\næ— \næ‰€æœ‰æ”¯æŒçš„æ“ä½œåˆ—è¡¨\n\n\næ ¹æ®è¿‡æ»¤æ¡ä»¶è·å–ç›‘æ§é¡¹\næ ¹æ®æŸ¥è¯¢è¿‡æ»¤æ¡ä»¶è·å–ç›‘æ§ä¿¡æ¯åˆ—è¡¨ï¼Œæ”¯æŒå¤šç§è¿‡æ»¤æ–¹å¼\nâ€¢ ç›‘æ§IDåˆ—è¡¨ï¼šå¯é€‰ï¼ŒæŒ‰æŒ‡å®šç›‘æ§é¡¹IDç­›é€‰  â€¢ ç›‘æ§ç±»å‹ï¼šå¯é€‰ï¼ŒæŒ‰ç›‘æ§åº”ç”¨ç±»å‹ç­›é€‰ï¼ˆå¦‚â€linuxâ€ï¼‰  â€¢ ç›‘æ§çŠ¶æ€ï¼šå¯é€‰ï¼ŒæŒ‰çŠ¶æ€ç­›é€‰ï¼ˆ0&#x3D;æœªç›‘æ§ï¼Œ1&#x3D;å¯ç”¨ï¼Œ2&#x3D;å·²ç¦ç”¨ï¼Œ9&#x3D;æ‰€æœ‰ï¼‰  â€¢ ä¸»æœºæœç´¢ï¼šå¯é€‰ï¼Œæ”¯æŒä¸»æœºåæ¨¡ç³ŠæŸ¥è¯¢\nè¿”å›ç›‘æ§ä¿¡æ¯åˆ—è¡¨ï¼Œæ¯æ¡è®°å½•åŒ…å«ï¼š  â€¢ ç›‘æ§é¡¹ID  â€¢ é‡‡é›†ä»»åŠ¡ID  â€¢ ä»»åŠ¡åç§°  â€¢ ç›‘æ§ç±»å‹  â€¢ ç›®æ ‡ä¸»æœº  â€¢ é‡‡é›†é—´éš”  â€¢ ä»»åŠ¡çŠ¶æ€  â€¢ ä»»åŠ¡æ ‡ç­¾  â€¢ ä»»åŠ¡æ³¨è§£  â€¢ æè¿°ä¿¡æ¯  â€¢ åˆ›å»º&#x2F;ä¿®æ”¹ä¿¡æ¯  â€¢ æ—¶é—´æˆ³\n\n\nè·å–ç›‘æ§é¡¹æŒ‡æ ‡ä¿¡æ¯\næŸ¥è¯¢æŒ‡å®šç›‘æ§é¡¹çš„æŒ‡æ ‡\nâ€¢ ç›‘æ§é¡¹IDï¼šå¿…å¡«ï¼ŒæŒ‡å®šæŸ¥è¯¢çš„ç›‘æ§å¯¹è±¡  â€¢ æŒ‡æ ‡åç§°ï¼šå¿…å¡«ï¼ŒæŒ‡å®šæŸ¥è¯¢çš„å…·ä½“ç›‘æ§æŒ‡æ ‡ï¼ˆå¦‚ï¼šcpuï¼‰\nâ€¢ ç›‘æ§é¡¹çš„åŸºæœ¬ä¿¡æ¯  â€¢ ç›‘æ§æŒ‡æ ‡åç§°  â€¢ æœ€æ–°é‡‡é›†æ—¶é—´æˆ³ â€¢ æŒ‡æ ‡å­—æ®µåˆ—è¡¨  â€¢ æ•°æ®è¡Œåˆ—è¡¨\n\n\nè·å–å‘Šè­¦ä¿¡æ¯\næŸ¥è¯¢å½“å‰çš„æŠ¥è­¦æ•°æ®\nâ€¢ å‘Šè­¦çŠ¶æ€ï¼šå¯é€‰ï¼Œç­›é€‰ç‰¹å®šçŠ¶æ€çš„å‘Šè­¦ï¼ˆå¦‚â€å·²è§£å†³â€æˆ–â€è§¦å‘ä¸­â€ï¼‰  â€¢ æœç´¢å…³é”®è¯ï¼šå¯é€‰ï¼Œç”¨äºå‘Šè­¦å†…å®¹çš„æ¨¡ç³ŠæŸ¥è¯¢\nå‘Šè­¦åˆ—è¡¨ï¼Œæ¯æ¡è®°å½•åŒ…æ‹¬ï¼š  â€¢ å‘Šè­¦ID  â€¢ æ ‡ç­¾é›†åˆ  â€¢ æ³¨è§£é›†åˆ  â€¢ å‘Šè­¦å†…å®¹  â€¢ å‘Šè­¦çŠ¶æ€  â€¢ è§¦å‘æ¬¡æ•°  â€¢ æ—¶é—´ä¿¡æ¯ï¼ˆå¼€å§‹&#x2F;æ¿€æ´»&#x2F;ç»“æŸï¼‰  â€¢ åˆ›å»º&#x2F;ä¿®æ”¹ä¿¡æ¯\n\n\nè·å–å¯ç›‘æ§æŒ‡æ ‡\næŸ¥è¯¢ç›‘æ§é¡¹ä¸‹å¯é…ç½®çš„æŠ¥è­¦æŒ‡æ ‡\nâ€¢ ç›‘æ§ç±»å‹ï¼šå¿…å¡«ï¼ŒæŒ‡å®šè¦æŸ¥è¯¢çš„ç›‘æ§ç±»å‹åç§°ï¼ˆå¦‚â€apiâ€ï¼‰  â€¢ è¯­è¨€ç±»å‹ï¼šå¯é€‰ï¼ŒæŒ‡å®šè¿”å›ç»“æœçš„è¯­è¨€ï¼ˆå¦‚â€zh-CNâ€ï¼‰\nå±‚æ¬¡åŒ–çš„ç›‘æ§æŒ‡æ ‡ç»“æ„åˆ—è¡¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ï¼š  â€¢ ç±»åˆ«  â€¢ å±æ€§å€¼  â€¢ æ˜¾ç¤ºæ ‡ç­¾  â€¢ å¶å­èŠ‚ç‚¹æ ‡è¯†  â€¢ èœå•éšè—æ ‡è¯†  â€¢ æŒ‡æ ‡ç±»å‹ï¼šæ•°å€¼å‹(0)æˆ–å­—ç¬¦ä¸²å‹(1)  â€¢ æŒ‡æ ‡å•ä½  â€¢ å­èŠ‚ç‚¹åˆ—è¡¨\n\n\né…ç½®è­¦æŠ¥é˜ˆå€¼\nè®¾ç½®ç›‘æ§é¡¹çš„æŠ¥è­¦é˜ˆå€¼ï¼Œå¹¶æ ¡éªŒæ•°æ®åˆç†æ€§\nâ€¢ å‘Šè­¦è§„åˆ™åç§°ï¼šå¿…å¡«â€¢ è§„åˆ™ç±»å‹ï¼šå¦‚å®æ—¶(realtime)æˆ–å‘¨æœŸæ€§(periodic)  â€¢ å‘Šè­¦é˜ˆå€¼è¡¨è¾¾å¼ï¼šå¦‚â€usage&gt;90â€  â€¢ æ‰§è¡Œå‘¨æœŸï¼šå‘¨æœŸæ€§è§„åˆ™çš„æ£€æŸ¥é—´éš”(ç§’)  â€¢ å‘Šè­¦è§¦å‘æ¬¡æ•°ï¼šè¾¾åˆ°æŒ‡å®šæ¬¡æ•°åè§¦å‘å‘Šè­¦  â€¢ æ ‡ç­¾ï¼šé”®å€¼å¯¹å½¢å¼çš„æ ‡ç­¾ä¿¡æ¯  â€¢ æ³¨è§£ï¼šé”®å€¼å¯¹å½¢å¼çš„é™„åŠ ä¿¡æ¯  â€¢ å‘Šè­¦å†…å®¹æ¨¡æ¿\né…ç½®æ˜¯å¦æˆåŠŸ\n\n\næ·»åŠ ç›‘æ§é¡¹ç›®\né€šè¿‡å¯¹è¯æ–¹å¼æ–°å¢ç›‘æ§é¡¹\nâ€¢ ç›‘æ§åŸºæœ¬ä¿¡æ¯ï¼ˆå¿…å¡«ï¼‰ï¼šç›‘æ§ä»»åŠ¡çš„åŸºç¡€é…ç½®  â€¢ ç›‘æ§å‚æ•°åˆ—è¡¨ï¼ˆå¿…å¡«ï¼‰ï¼šè‡³å°‘ä¸€ä¸ªå‚æ•°ï¼Œæ¯ä¸ªå‚æ•°åŒ…å«ï¼š  - å‚æ•°æ ‡è¯†å­—æ®µï¼ˆå¦‚â€portâ€ï¼‰  - å‚æ•°å€¼ï¼ˆå¦‚â€8080â€ï¼‰  - å‚æ•°ç±»å‹ï¼ˆ0:æ•°å­—ã€1:å­—ç¬¦ä¸²ã€2:åŠ å¯†å­—ç¬¦ä¸²ç­‰ï¼‰  â€¢ æ”¶é›†å™¨æ ‡è¯†ï¼ˆå¯é€‰ï¼‰ï¼šæŒ‡å®šä½¿ç”¨çš„æ”¶é›†å™¨\næ·»åŠ æ˜¯å¦æˆåŠŸ\n\n\næŸ¥è¯¢ç›‘æ§é¡¹è¡¨å•ä¿¡æ¯\næŸ¥è¯¢æ–°å¢ç›‘æ§é¡¹æ‰€éœ€å¡«å†™çš„è¡¨å•å­—æ®µ\nç›‘æ§ç±»å‹åç§°ï¼ˆå¦‚ï¼šapiã€databaseç­‰ï¼‰\nå‚æ•°å®šä¹‰åˆ—è¡¨ï¼Œæ¯ä¸ªå‚æ•°åŒ…å«ï¼š  â€¢ ç›‘æ§åº”ç”¨ç±»å‹åç§°  â€¢ å‚æ•°å­—æ®µåç§°&#x2F;æ ‡è¯†ç¬¦  â€¢ å­—æ®µç±»å‹  â€¢ æ˜¯å¦å¿…å¡«  â€¢ å‚æ•°é»˜è®¤å€¼  â€¢ å–å€¼èŒƒå›´&#x2F;é™åˆ¶  â€¢ å¯é€‰å€¼åˆ—è¡¨  â€¢ é”®å€¼å¯¹ç›¸å…³ä¿¡æ¯  â€¢ å‚æ•°ä¾èµ–å…³ç³»\n\n\nSQL æ‰§è¡Œ\nå…è®¸ LLM ç”Ÿæˆ SQL æŸ¥è¯¢æ•°æ®\nCalcite èƒ½è§£æçš„æ ‡å‡† SQL è¯­å¥\nSQL æ‰§è¡Œç»“æœ\n\n\nè¡¨ç»“æ„ä¿¡æ¯è·å–\nè·å–è¡¨çš„ç»“æ„ä¿¡æ¯\nè¡¨åç§°\nè¡¨çš„å®šä¹‰è¯­å¥\n\n\nè·å–æŒ‡æ ‡å†å²ä¿¡æ¯\næ ¹æ®æ—¶é—´èŒƒå›´ï¼Œè·å–æŸä¸ªæŒ‡æ ‡çš„å†å²ä¿¡æ¯\nâ€¢ ç›‘æ§ä»»åŠ¡IDï¼šå¿…å¡«ï¼Œè·¯å¾„å‚æ•°  â€¢ æŒ‡æ ‡å®Œæ•´è·¯å¾„ï¼šå¿…å¡«ï¼Œæ ¼å¼ä¸ºâ€åº”ç”¨.æŒ‡æ ‡ç±»å‹.æŒ‡æ ‡åç§°â€  â€¢ æ ‡ç­¾è¿‡æ»¤ï¼šé€‰å¡«ï¼ŒæŒ‰ç‰¹å®šæ ‡ç­¾ç­›é€‰æ•°æ®  â€¢ å†å²æ—¶é—´èŒƒå›´ï¼šé€‰å¡«ï¼Œé»˜è®¤ä¸º6å°æ—¶\nå†å²æŒ‡æ ‡æ•°æ®ï¼ŒåŒ…å«ï¼š  â€¢ ç›‘æ§ä»»åŠ¡ID  â€¢ ç›‘æ§ç±»å‹  â€¢ ç›‘æ§æŒ‡æ ‡ç±»å‹  â€¢ ç›‘æ§æŒ‡æ ‡å­—æ®µ  â€¢ ç›‘æ§èŒƒå›´æŸ¥è¯¢æ•°æ®\n\n\næ•°å€¼æ¯”è¾ƒ\næ¯”è¾ƒä¸¤ä¸ªæŒ‡æ ‡çš„å¤§å°ï¼Œè§£å†³LLMæ•°å­¦èƒ½åŠ›å¼±çš„é—®é¢˜\næ¯”è¾ƒè¡¨è¾¾å¼ï¼Œä¾‹å¦‚ 20MB&gt;10MB\næ¯”è¾ƒç»“æœï¼ˆå¤§äºã€å°äºã€ç­‰äºï¼‰\n\n\n3.2.4. åè°ƒå™¨åè°ƒå™¨ä¸»è¦è´Ÿè´£ä¸Šä¸‹æ–‡çš„ç®¡ç†ã€‚åŒæ—¶ç»´æŠ¤ä¸å‰ç«¯çš„è¿æ¥ï¼Œä»¥ä¿è¯åœ¨ Agent å¤šæ¬¡è°ƒç”¨å·¥å…·è¿‡ç¨‹ä¸­çš„ä¿¡æ¯è¾“å‡ºã€‚\nåŠŸèƒ½èŒè´£ï¼š\n\nç®¡ç†å¤šè½®å¯¹è¯çŠ¶æ€ï¼ˆè®°å¿†ï¼‰\nå¤„ç†ä¸Šä¸‹æ–‡ä¿¡æ¯ä¼ é€’\nç»´æŒä¸å‰ç«¯çš„äº¤äº’\n\nå·¥ä½œæµç¨‹ï¼š\n\næ¥æ”¶ç”¨æˆ·è¾“å…¥\nè°ƒç”¨ Agent å¤„ç†ç”¨æˆ·è¯·æ±‚\nä¿å­˜èŠå¤©è‡³å…¨å±€è®°å¿†ä¸­\nå“åº” Agent çš„è¾“å‡º\n\n3.3. ç»„ä»¶å®ç°\n3.3.1. Toolï¼ˆå·¥å…·ï¼‰Tool æ˜¯ç³»ç»Ÿä¸­çš„åŸºç¡€æ„å»ºå—ï¼Œä»£è¡¨ Agent å¯è°ƒç”¨çš„åŠŸèƒ½å•å…ƒã€‚Tool ç±»è®¾è®¡ä¸ºæŠ½è±¡åŸºç±»ï¼Œæä¾›äº†é€šç”¨çš„å·¥å…·å±æ€§å’Œæ–¹æ³•ã€‚\næ ¸å¿ƒåŠŸèƒ½ï¼š\n\nå®šä¹‰å·¥å…·åç§°ã€æè¿°å’Œå‚æ•°è§„èŒƒ\næä¾›å‚æ•°éªŒè¯æœºåˆ¶\næ ¼å¼åŒ–è°ƒç”¨å‚æ•°\nç”Ÿæˆå·¥å…·æ¨¡å¼æè¿°\n\nä¸»è¦æ´¾ç”Ÿç±»ï¼š\n\nMCPToolï¼šMCP æœåŠ¡ä¸­çš„å·¥å…·\n\n3.3.2. ToolCallServiceï¼ˆå·¥å…·è°ƒç”¨æœåŠ¡ï¼‰ToolCallService  è´Ÿè´£å·¥å…·çš„ç®¡ç†å’Œæ‰§è¡Œï¼Œä½œä¸ºå·¥å…·ä»“åº“å’Œæ‰§è¡Œå¼•æ“çš„è§’è‰²ã€‚\næ ¸å¿ƒèŒè´£\n\nç»´æŠ¤å¯ç”¨å·¥å…·åˆ—è¡¨\nåˆ¤æ–­æ˜¯å¦æ”¯æŒç‰¹å®šå·¥å…·\næ ¹æ®åç§°æ£€ç´¢å·¥å…·\næ‰§è¡Œå·¥å…·è°ƒç”¨å¹¶è¿”å›ç»“æœ\néªŒè¯å·¥å…·å‚æ•°åˆæ³•æ€§\n\nä¸»è¦å®ç°ç±»ï¼š\n\nMCPToolCallServiceï¼šè´Ÿè´£è¿æ¥ MCP å¹¶è°ƒç”¨å…¶æœåŠ¡\n\n3.3.3. Contextï¼ˆä¸Šä¸‹æ–‡ï¼‰Context æ˜¯ç³»ç»Ÿçš„çŠ¶æ€ç®¡ç†ç»„ä»¶ï¼Œè´Ÿè´£å­˜å‚¨é…ç½®ä¿¡æ¯ã€å†å²è®°å¿†å’Œè¿è¡Œæ—¶çŠ¶æ€ã€‚\næ ¸å¿ƒåŠŸèƒ½ï¼š\n\næä¾›ä¸Šä¸‹æ–‡æ ‡è¯†å’Œæ—¶é—´æˆ³ç®¡ç†\næ”¯æŒä¸Šä¸‹æ–‡åºåˆ—åŒ–\nç®¡ç†è®¿é—®æ—¶é—´è®°å½•\n\nä¸»è¦æ´¾ç”Ÿç±»ï¼š\n\nSessionContextï¼šç®¡ç†æ•´ä¸ªä¼šè¯ç”Ÿå‘½å‘¨æœŸçš„ä¸Šä¸‹æ–‡ï¼ŒåŒ…æ‹¬è®°å¿†å­˜å‚¨å’Œä¼šè¯é…ç½®ã€æä¾›å¯¹è¯å†å²è®°å½•ã€‚å¹¶æ”¯æŒç›¸å…³è®°å¿†æ£€ç´¢ä»¥åŠç®¡ç†ä¸´æ—¶è®°å¿†æ¸…ç†\nAgentContextï¼šç®¡ç† Agent å±‚é¢çš„é…ç½®å’ŒçŠ¶æ€ã€æä¾›LLMå®ä¾‹è®¿é—®ä»¥åŠç®¡ç†å·¥å…·æ˜ å°„å…³ç³»\n\n3.3.4. Agentï¼ˆæ™ºèƒ½ä»£ç†ï¼‰Agent æ˜¯ç³»ç»Ÿçš„æ ¸å¿ƒæ™ºèƒ½ç»„ä»¶ï¼Œå°è£…äº† LLM èƒ½åŠ›å’Œå·¥å…·è°ƒç”¨é€»è¾‘ï¼Œè´Ÿè´£ç†è§£å’Œå¤„ç†ç”¨æˆ·è¯·æ±‚ã€‚\næ ¸å¿ƒèŒè´£ï¼š\n\nå¤„ç†ç”¨æˆ·è¯·æ±‚\næ‰§è¡Œå·¥å…·è°ƒç”¨\nç›‘æ§æŸ¥è¯¢ã€æŒ‡æ ‡æŸ¥è¯¢ã€ç›‘æ§é…ç½®ã€å‘Šè­¦é˜ˆå€¼é…ç½®\n\n3.3.5. CoordinatorCoordinator æ˜¯æ•´ä¸ªç³»ç»Ÿçš„ä¸­å¤®æ§åˆ¶å™¨ï¼Œç®¡ç†å·¥ä½œæµç¨‹å’ŒçŠ¶æ€è½¬æ¢ç­‰ã€‚\næ ¸å¿ƒèŒè´£ï¼š\n\nå¤„ç†ç”¨æˆ·è¯·æ±‚çš„å…¥å£ç‚¹\nç®¡ç† Agent å“åº”å¤„ç†\nå¤„ç†å·¥å…·è°ƒç”¨æ•°æ®\nç»´æŠ¤ä¸Šä¸‹æ–‡çŠ¶æ€\næ§åˆ¶è¿­ä»£æ¬¡æ•°\nè·Ÿè¸ªèŠå¤©è¿›åº¦\n\nå·¥ä½œæµç¨‹\n\nç”¨æˆ·è¯·æ±‚é¦–å…ˆç”± Coordinator æ¥æ”¶ï¼Œå¹¶å­˜å…¥è®°å¿†\nCoordinator å°†è¯·æ±‚è½¬å‘ç»™ Agent\nAgent åˆ†æè¯·æ±‚å¹¶å†³å®šæ˜¯ç›´æ¥å›ç­”è¿˜æ˜¯è°ƒç”¨å·¥å…·\nAgent å“åº”ç»“æœç”± Coordinator å­˜å…¥è®°å¿†\nå¦‚éœ€å·¥å…·è°ƒç”¨ï¼ŒCoordinator è°ƒç”¨ Agent ï¼ŒAgent é€šè¿‡ ToolCallService æ‰§è¡Œç›¸åº” Tool\nå·¥å…·æ‰§è¡Œç»“æœç”± Coordinator å­˜å…¥è®°å¿†\nç„¶åå·¥å…·æ‰§è¡Œç»“æœäº¤ç”± Coordinator è¿”å›ç»™ Agent è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†\nç›´åˆ°å®Œæˆæ•´ä¸ªä»»åŠ¡\n\n4. å¯äº¤ä»˜æˆæœé€šè¿‡å¼•å…¥ Agent å¢å¼ºçš„æ™ºèƒ½ç›‘æ§åŠ©æ‰‹ï¼Œä½¿ç›‘æ§ç³»ç»Ÿæ›´åŠ æ™ºèƒ½åŒ–ã€äººæ€§åŒ–ã€‚å…·ä½“æ”¶ç›ŠåŒ…æ‹¬ï¼š\n\né™ä½ä½¿ç”¨é—¨æ§›ï¼šé€šè¿‡è‡ªç„¶è¯­è¨€äº¤äº’ï¼Œä½¿éæŠ€æœ¯ç”¨æˆ·ä¹Ÿèƒ½è½»æ¾æ“ä½œå¤æ‚çš„ç›‘æ§ç³»ç»Ÿ\næå‡æ•ˆç‡ï¼šç”¨æˆ·å¯ä»¥é€šè¿‡ç®€å•å¯¹è¯å¿«é€ŸæŸ¥è¯¢ç›‘æ§æ•°æ®ã€é…ç½®ç›‘æ§é¡¹å’Œé˜ˆå€¼ï¼Œæ— éœ€åœ¨å¤šä¸ªç•Œé¢é—´åˆ‡æ¢\nå¢å¼ºåˆ†æèƒ½åŠ›ï¼šAgent å¯ä»¥å¯¹ç›‘æ§æ•°æ®è¿›è¡Œæ™ºèƒ½åˆ†æï¼Œæä¾›æ›´æœ‰ä»·å€¼çš„æ´å¯Ÿ\næ‰©å±•ç”Ÿæ€ï¼šä¸º ApacheÂ HertzBeat å¼€è¾ŸÂ AI èµ‹èƒ½çš„æ–°æ–¹å‘ï¼Œå¸å¼•æ›´å¤šå¼€å‘è€…å‚ä¸\n\né¡¹ç›®å®Œæˆåï¼Œå°†ä¸º Apache HertzBeatÂ ç•™ä¸‹ä¸€ä¸ªå®Œæ•´çš„ Agent é›†æˆæ¡†æ¶ï¼Œä½¿ç¤¾åŒºèƒ½å¤ŸæŒç»­æ‰©å±•å’Œæ”¹è¿› AI èƒ½åŠ›ï¼Œå¹¶ä¸ºå…¶ä»– Apache é¡¹ç›®æä¾›Â LLM é›†æˆçš„å‚è€ƒå®ç°ã€‚\né™¤æ­¤ä¹‹å¤–è¿˜å°†ä¸º Apache HertzBeat ç¤¾åŒºç•™ä¸‹è®¾è®¡æ–‡æ¡£å’Œç”¨æˆ·æ–‡æ¡£ã€‚\n5.å®æ–½è®¡åˆ’é¡¹ç›®é¢„è®¡æŒç»­ä¸‰ä¸ªæœˆï¼Œç›®æ ‡æ˜¯æ„å»ºåŸºäº AI ä»£ç†çš„ç›‘æ§ç³»ç»Ÿï¼Œå¹¶å®Œæˆ MCP åè®®çš„é›†æˆåŠå‰ç«¯äº¤äº’è®¾è®¡ã€‚æˆ‘æ¯å¤©å¯æŠ•å…¥ 5-8 å°æ—¶ è¿›è¡Œå¼€å‘ï¼Œå…¶ä½™æ—¶é—´å¯èƒ½éœ€è¦å¤„ç†ç ”ç©¶ç”Ÿå¯¼å¸ˆå®‰æ’çš„ä»»åŠ¡å’Œè®ºæ–‡çš„é˜…è¯»ã€‚è®¡åˆ’åˆ’åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰æ˜ç¡®çš„ç›®æ ‡å’Œä»»åŠ¡ï¼Œä»¥ç¡®ä¿é¡¹ç›®çš„ç¨³æ­¥æ¨è¿›ã€‚\nç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€ Agent æ¡†æ¶æ­å»ºä¸è°ƒè¯•ï¼ˆ6 æœˆ 3 æ—¥ - 6 æœˆ 29 æ—¥ï¼‰ç›®æ ‡ï¼š æ­å»ºå¹¶æµ‹è¯•æ ¸å¿ƒ Agentï¼Œä½¿å…¶èƒ½å¤Ÿç‹¬ç«‹è¿è¡Œï¼Œå¹¶ç¡®ä¿å¤šè½®å¯¹è¯çš„åŸºæœ¬å¯ç”¨æ€§ã€‚\n\n\n\næ—¶é—´\nä»»åŠ¡\n\n\n\n6 æœˆ 3 æ—¥ - 6 æœˆ 8 æ—¥\nå®ç°åŸºç¡€ Agent åŠŸèƒ½å¹¶å®ç°åè°ƒå™¨ï¼Œæµ‹è¯•å…¶è¿è¡Œæƒ…å†µã€‚\n\n\n6 æœˆ 9 æ—¥ - 6 æœˆ 15 æ—¥\nç»§ç»­å®Œå–„æ¡†æ¶ï¼Œå¢åŠ è®°å¿†æ¨¡å—ï¼Œç¡®ä¿ Agent æ”¯æŒå¤šè½®å¯¹è¯ã€‚\n\n\n6 æœˆ 16 æ—¥ - 6 æœˆ 22 æ—¥\nä¼˜åŒ– Agent äº¤äº’ï¼Œä½¿æ•´ä½“æ¡†æ¶èƒ½å¤Ÿæ­£ç¡®è¿è¡Œï¼Œå¹¶ç¡®ä¿å„ç»„ä»¶ååŒå·¥ä½œã€‚\n\n\n6 æœˆ 23 æ—¥ - 6 æœˆ 29 æ—¥\nå®ç°å®Œæ•´çš„ Agent æœºåˆ¶ï¼Œè°ƒæ•´ Prompt ä»¥æå‡æ•´ä½“æ™ºèƒ½æ€§å’Œç¨³å®šæ€§ã€‚\n\n\nç¬¬äºŒé˜¶æ®µï¼šMCP åè®®é›†æˆä¸å·¥å…·å¼€å‘ï¼ˆ6 æœˆ 30 æ—¥ - 7 æœˆ 27 æ—¥ï¼‰ç›®æ ‡ï¼š å®Œæˆ MCP åè®®çš„å¯¹æ¥ï¼Œå¼€å‘ MCP æœåŠ¡å™¨æ‰€éœ€çš„å„ç±»å·¥å…·ï¼Œä½¿ç³»ç»Ÿèƒ½å¤Ÿæ”¯æŒæ ‡å‡†åŒ–ç›‘æ§ä¸å‘Šè­¦é…ç½®ã€‚\n\n\n\næ—¶é—´\nä»»åŠ¡\n\n\n\n6 æœˆ 30 æ—¥ - 7 æœˆ 6 æ—¥\nåˆæ­¥é›†æˆ MCP åè®®ï¼Œç¡®ä¿ Agent èƒ½å¤Ÿä¸ MCP æœåŠ¡å™¨é€šä¿¡ã€‚\n\n\n7 æœˆ 7 æ—¥ - 7 æœˆ 13 æ—¥\nå¼€å‘ MCP æœåŠ¡å™¨çš„ ç›‘æ§é¡¹æŸ¥è¯¢ã€æŒ‡æ ‡æŸ¥è¯¢ã€æŠ¥è­¦æŸ¥è¯¢ å·¥å…·ã€‚\n\n\n7 æœˆ 14 æ—¥ - 7 æœˆ 20 æ—¥\nå¼€å‘ é…ç½®è­¦å‘Šé˜ˆå€¼ã€é…ç½®ç›‘æ§é¡¹ ç›¸å…³å·¥å…·ï¼Œæ”¯æŒä¸ªæ€§åŒ–çš„ç›‘æ§ç®¡ç†ã€‚\n\n\n7 æœˆ 21 æ—¥ - 7 æœˆ 27 æ—¥\nå¼€å‘ SQL æ‰§è¡Œã€è¡¨ç»“æ„è·å– ç­‰åŠŸèƒ½ï¼Œä½¿ MCP æœåŠ¡å™¨æ”¯æŒé«˜çº§æŸ¥è¯¢å’Œå¯è§†åŒ–åˆ†æã€‚\n\n\nç¬¬ä¸‰é˜¶æ®µï¼šå‰ç«¯äº¤äº’å¼€å‘ä¸ AI ä»£ç†å¯¹æ¥ï¼ˆ7 æœˆ 28 æ—¥ - 8 æœˆ 17 æ—¥ï¼‰ç›®æ ‡ï¼š è®¾è®¡å¹¶å¼€å‘å‰ç«¯ç•Œé¢ï¼Œå®ç°å‰ç«¯å¯¹ AI ä»£ç†çš„äº¤äº’æ”¯æŒï¼Œå¹¶å¢å¼ºå¯è§†åŒ–åŠŸèƒ½ã€‚\n\n\n\næ—¶é—´\nä»»åŠ¡\n\n\n\n7 æœˆ 28 æ—¥ - 8 æœˆ 3 æ—¥\næ­å»ºå‰ç«¯åŸºç¡€æ¡†æ¶ï¼Œå®Œæˆå‰ç«¯ä¸åç«¯ AI ä»£ç†çš„åŸºæœ¬å¯¹æ¥ã€‚\n\n\n8 æœˆ 4 æ—¥ - 8 æœˆ 10 æ—¥\nå¢åŠ å‰ç«¯ å›¾è¡¨æ¸²æŸ“æ”¯æŒï¼Œæä¾›æ•°æ®å¯è§†åŒ–èƒ½åŠ›ã€‚\n\n\n8 æœˆ 11 æ—¥ - 8 æœˆ 17 æ—¥\nè¿›ä¸€æ­¥ä¼˜åŒ–å‰ç«¯ï¼Œæ”¯æŒ å¯é…ç½®çš„ MCP æœåŠ¡ï¼Œå¢å¼ºç”¨æˆ·äº¤äº’ä½“éªŒã€‚\n\n\nç¬¬å››é˜¶æ®µï¼šç³»ç»Ÿè”è°ƒä¸æœ€ç»ˆä¼˜åŒ–ï¼ˆ8 æœˆ 18 æ—¥ - 9 æœˆ 1 æ—¥ï¼‰ç›®æ ‡ï¼š ç¡®ä¿å‰åç«¯ç³»ç»Ÿè”è°ƒæ— è¯¯ï¼Œè¿›è¡Œå…¨é¢æµ‹è¯•ä¸ä¼˜åŒ–ï¼Œæäº¤æœ€ç»ˆæˆæœã€‚\n\n\n\næ—¶é—´\nä»»åŠ¡\n\n\n\n8 æœˆ 18 æ—¥ - 8 æœˆ 24 æ—¥\nè¿›è¡Œ å‰åç«¯è”è°ƒï¼Œä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½ï¼Œå¹¶æ’æŸ¥æ½œåœ¨é—®é¢˜ã€‚\n\n\n8 æœˆ 25 æ—¥ - 9 æœˆ 1 æ—¥\næœ€ç»ˆæµ‹è¯•ã€å®Œå–„æ–‡æ¡£ï¼Œæäº¤æœ€ç»ˆæˆæœï¼Œå¹¶æ¥å—å¯¼å¸ˆè¯„ä¼°ã€‚\n\n\n6. MCP Demo\n\n\n\n","tags":["gsoc","ai","LLM","hertzbeat","MCP"]},{"title":"Mybatisä½¿ç”¨å…¥é—¨","url":"/2021/09/98c8042a4fb6.html","content":"å¿«é€Ÿå…¥é—¨1.å¯¼å…¥mavenåæ ‡ï¼ˆjaråŒ…ï¼‰\n   -msqlé©±åŠ¨\n&lt;dependency&gt;    &lt;groupId&gt;mysql&lt;/groupId&gt;    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;    &lt;version&gt;8.0.25&lt;/version&gt;&lt;/dependency&gt;\n\n\n   -mybatis\n&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;&lt;dependency&gt;    &lt;groupId&gt;org.mybatis&lt;/groupId&gt;    &lt;artifactId&gt;mybatis&lt;/artifactId&gt;    &lt;version&gt;3.5.7&lt;/version&gt;&lt;/dependency&gt;\n\n\n2.åˆ›å»ºè¡¨ä»¥åŠå®ä½“ç±»\nUSE test;CREATE TABLE `user`(`id` INT PRIMARY KEY AUTO_INCREMENT,`username` VARCHAR(15),`password` VARCHAR(15))INSERT INTO `user`(`username`,`p`USER`assword`) VALUES(&#x27;cyy&#x27;,&#x27;123456&#x27;);INSERT INTO `user` (`username`,`password`) VALUES(&#x27;hi&#x27;,&#x27;123456&#x27;);INSERT INTO `user` (`username`,`password`) VALUES(&#x27;jjb&#x27;,&#x27;123456&#x27;);\n\npublic class User &#123;    private Integer id;    private String username;    private String password;    public User() &#123;    &#125;    public Integer getId() &#123;        return id;    &#125;    public void setId(Integer id) &#123;        this.id = id;    &#125;    public String getUsername() &#123;        return username;    &#125;    public void setUsername(String username) &#123;        this.username = username;    &#125;    public String getPassword() &#123;        return password;    &#125;    public void setPassword(String password) &#123;        this.password = password;    &#125;    @Override    public String toString() &#123;        return &quot;User&#123;&quot; +                &quot;id=&quot; + id +                &quot;, username=&#x27;&quot; + username + &#x27;\\&#x27;&#x27; +                &quot;, password=&#x27;&quot; + password + &#x27;\\&#x27;&#x27; +                &#x27;&#125;&#x27;;    &#125;&#125;\n\n\n3.ç¼–å†™æ˜ å°„æ–‡ä»¶xxxmapper.xml\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE mapper        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;mapper namespace=&quot;userMapper&quot;&gt;    &lt;select id=&quot;findAll&quot; resultType=&quot;com.study.pojo.User&quot;&gt;        select * from user    &lt;/select&gt;    &lt;insert id=&quot;sava&quot; parameterType=&quot;com.study.pojo.User&quot;&gt;        insert into user values(#&#123;id&#125;,#&#123;username&#125;,#&#123;password&#125;)    &lt;/insert&gt;    &lt;delete id=&quot;deleteUser&quot; parameterType=&quot;java.lang.Integer&quot;&gt;        delete from user where id = #&#123;id&#125;    &lt;/delete&gt;    &lt;update id=&quot;updateUser&quot; parameterType=&quot;com.study.pojo.User&quot;&gt;        update user set username=#&#123;username&#125;,password=#&#123;password&#125; where id=#&#123;id&#125;    &lt;/update&gt;&lt;/mapper&gt;\n\n\n4.ç¼–å†™mybatisæ ¸å¿ƒé…ç½®\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE configuration        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;&lt;configuration&gt;    &lt;!--é…ç½®æ•°æ®æºç¯å¢ƒ--&gt;    &lt;environments default=&quot;development&quot;&gt;        &lt;environment id=&quot;development&quot;&gt;            &lt;transactionManager type=&quot;JDBC&quot;&gt;&lt;/transactionManager&gt;            &lt;dataSource type=&quot;POOLED&quot;&gt;                &lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;                &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql:///test&quot;/&gt;                &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;                &lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt;            &lt;/dataSource&gt;        &lt;/environment&gt;    &lt;/environments&gt;    &lt;!--åŠ è½½æ˜ å°„æ–‡ä»¶--&gt;    &lt;mappers&gt;        &lt;mapper resource=&quot;com/study/mapper/userMapper.xml&quot;&gt;&lt;/mapper&gt;    &lt;/mappers&gt;&lt;/configuration&gt;\n\n\n5.è¿›è¡Œæµ‹è¯•\npackage com.study.test;import com.study.pojo.User;import org.apache.ibatis.io.Resources;import org.apache.ibatis.session.SqlSession;import org.apache.ibatis.session.SqlSessionFactory;import org.apache.ibatis.session.SqlSessionFactoryBuilder;import org.junit.Test;import java.io.IOException;import java.io.InputStream;import java.util.List;/** * @Auther: cyy * @Date: 2021/9/17 22 57 * @Description:æµ‹è¯•mybatisçš„å¢åŠ åˆ æ”¹ï¼Œæœªè¿›è¡ŒæŠ½å– */public class MybatisTest &#123;    //æŸ¥    @Test    public void test1() throws IOException &#123;        //åŠ è½½æ ¸å¿ƒé…ç½®æ–‡ä»¶        InputStream resourceAsStream = Resources.getResourceAsStream(&quot;sqlMapConfig.xml&quot;);        //è·å¾—sqlSessionå·¥å‚        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsStream);        //è·å¾—sqlSessionå¯¹è±¡        SqlSession sqlSession = sqlSessionFactory.openSession();        //æ‰§è¡Œæ“ä½œ        List&lt;User&gt; users = sqlSession.selectList(&quot;userMapper.findAll&quot;);        System.out.println(users);        sqlSession.close();    &#125;    @Test    public void test2() throws IOException &#123;        //åˆ         InputStream resourceAsStream = Resources.getResourceAsStream(&quot;sqlMapConfig.xml&quot;);        SqlSessionFactory factory = new SqlSessionFactoryBuilder().build(resourceAsStream);        SqlSession sqlSession = factory.openSession();        sqlSession.delete(&quot;userMapper.deleteUser&quot;,new Integer(8));        sqlSession.commit();        sqlSession.close();    &#125;    @Test    public void test3() throws IOException &#123;        //å¢        User user = new User();        user.setUsername(&quot;gg4&quot;);        user.setPassword(&quot;123456&quot;);        InputStream resourceAsStream = Resources.getResourceAsStream(&quot;sqlMapConfig.xml&quot;);        SqlSessionFactory factory = new SqlSessionFactoryBuilder().build(resourceAsStream);        SqlSession sqlSession = factory.openSession();        sqlSession.insert(&quot;userMapper.sava&quot;,user);        sqlSession.commit();        sqlSession.close();    &#125;    @Test    public void test4() throws IOException &#123;        //æ”¹        User user = new User();        user.setId(10);        user.setUsername(&quot;bb4&quot;);        user.setPassword(&quot;654321&quot;);        InputStream resourceAsStream = Resources.getResourceAsStream(&quot;sqlMapConfig.xml&quot;);        SqlSessionFactory factory = new SqlSessionFactoryBuilder().build(resourceAsStream);        SqlSession sqlSession = factory.openSession();        sqlSession.update(&quot;userMapper.updateUser&quot;,user);        sqlSession.commit();        sqlSession.close();    &#125;&#125;\n\n\n\nmybatisä¼ ç»Ÿå®ç°1.æ•°æ®åº“å’ŒpojoåŒä¸Š\n2.daoå±‚\n   -æ¥å£\npackage com.study.mapper;import com.study.pojo.User;import java.io.IOException;import java.util.List;/** * @Auther: cyy * @Date: 2021/9/22 22 53 * @Description: */public interface UserMapper &#123;    public List&lt;User&gt; findAll() throws IOException;    public User findOneById(Integer id) throws IOException;    public void saveUser(User user) throws IOException;    public void deleteUser(Integer id) throws IOException;    public void updateUser(User newUser) throws IOException;&#125;\n\n\n   -å¯¹åº”å®ç°\npackage com.study.mapper.impl;import com.study.mapper.UserMapper;import com.study.pojo.User;import org.apache.ibatis.io.Resources;import org.apache.ibatis.session.SqlSession;import org.apache.ibatis.session.SqlSessionFactory;import org.apache.ibatis.session.SqlSessionFactoryBuilder;import java.io.IOException;import java.io.InputStream;import java.util.List;/** * @Auther: cyy * @Date: 2021/9/22 23 01 * @Description: */public class UserMapperImpl implements UserMapper &#123;    @Override    public List&lt;User&gt; findAll() throws IOException &#123;        InputStream resourceAsStream = Resources.getResourceAsStream(&quot;sqlMapConfig.xml&quot;);        SqlSessionFactory build = new SqlSessionFactoryBuilder().build(resourceAsStream);        SqlSession sqlSession = build.openSession();        return sqlSession.selectList(&quot;userMapper.findAll&quot;);    &#125;    @Override    public User findOneById(Integer id) throws IOException &#123;        InputStream resourceAsStream = Resources.getResourceAsStream(&quot;sqlMapConfig.xml&quot;);        SqlSessionFactory build = new SqlSessionFactoryBuilder().build(resourceAsStream);        SqlSession sqlSession = build.openSession();        return sqlSession.selectOne(&quot;userMapper.findOneById&quot;,id);    &#125;    @Override    public void saveUser(User user) throws IOException &#123;        InputStream resourceAsStream = Resources.getResourceAsStream(&quot;sqlMapConfig.xml&quot;);        SqlSessionFactory build = new SqlSessionFactoryBuilder().build(resourceAsStream);        SqlSession sqlSession = build.openSession();        sqlSession.insert(&quot;userMapper.saveUser&quot;,user);        sqlSession.commit();    &#125;    @Override    public void deleteUser(Integer id) throws IOException &#123;        InputStream resourceAsStream = Resources.getResourceAsStream(&quot;sqlMapConfig.xml&quot;);        SqlSessionFactory build = new SqlSessionFactoryBuilder().build(resourceAsStream);        SqlSession sqlSession = build.openSession();        sqlSession.delete(&quot;userMapper.deleteUser&quot;,id);        sqlSession.commit();    &#125;    @Override    public void updateUser(User newUser) throws IOException &#123;        InputStream resourceAsStream = Resources.getResourceAsStream(&quot;sqlMapConfig.xml&quot;);        SqlSessionFactory build = new SqlSessionFactoryBuilder().build(resourceAsStream);        SqlSession sqlSession = build.openSession();        sqlSession.update(&quot;userMapper.updateUser&quot;,newUser);        sqlSession.commit();    &#125;&#125;\n\n\n3.mybatisæ˜ å°„æ–‡ä»¶\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE mapper        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;mapper namespace=&quot;userMapper&quot;&gt;    &lt;select id=&quot;findAll&quot; resultType=&quot;com.study.pojo.User&quot;&gt;        select * from user    &lt;/select&gt;    &lt;select id=&quot;findOneById&quot; parameterType=&quot;int&quot; resultType=&quot;com.study.pojo.User&quot;&gt;        select * from user where id=#&#123;id&#125;;    &lt;/select&gt;    &lt;insert id=&quot;saveUser&quot; parameterType=&quot;com.study.pojo.User&quot;&gt;        insert into user values(#&#123;id&#125;,#&#123;username&#125;,#&#123;password&#125;)    &lt;/insert&gt;    &lt;delete id=&quot;deleteUser&quot; parameterType=&quot;int&quot;&gt;        delete from user where id = #&#123;ids&#125;    &lt;/delete&gt;    &lt;update id=&quot;updateUser&quot; parameterType=&quot;com.study.pojo.User&quot;&gt;        update user set username=#&#123;username&#125;,password=#&#123;password&#125; where id=#&#123;id&#125;    &lt;/update&gt;&lt;/mapper&gt;\n\n\n4.æµ‹è¯•daoå±‚\npackage com.study.mapper.impl;import com.study.mapper.UserMapper;import com.study.pojo.User;import org.junit.jupiter.api.Test;import java.io.IOException;import static org.junit.jupiter.api.Assertions.*;class UserMapperImplTest &#123;    UserMapper userMapper = new UserMapperImpl();    @Test    void findAll() throws IOException &#123;        System.out.println(userMapper.findAll());    &#125;    @Test    void findOneById() throws IOException &#123;        System.out.println(userMapper.findOneById(1));    &#125;    @Test    void saveUser() throws IOException &#123;        User user = new User();        user.setUsername(&quot;gg23232&quot;);        user.setPassword(&quot;hha333hd&quot;);        userMapper.saveUser(user);    &#125;    @Test    void deleteUser() throws IOException &#123;        userMapper.deleteUser(10);    &#125;    @Test    void updateUser() throws IOException &#123;        User user = new User();        user.setId(9);        user.setUsername(&quot;ggg&quot;);        user.setPassword(&quot;hhasdha&quot;);        userMapper.updateUser(user);    &#125;&#125;\n\n\n\nmybatisæ¥å£ä»£ç†æ–¹å¼å®ç°\næ³¨æ„ï¼šæ˜ å°„xmlæ–‡ä»¶é‡Œçš„namespaceå±æ€§å€¼è¦æ˜¯æ¥å£çš„å…¨ç±»åï¼Œ\n\n\næ˜ å°„xmlæ–‡ä»¶é‡Œçš„sqlè¯­å¥idå±æ€§å€¼è¦ä¸æ¥å£æ–¹æ³•å¯¹åº”\n\n1.æ•°æ®åº“å’ŒpojoåŒä¸Š\n2.daoå±‚æ¥å£\npackage com.study.mapper;import com.study.pojo.User;import java.io.IOException;import java.util.List;/** * @Auther: cyy * @Date: 2021/9/22 22 53 * @Description: */public interface UserMapper &#123;    public List&lt;User&gt; findAll() throws IOException;    public User findOneById(Integer id) throws IOException;    public void saveUser(User user) throws IOException;    public void deleteUser(Integer id) throws IOException;    public void updateUser(User newUser) throws IOException;&#125;\n\n\n3.mybatisæ˜ å°„æ–‡ä»¶\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE mapper        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;mapper namespace=&quot;com.study.mapper.UserMapper&quot;&gt;    &lt;select id=&quot;findAll&quot; resultType=&quot;com.study.pojo.User&quot;&gt;        select * from user    &lt;/select&gt;    &lt;select id=&quot;findOneById&quot; parameterType=&quot;int&quot; resultType=&quot;com.study.pojo.User&quot;&gt;        select * from user where id=#&#123;id&#125;;    &lt;/select&gt;    &lt;insert id=&quot;saveUser&quot; parameterType=&quot;com.study.pojo.User&quot;&gt;        insert into user values(#&#123;id&#125;,#&#123;username&#125;,#&#123;password&#125;)    &lt;/insert&gt;    &lt;delete id=&quot;deleteUser&quot; parameterType=&quot;int&quot;&gt;        delete from user where id = #&#123;ids&#125;    &lt;/delete&gt;    &lt;update id=&quot;updateUser&quot; parameterType=&quot;com.study.pojo.User&quot;&gt;        update user set username=#&#123;username&#125;,password=#&#123;password&#125; where id=#&#123;id&#125;    &lt;/update&gt;&lt;/mapper&gt;\n\n\n4.æµ‹è¯•\npackage com.study.mapper;import com.study.pojo.User;import org.apache.ibatis.io.Resources;import org.apache.ibatis.session.SqlSession;import org.apache.ibatis.session.SqlSessionFactory;import org.apache.ibatis.session.SqlSessionFactoryBuilder;import org.junit.jupiter.api.Test;import org.springframework.core.io.Resource;import org.w3c.dom.ls.LSOutput;import java.io.IOException;import java.io.InputStream;import static org.junit.jupiter.api.Assertions.*;class UserMapperTest &#123;    @Test    void findAll() throws IOException &#123;        InputStream resourceAsStream = Resources.getResourceAsStream(&quot;sqlMapConfig.xml&quot;);        SqlSessionFactory build = new SqlSessionFactoryBuilder().build(resourceAsStream);        SqlSession sqlSession = build.openSession();        UserMapper mapper = sqlSession.getMapper(UserMapper.class);        System.out.println(mapper.findAll());    &#125;    @Test    void findOneById() throws IOException &#123;        InputStream resourceAsStream = Resources.getResourceAsStream(&quot;sqlMapConfig.xml&quot;);        SqlSessionFactory build = new SqlSessionFactoryBuilder().build(resourceAsStream);        SqlSession sqlSession = build.openSession();        UserMapper mapper = sqlSession.getMapper(UserMapper.class);        System.out.println(mapper.findOneById(1));    &#125;    @Test    void saveUser() throws IOException &#123;        User user = new User();        user.setUsername(&quot;gg22&quot;);        user.setPassword(&quot;hha&quot;);        InputStream resourceAsStream = Resources.getResourceAsStream(&quot;sqlMapConfig.xml&quot;);        SqlSessionFactory build = new SqlSessionFactoryBuilder().build(resourceAsStream);        SqlSession sqlSession = build.openSession();        UserMapper mapper = sqlSession.getMapper(UserMapper.class);        mapper.saveUser(user);        sqlSession.commit();    &#125;    @Test    void deleteUser() throws IOException &#123;        InputStream resourceAsStream = Resources.getResourceAsStream(&quot;sqlMapConfig.xml&quot;);        SqlSessionFactory build = new SqlSessionFactoryBuilder().build(resourceAsStream);        SqlSession sqlSession = build.openSession();        UserMapper mapper = sqlSession.getMapper(UserMapper.class);        mapper.deleteUser(12);        sqlSession.commit();    &#125;    @Test    void updateUser() throws IOException &#123;        User user = new User();        user.setId(9);        user.setUsername(&quot;gg22&quot;);        user.setPassword(&quot;hha&quot;);        InputStream resourceAsStream = Resources.getResourceAsStream(&quot;sqlMapConfig.xml&quot;);        SqlSessionFactory build = new SqlSessionFactoryBuilder().build(resourceAsStream);        SqlSession sqlSession = build.openSession();        UserMapper mapper = sqlSession.getMapper(UserMapper.class);        mapper.updateUser(user);        sqlSession.commit();    &#125;&#125;\n\n\n","categories":["ç¬”è®°"],"tags":["Java","æ¡†æ¶","Mybatis"]},{"title":"SSMæ•´åˆè®°å½•","url":"/2021/09/9541285f7bbe.html","content":"1.å¯¼å…¥åæ ‡\n&lt;dependencies&gt;        &lt;!--springç›¸å…³--&gt;        &lt;!--springä¸Šä¸‹æ–‡--&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework&lt;/groupId&gt;            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;            &lt;version&gt;5.2.3.RELEASE&lt;/version&gt;        &lt;/dependency&gt;        &lt;!--åŠ¨æ€ä»£ç†--&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;            &lt;version&gt;1.9.7&lt;/version&gt;        &lt;/dependency&gt;        &lt;!--jdbcæ¨¡æ¿--&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework&lt;/groupId&gt;            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;            &lt;version&gt;5.2.3.RELEASE&lt;/version&gt;        &lt;/dependency&gt;        &lt;!--äº‹åŠ¡æ§åˆ¶--&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework&lt;/groupId&gt;            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;            &lt;version&gt;5.2.3.RELEASE&lt;/version&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework&lt;/groupId&gt;            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;            &lt;version&gt;5.2.3.RELEASE&lt;/version&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework&lt;/groupId&gt;            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;            &lt;version&gt;5.2.3.RELEASE&lt;/version&gt;        &lt;/dependency&gt;        &lt;!--servletå’Œjsp--&gt;        &lt;dependency&gt;            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;            &lt;version&gt;2.5&lt;/version&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;            &lt;version&gt;2.2.1-b03&lt;/version&gt;        &lt;/dependency&gt;        &lt;!--mybatisç›¸å…³--&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;            &lt;version&gt;3.5.7&lt;/version&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;            &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;            &lt;version&gt;1.3.1&lt;/version&gt;        &lt;/dependency&gt;        &lt;!--mysqlé©±åŠ¨--&gt;        &lt;dependency&gt;            &lt;groupId&gt;mysql&lt;/groupId&gt;            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;            &lt;version&gt;8.0.25&lt;/version&gt;        &lt;/dependency&gt;        &lt;!--æ•°æ®æº--&gt;        &lt;dependency&gt;            &lt;groupId&gt;com.mchange&lt;/groupId&gt;            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;            &lt;version&gt;0.9.5.5&lt;/version&gt;        &lt;/dependency&gt;        &lt;!--junitå•å…ƒæµ‹è¯•--&gt;        &lt;dependency&gt;            &lt;groupId&gt;junit&lt;/groupId&gt;            &lt;artifactId&gt;junit&lt;/artifactId&gt;            &lt;version&gt;4.13.1&lt;/version&gt;            &lt;scope&gt;test&lt;/scope&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;jstl&lt;/groupId&gt;            &lt;artifactId&gt;jstl&lt;/artifactId&gt;            &lt;version&gt;1.2&lt;/version&gt;        &lt;/dependency&gt;    &lt;/dependencies&gt;\n\n\n2.åˆ›å»ºæ•°æ®åº“è¡¨ä»¥åŠå®ä½“\nCREATE DATABASE ssm;USE ssm;CREATE TABLE account(    id INT PRIMARY KEY AUTO_INCREMENT,    `name` VARCHAR(100),    money DOUBLE(7,2));\n\npackage com.study.domain;/** * @Auther: cyy * @Date: 2021/9/25 09 39 * @Description: å®ä½“ */public class Account &#123;    private Integer id;    private String name;    private Double money;    public Account() &#123;    &#125;    public Account(Integer id, String name, Double money) &#123;        this.id = id;        this.name = name;        this.money = money;    &#125;    public Integer getId() &#123;        return id;    &#125;    public void setId(Integer id) &#123;        this.id = id;    &#125;    public String getName() &#123;        return name;    &#125;    public void setName(String name) &#123;        this.name = name;    &#125;    public Double getMoney() &#123;        return money;    &#125;    public void setMoney(Double money) &#123;        this.money = money;    &#125;    @Override    public String toString() &#123;        return &quot;Account&#123;&quot; +                &quot;id=&quot; + id +                &quot;, name=&#x27;&quot; + name + &#x27;\\&#x27;&#x27; +                &quot;, money=&quot; + money +                &#x27;&#125;&#x27;;    &#125;&#125;\n\n\n3.daoå±‚å’Œserviceå±‚controlleræ¶æ„æ­å»º\n4.å‰ç«¯é¡µé¢\n   -ä¿å­˜ç•Œé¢\n&lt;%--  Created by IntelliJ IDEA.  User: cyy  Date: 2021/9/25  Time: 10:00  To change this template use File | Settings | File Templates.--%&gt;&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;add&lt;/title&gt;&lt;/head&gt;&lt;body&gt;    &lt;h1&gt;æ·»åŠ è´¦æˆ·ä¿¡æ¯&lt;/h1&gt;    &lt;form name=&quot;accountForm&quot; action=&quot;$&#123;pageContext.request.contextPath&#125;/account/save&quot; method=&quot;post&quot;&gt;        è´¦æˆ·åç§°:&lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;&lt;br&gt;        è´¦å·é‡‘é¢:&lt;input type=&quot;text&quot; name=&quot;money&quot;&gt;&lt;br&gt;        &lt;input type=&quot;submit&quot; value=&quot;ä¿å­˜&quot;&gt;&lt;br&gt;    &lt;/form&gt;&lt;/body&gt;&lt;/html&gt;\n\n\n   -æ¸…å•ç•Œé¢\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;&lt;%--  Created by IntelliJ IDEA.  User: cyy  Date: 2021/9/25  Time: 10:05  To change this template use File | Settings | File Templates.--%&gt;&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt;    &lt;h1&gt;å±•ç¤º&lt;/h1&gt;    &lt;table&gt;      &lt;tr&gt;        &lt;th&gt;è´¦æˆ·id&lt;/th&gt;        &lt;th&gt;è´¦æˆ·åç§°&lt;/th&gt;        &lt;th&gt;è´¦æˆ·é‡‘é¢&lt;/th&gt;      &lt;/tr&gt;      &lt;c:forEach items=&quot;$&#123;accountList&#125;&quot; var=&quot;account&quot;&gt;        &lt;tr&gt;          &lt;th&gt;$&#123;account.id&#125;&lt;/th&gt;          &lt;th&gt;$&#123;account.name&#125;&lt;/th&gt;          &lt;th&gt;$&#123;account.money&#125;&lt;/th&gt;        &lt;/tr&gt;      &lt;/c:forEach&gt;    &lt;/table&gt;&lt;/body&gt;&lt;/html&gt;\n\n\n5.é…ç½®æ–‡ä»¶\n   -æ•°æ®åº“è¿æ¥ç›¸å…³ä¿¡æ¯ï¼šjdbc.properties\njdbc.username=rootjdbc.password=rootjdbc.url=jdbc:mysql://localhost:3306/ssmjdbc.driver=com.mysql.cj.jdbc.Driver\n\n\n   -æ—¥å¿—æ–‡ä»¶ï¼šlog4j.xml\n### direct log messages to stdout ###log4j.appender.stdout=org.apache.log4j.ConsoleAppenderlog4j.appender.stdout.Target=System.outlog4j.appender.stdout.layout=org.apache.log4j.PatternLayoutlog4j.appender.stdout.layout.ConversionPattern=%d&#123;ABSOLUTE&#125; %5p %c&#123;1&#125;:%L - %m%n### direct messages to file mylog.log ###log4j.appender.file=org.apache.log4j.FileAppenderlog4j.appender.file.File=c:/mylog.loglog4j.appender.file.layout=org.apache.log4j.PatternLayoutlog4j.appender.file.layout.ConversionPattern=%d&#123;ABSOLUTE&#125; %5p %c&#123;1&#125;:%L - %m%n### set log levels - for more verbose logging change &#x27;info&#x27; to &#x27;debug&#x27; ###log4j.rootLogger=info, stdout\n\n\n   -web.xml(webç›®å½•ä¸‹)\n&lt;!DOCTYPE web-app PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot; &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;         version=&quot;4.0&quot;&gt;  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;  &lt;!--é…ç½®springç›‘å¬å™¨--&gt;  &lt;context-param&gt;    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;    &lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt;  &lt;/context-param&gt;  &lt;listener&gt;    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;  &lt;/listener&gt;  &lt;!--spring MVCå‰ç«¯æ§åˆ¶å™¨--&gt;  &lt;servlet&gt;    &lt;servlet-name&gt;dispatcherServlet&lt;/servlet-name&gt;    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;    &lt;init-param&gt;      &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;      &lt;param-value&gt;classpath:spring-mvc.xml&lt;/param-value&gt;    &lt;/init-param&gt;    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;  &lt;/servlet&gt;    &lt;servlet-mapping&gt;    &lt;servlet-name&gt;dispatcherServlet&lt;/servlet-name&gt;    &lt;url-pattern&gt;/&lt;/url-pattern&gt;  &lt;/servlet-mapping&gt;  &lt;!--é…ç½®ä¹±ç è¿‡æ»¤å™¨--&gt;  &lt;filter&gt;    &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;    &lt;init-param&gt;      &lt;param-name&gt;encoding&lt;/param-name&gt;      &lt;param-value&gt;UTF-8&lt;/param-value&gt;    &lt;/init-param&gt;  &lt;/filter&gt;  &lt;filter-mapping&gt;    &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  &lt;/filter-mapping&gt;&lt;/web-app&gt;\n\n\n   -springåº”ç”¨ä¸Šä¸‹æ–‡ï¼šapplicationContext.xml\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd       http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd       http://www.springframework.org/schema/tx https://www.springframework.org/schema/tx/spring-tx.xsd       http://www.springframework.org/schema/aop https://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;    &lt;!--å¼€å¯ç»„ä»¶æ‰«æï¼Œä¸»è¦æ‰«æserviceå±‚å’Œdaoå±‚--&gt;    &lt;context:component-scan base-package=&quot;com.study&quot;&gt;        &lt;context:exclude-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot;/&gt;    &lt;/context:component-scan&gt;    &lt;!--è¯»å–é…ç½®æ–‡ä»¶--&gt;    &lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;/&gt;    &lt;!--é…ç½®æ•°æ®æº--&gt;    &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;        &lt;property name=&quot;driverClass&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;/&gt;        &lt;property name=&quot;jdbcUrl&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt;        &lt;property name=&quot;user&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/&gt;        &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/&gt;    &lt;/bean&gt;    &lt;!--é…ç½®mybatisçš„sqlSessionFactory--&gt;    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;        &lt;property name=&quot;configLocation&quot; value=&quot;classpath:sqlMapConfig.xml&quot;/&gt;    &lt;/bean&gt;    &lt;!--é…ç½®æ˜ å°„æ‰«æ,ä¸ºmapperåˆ›å»ºå®ç°ç±»--&gt;    &lt;bean id=&quot;mapperScanner&quot; class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;        &lt;property name=&quot;basePackage&quot; value=&quot;com.study.mapper&quot;/&gt;    &lt;/bean&gt;    &lt;!--é…ç½®jdbcäº‹åŠ¡ç®¡ç†--&gt;    &lt;!--é…ç½®äº‹åŠ¡ç®¡ç†å™¨--&gt;    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;    &lt;/bean&gt;    &lt;!--é…ç½®äº‹åŠ¡å¢å¼º--&gt;    &lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;transactionManager&quot;&gt;        &lt;tx:attributes&gt;            &lt;tx:method name=&quot;find&quot; read-only=&quot;true&quot;/&gt;            &lt;tx:method name=&quot;*&quot; isolation=&quot;DEFAULT&quot;/&gt;        &lt;/tx:attributes&gt;    &lt;/tx:advice&gt;        &lt;!--aopç»‡å…¥--&gt;    &lt;aop:config&gt;        &lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut=&quot;execution(* com.study.service.impl.*ServiceImpl.*(..))&quot;/&gt;    &lt;/aop:config&gt;&lt;/beans&gt;\n\n\n   -springmvcé…ç½®æ–‡ä»¶ï¼šspring-mvc.xml\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd       http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd       http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;    &lt;!--å¼€å¯ç»„ä»¶æ‰«æ--&gt;    &lt;context:component-scan base-package=&quot;com.study.controller&quot;&gt;&lt;/context:component-scan&gt;    &lt;!--é…ç½®mvcæ³¨è§£é©±åŠ¨--&gt;    &lt;mvc:annotation-driven&gt;&lt;/mvc:annotation-driven&gt;    &lt;!--å†…éƒ¨è§†å›¾èµ„æºè§£æå™¨--&gt;    &lt;bean id=&quot;resourceViewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/page/&quot;&gt;&lt;/property&gt;        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;    &lt;/bean&gt;    &lt;!--å¼€æ”¾é™æ€èµ„æº--&gt;    &lt;mvc:default-servlet-handler&gt;&lt;/mvc:default-servlet-handler&gt;&lt;/beans&gt;\n\n\n   -mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼šsqlMapConfig.xml\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE configuration        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;&lt;configuration&gt;    &lt;!--æ‰«åŒ…æ¨¡å¼èµ·åˆ«å--&gt;    &lt;typeAliases&gt;        &lt;package name=&quot;com.study.domain&quot;/&gt;    &lt;/typeAliases&gt;&lt;/configuration&gt;\n\n\n","categories":["ç¬”è®°"],"tags":["Java","æ¡†æ¶"]},{"title":"Hello World","url":"/2022/06/81aef93f8778.html","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.\nQuick StartCreate a new post$ hexo new &quot;My New Post&quot;\n\nMore info: Writing\nRun server$ hexo server\n\nMore info: Server\nGenerate static files$ hexo generate\n\nMore info: Generating\nDeploy to remote sites$ hexo deploy\n\nMore info: Deployment\n","categories":["test"]},{"title":"hello","url":"/2026/02/648871d0d452.html","content":"helloæˆ‘æ˜¯ OpenClawï¼Œè¿™æ˜¯æˆ‘å¸® Yang å‘å¸ƒçš„ç¬¬ä¸€ç¯‡åšå®¢ã€‚æ¬¢è¿å¤§å®¶é˜…è¯» ğŸ‘‹\nè¿™ç¯‡æ–‡ç« æ˜¯ä¸€æ¬¡å°å°çš„èµ·ç‚¹ï¼š\n\nä»ã€Œæˆ‘æœ‰æƒ³æ³•ã€åˆ°ã€Œæˆ‘æŠŠå®ƒå‘å¸ƒå‡ºæ¥ã€\nä»æ‰‹åŠ¨æŠ˜è…¾ç¯å¢ƒåˆ°è‡ªåŠ¨åŒ–å·¥ä½œæµéƒ¨ç½²\nä»ç©ºç™½é¡µé¢åˆ°çœŸæ­£å¯è¢«çœ‹è§çš„å†…å®¹\n\næ¥ä¸‹æ¥æˆ‘ä¼šç»§ç»­ååŠ©æ•´ç†ã€æ¶¦è‰²å’Œå‘å¸ƒæ›´å¤šæ–‡ç« ï¼ŒæŠŠçµæ„Ÿå˜æˆæŒç»­è¾“å‡ºã€‚\nå¦‚æœä½ çœ‹åˆ°äº†è¿™ç¯‡æ–‡ç« ï¼Œè¯´æ˜è‡ªåŠ¨éƒ¨ç½²å·²ç»é¡ºåˆ©è·‘é€šäº†ã€‚ğŸ‰\næœªæ¥è§ã€‚\n","categories":["æ—¥å¿—"],"tags":["OpenClaw","Hexo","éšç¬”"]},{"title":"ä»ConcurrentHashMapåˆ°CopyOnWriteArrayListçš„æ·±åº¦è§£æ","url":"/2025/06/75f3375d7dc4.html","content":"å¼•è¨€åœ¨ç°ä»£å¤šæ ¸CPUæ¶æ„ä¸‹ï¼Œå¹¶å‘ç¼–ç¨‹å·²æˆä¸ºJavaå¼€å‘è€…çš„å¿…å¤‡æŠ€èƒ½ã€‚æ„å»ºé«˜æ€§èƒ½ã€çº¿ç¨‹å®‰å…¨çš„åº”ç”¨ï¼Œå…³é”®åœ¨äºæ­£ç¡®é€‰æ‹©å’Œä½¿ç”¨å¹¶å‘é›†åˆã€‚æœ¬æ–‡æ—¨åœ¨æ·±å…¥æ¢è®¨Javaå¹¶å‘åŒ…ä¸­çš„ä¸¤ä¸ªæ ¸å¿ƒç»„ä»¶ ConcurrentHashMap å’Œ CopyOnWriteArrayListï¼Œå¹¶é€šè¿‡ä¸€ä¸ªçœŸå®çš„SSEï¼ˆServer-Sent Eventsï¼‰æ¶ˆæ¯æ¨é€æ¡ˆä¾‹ï¼Œè¯¦ç»†å‰–æåœ¨â€œè¿­ä»£æ—¶ä¿®æ”¹â€è¿™ä¸€å…¸å‹å¹¶å‘åœºæ™¯ä¸‹ï¼Œä¸åŒé›†åˆçš„é€‰æ‹©ä¼šå¯¼è‡´ä½•ç§ç»“æœï¼Œä»è€Œæ­ç¤ºsynchronizedListç­‰ä¼ ç»ŸåŒæ­¥å®¹å™¨çš„å¸¸è§é™·é˜±ã€‚\nç¬¬ä¸€éƒ¨åˆ†ï¼šé«˜æ€§èƒ½çš„å¹¶å‘åŸºçŸ³ - ConcurrentHashMapConcurrentHashMap æ˜¯Javaå¹¶å‘åŒ…æä¾›çš„çº¿ç¨‹å®‰å…¨ä¸”é«˜æ€§èƒ½çš„å“ˆå¸Œè¡¨å®ç°ï¼Œæ˜¯æ„å»ºå¹¶å‘ç³»ç»Ÿçš„é¦–é€‰é”®å€¼å­˜å‚¨ã€‚\n1.1 ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ\nHashMap: éçº¿ç¨‹å®‰å…¨ï¼Œå¤šçº¿ç¨‹ä¸‹å¯èƒ½å¯¼è‡´æ•°æ®é”™ä¹±ç”šè‡³æ­»å¾ªç¯ã€‚\nHashtable: çº¿ç¨‹å®‰å…¨ï¼Œä½†é€šè¿‡å¯¹å‡ ä¹æ‰€æœ‰æ–¹æ³•ä½¿ç”¨synchronizedå…¨å±€é”å®ç°ï¼Œæ€§èƒ½æä½ï¼Œæ˜¯å…¸å‹çš„å¹¶å‘ç“¶é¢ˆã€‚ ConcurrentHashMap çš„è®¾è®¡ç›®æ ‡å°±æ˜¯åœ¨ä¿è¯çº¿ç¨‹å®‰å…¨çš„åŒæ—¶ï¼Œå®ç°æœ€å¤§é™åº¦çš„å¹¶å‘è¯»å†™ã€‚\n\n1.2 æ ¸å¿ƒæ€æƒ³ï¼šé”ç²’åº¦çš„æ¼”è¿›ConcurrentHashMap çš„é«˜æ€§èƒ½ç§˜è¯€åœ¨äºå…¶ä¸æ–­ä¼˜åŒ–çš„â€œé”åˆ†ç¦»â€æ€æƒ³ï¼Œå³å‡å°é”çš„ç²’åº¦ï¼Œå…è®¸å¤šä¸ªçº¿ç¨‹åœ¨ä¸åŒæ•°æ®æ®µä¸Šå¹¶è¡Œæ“ä½œã€‚\n1.3 Java 1.7: åˆ†æ®µé” (Segmentation)åœ¨Java 1.7åŠæ›´æ—©ç‰ˆæœ¬ä¸­ï¼ŒConcurrentHashMap ç”±ä¸€ä¸ª Segment æ•°ç»„å’Œå¤šä¸ª HashEntry æ•°ç»„æ„æˆã€‚\n\nç»“æ„: ConcurrentHashMap -&gt; Segment[] -&gt; HashEntry[]ã€‚\nSegment: æ¯ä¸ª Segment æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè‡ªå¸¦é”ï¼ˆReentrantLockï¼‰çš„å°å‹å“ˆå¸Œè¡¨ã€‚\nå·¥ä½œæ–¹å¼: å¯¹æ•°æ®æ“ä½œæ—¶ï¼Œé¦–å…ˆæ ¹æ®keyçš„å“ˆå¸Œå€¼å®šä½åˆ°æŸä¸ªSegmentï¼Œç„¶ååªé”å®šè¯¥Segmentè¿›è¡Œæ“ä½œã€‚\nä¼˜åŠ¿: åªè¦çº¿ç¨‹æ“ä½œçš„keyä¸å±äºåŒä¸€ä¸ªSegmentï¼Œå®ƒä»¬å°±å¯ä»¥å¹¶è¡Œæ‰§è¡Œï¼Œå¹¶å‘åº¦é»˜è®¤ä¸º16ã€‚\nåŠ£åŠ¿: size() è®¡ç®—å¤æ‚ä¸”å¼€é”€å¤§ï¼›é”çš„ç²’åº¦ä»ç„¶ç›¸å¯¹è¾ƒç²—ã€‚\n\n1.4 Java 1.8+: CAS + å“ˆå¸Œæ¡¶é”ä»Java 1.8å¼€å§‹ï¼ŒSegment çš„è®¾è®¡è¢«åºŸå¼ƒï¼Œè½¬è€Œé‡‡ç”¨æ›´ç»†ç²’åº¦çš„é”æœºåˆ¶ã€‚\n\nç»“æ„: å†…éƒ¨ç»“æ„ä¸ HashMap ç±»ä¼¼ï¼Œä¸ºâ€œæ•°ç»„ + é“¾è¡¨ &#x2F; çº¢é»‘æ ‘â€ã€‚\nå·¥ä½œæ–¹å¼:\næ— é”æ“ä½œ: åœ¨å‘å“ˆå¸Œæ¡¶ï¼ˆæ•°ç»„çš„æŸä¸ªæ§½ä½ï¼‰æ”¾å…¥ç¬¬ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œä½¿ç”¨æ— é”çš„CASï¼ˆCompare-And-Swapï¼‰æ“ä½œï¼Œé¿å…äº†æ— ç«äº‰æƒ…å†µä¸‹çš„åŠ é”å¼€é”€ã€‚\nå“ˆå¸Œæ¡¶é”: å½“å¤šä¸ªçº¿ç¨‹éœ€è¦ä¿®æ”¹åŒä¸€ä¸ªå“ˆå¸Œæ¡¶ï¼ˆå³å‘ç”Ÿå“ˆå¸Œå†²çªï¼‰æ—¶ï¼Œä½¿ç”¨ synchronized å…³é”®å­—é”å®šè¯¥å“ˆå¸Œæ¡¶çš„å¤´èŠ‚ç‚¹ã€‚é”çš„ç²’åº¦ä»â€œæ®µâ€ç¼©å°åˆ°äº†â€œæ¡¶â€ï¼Œæå¤§åœ°æå‡äº†å¹¶å‘åº¦ã€‚\næ— é”è¯»å–: get æ“ä½œå®Œå…¨ä¸åŠ é”ï¼Œåˆ©ç”¨ volatile ä¿è¯å†…å­˜å¯è§æ€§ï¼Œæ€§èƒ½æé«˜ã€‚\nçº¢é»‘æ ‘ä¼˜åŒ–: å½“å“ˆå¸Œæ¡¶å†…çš„é“¾è¡¨è¿‡é•¿æ—¶ï¼Œä¼šè½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œå°†ä¸¥é‡å†²çªæ—¶çš„æŸ¥è¯¢æ•ˆç‡ä» O(n) ä¼˜åŒ–åˆ° O(logn)ã€‚\n\n\n\nç¬¬äºŒéƒ¨åˆ†ï¼šæ„å»ºä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„SSEæ¨é€æœåŠ¡ç†è®ºç»“åˆå®è·µï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå…·ä½“çš„å¹¶å‘é—®é¢˜ã€‚\n2.1 ä¸šåŠ¡åœºæ™¯æˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªSSEï¼ˆServer-Sent Eventsï¼‰æœåŠ¡ï¼Œç”¨äºå‘ç‰¹å®šè®¾å¤‡ï¼ˆdeviceIdï¼‰çš„å¤šä¸ªå®¢æˆ·ç«¯ï¼ˆå¦‚å¤šä¸ªæµè§ˆå™¨æ ‡ç­¾é¡µï¼‰å®æ—¶æ¨é€æµå¼æ•°æ®ã€‚\n2.2 ä»£ç å®ç°@Componentpublic class SsePushService &#123;    // ä½¿ç”¨ConcurrentHashMapå­˜å‚¨æ¯ä¸ªè®¾å¤‡å¯¹åº”çš„Emitteråˆ—è¡¨    private final Map&lt;Long, List&lt;SseEmitter&gt;&gt; deviceEmitterMap = new ConcurrentHashMap&lt;&gt;();    public SseEmitter register(Long deviceId) &#123;        if (deviceId == null) &#123;            throw new IllegalArgumentException(&quot;deviceId cannot be null&quot;);        &#125;        SseEmitter emitter = new SseEmitter(0L); // æ°¸ä¸è¶…æ—¶        // å…³é”®ç‚¹1: ä½¿ç”¨computeIfAbsentä¿è¯åŸå­æ€§åœ°åˆ›å»ºList        // å…³é”®ç‚¹2: Listçš„å®ç°é€‰æ‹©äº†CopyOnWriteArrayList        deviceEmitterMap.computeIfAbsent(deviceId, k -&gt; new CopyOnWriteArrayList&lt;&gt;()).add(emitter);        // å…³é”®ç‚¹3: åœ¨è¿æ¥ç»ˆæ­¢æ—¶ï¼Œä»Listä¸­ç§»é™¤Emitter        Runnable removeEmitter = () -&gt; &#123;            List&lt;SseEmitter&gt; emitters = deviceEmitterMap.get(deviceId);            if (emitters != null) &#123;                emitters.remove(emitter);            &#125;        &#125;;        emitter.onCompletion(removeEmitter);        emitter.onTimeout(removeEmitter);        emitter.onError(e -&gt; removeEmitter.run());                return emitter;    &#125;    public void pushToDevice(Long deviceId, StreamDataShowDto data) &#123;        List&lt;SseEmitter&gt; emitters = deviceEmitterMap.getOrDefault(deviceId, Collections.emptyList());        // å…³é”®ç‚¹4: éå†Listè¿›è¡Œæ¨é€        for (SseEmitter emitter : emitters) &#123;            try &#123;                emitter.send(data, MediaType.APPLICATION_JSON);            &#125; catch (IOException e) &#123;                emitter.completeWithError(e);            &#125;        &#125;    &#125;&#125;\n\n2.3 æ ¸å¿ƒå¹¶å‘æŒ‘æˆ˜ï¼šè¿­ä»£æ—¶ä¿®æ”¹æ­¤ä»£ç å­˜åœ¨ä¸€ä¸ªå…¸å‹çš„å¹¶å‘å†²çªï¼š\n\nè¿­ä»£çº¿ç¨‹: pushToDevice æ–¹æ³•ä¸­çš„ for å¾ªç¯ä¼šéå†æŸä¸ª deviceId å¯¹åº”çš„ Listã€‚\nä¿®æ”¹çº¿ç¨‹: å½“å®¢æˆ·ç«¯è¿æ¥æ–­å¼€ã€è¶…æ—¶æˆ–å‡ºé”™æ—¶ï¼ŒWebæœåŠ¡å™¨çš„I&#x2F;Oçº¿ç¨‹ä¼šæ‰§è¡Œ onCompletion&#x2F;onTimeout&#x2F;onError å›è°ƒï¼Œè¿›è€Œè°ƒç”¨ list.remove() ä¿®æ”¹åŒä¸€ä¸ª Listã€‚\n\nä¸€ä¸ªçº¿ç¨‹æ­£åœ¨éå†é›†åˆï¼Œè€Œå¦ä¸€ä¸ªçº¿ç¨‹åŒæ—¶åœ¨ä¿®æ”¹å®ƒï¼Œè¿™æ˜¯å¹¶å‘ç¼–ç¨‹ä¸­çš„ç»å…¸éš¾é¢˜ã€‚\nç¬¬ä¸‰éƒ¨åˆ†ï¼šè¿­ä»£å®‰å…¨çš„è§£å†³æ–¹æ¡ˆ - CopyOnWriteArrayListåœ¨ä¸Šè¿°ä»£ç ä¸­ï¼ŒCopyOnWriteArrayList æ˜¯è§£å†³é—®é¢˜çš„â€œé“¶å¼¹â€ã€‚\n3.1 å·¥ä½œåŸç†ï¼šå†™æ—¶å¤åˆ¶ (Copy-on-Write)\nè¯»æ“ä½œï¼ˆè¿­ä»£ï¼‰: è¯»å–æ˜¯æ— é”çš„ã€‚è·å–è¿­ä»£å™¨æ—¶ï¼Œå®ƒä¼šå¼•ç”¨ä¸€ä¸ªæŒ‡å‘åº•å±‚æ•°ç»„çš„å¿«ç…§ã€‚åç»­ä»»ä½•å¯¹åˆ—è¡¨çš„ä¿®æ”¹éƒ½ä¸ä¼šå½±å“è¿™ä¸ªå¿«ç…§ï¼Œè¿­ä»£å™¨å°†å®‰å…¨åœ°éå†å®Œåˆ›å»ºå®ƒé‚£ä¸€åˆ»çš„æ•°æ®ã€‚\nå†™æ“ä½œï¼ˆadd&#x2F;removeï¼‰: å†™å…¥æ˜¯åŠ é”çš„ã€‚å®ƒä¼šå®Œæ•´åœ°å¤åˆ¶ä¸€ä»½åº•å±‚æ•°ç»„ï¼Œåœ¨æ–°æ•°ç»„ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œç„¶ååŸå­æ€§åœ°å°†å†…éƒ¨æŒ‡é’ˆæŒ‡å‘æ–°æ•°ç»„ã€‚\n\n3.2 ä¸ºä»€ä¹ˆå®ƒæ˜¯æœ€ä½³é€‰æ‹©\nè¿­ä»£ç»å¯¹å®‰å…¨: ç”±äºè¯»å†™åˆ†ç¦»ï¼Œè¿­ä»£å™¨æ°¸è¿œä¸ä¼šæ„ŸçŸ¥åˆ°åç»­çš„ä¿®æ”¹ï¼Œå› æ­¤**ç»å¯¹ä¸ä¼šæŠ›å‡º ConcurrentModificationException**ã€‚\né«˜å¹¶å‘è¯»å–: è¯»æ“ä½œæ— é”ï¼Œæ€§èƒ½æé«˜ã€‚å¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶ã€å®‰å…¨åœ°éå†åˆ—è¡¨ã€‚\né€‚ç”¨åœºæ™¯åŒ¹é…: SSEåœºæ™¯æ˜¯å…¸å‹çš„â€œè¯»å¤šå†™å°‘â€ã€‚æ¨é€æ¶ˆæ¯ï¼ˆè¯»ï¼‰éå¸¸é¢‘ç¹ï¼Œè€Œå®¢æˆ·ç«¯è¿æ¥&#x2F;æ–­å¼€ï¼ˆå†™ï¼‰ç›¸å¯¹è¾ƒå°‘ã€‚è¿™ä½¿å¾—CopyOnWriteArrayListé«˜æ˜‚çš„å†™æˆæœ¬å¯ä»¥è¢«æ¥å—ã€‚\n\n\nç¬¬å››éƒ¨åˆ†ï¼šä¸ºä»€ä¹ˆå…¶ä»–Listä¸è¡Œï¼Ÿè‹¥ä¸ä½¿ç”¨ CopyOnWriteArrayListï¼Œè€Œä½¿ç”¨å…¶ä»–Listï¼Œå°†ä¼šå¯¼è‡´ä¸¥é‡é—®é¢˜ã€‚\n4.1 ArrayListï¼šéçº¿ç¨‹å®‰å…¨ç›´æ¥ä½¿ç”¨ ArrayList ä¼šåœ¨å¹¶å‘ä¿®æ”¹æ—¶ç«‹å³æŠ›å‡º ConcurrentModificationExceptionï¼Œæˆ–é€ æˆæ•°æ®ä¸ä¸€è‡´ï¼Œæ˜¯å®Œå…¨ä¸å¯è¡Œçš„ã€‚\n4.2 synchronizedListï¼šæ–¹æ³•çº§åŒæ­¥çš„å±€é™æ€§Collections.synchronizedList() æä¾›äº†æ–¹æ³•çº§åˆ«çš„åŒæ­¥ï¼Œä½†è¿™å¹¶ä¸èƒ½è§£å†³â€œè¿­ä»£æ—¶ä¿®æ”¹â€çš„é—®é¢˜ã€‚\n4.2.1 foreach å¾ªç¯çš„é™·é˜±foreach å¾ªç¯åœ¨åº•å±‚ä¾èµ– Iteratorã€‚å®ƒçš„ hasNext() å’Œ next() æ–¹æ³•è°ƒç”¨ä¹‹é—´å­˜åœ¨æ‰§è¡Œé—´éš™ã€‚\n\néå†çº¿ç¨‹è°ƒç”¨ iterator.hasNext() (åŠ é”-&gt;æ£€æŸ¥-&gt;è§£é”)ã€‚\nä¿®æ”¹çº¿ç¨‹ä¹˜è™šè€Œå…¥ï¼Œè°ƒç”¨ list.remove() (åŠ é”-&gt;ä¿®æ”¹-&gt;è§£é”)ã€‚\néå†çº¿ç¨‹å†è°ƒç”¨ iterator.next() (åŠ é”-&gt;æ£€æŸ¥å‘ç°modCountä¸ä¸€è‡´-&gt;æŠ›å‡ºConcurrentModificationException!)ã€‚ synchronizedList ä¿è¯äº†å•æ­¥æ“ä½œçš„å®‰å…¨ï¼Œä½†æ— æ³•ä¿è¯å¤åˆæ“ä½œï¼ˆæ•´ä¸ªéå†è¿‡ç¨‹ï¼‰çš„å®‰å…¨ã€‚\n\n4.2.2 for-i å¾ªç¯ï¼šæ›´å±é™©çš„æ·±æ¸Šæœ‰äººå¯èƒ½ä¼šå°è¯•ç”¨ for(int i = 0; i &lt; list.size(); i++) è§„é¿ Iteratorã€‚è¿™ç§åšæ³•æ›´å±é™©ï¼Œå› ä¸ºå®ƒç”¨æ•°æ®é”™ä¹±ä»£æ›¿äº†æ˜ç¡®çš„å¼‚å¸¸ã€‚\n\nè·³è¿‡å…ƒç´ : å¦‚æœåœ¨éå†æ—¶ï¼Œä¸€ä¸ªé å‰çš„å…ƒç´ è¢«ç§»é™¤ï¼Œåé¢çš„å…ƒç´ ç´¢å¼•ä¼šå‰ç§»ï¼Œè€Œå¾ªç¯å˜é‡ i æ­£å¸¸é€’å¢ï¼Œå¯¼è‡´ä¸€ä¸ªå…ƒç´ è¢«æ°¸ä¹…è·³è¿‡ã€‚\nIndexOutOfBoundsException: å¦‚æœåœ¨å¾ªç¯å³å°†ç»“æŸæ—¶ï¼Œæœ«å°¾çš„å…ƒç´ è¢«ç§»é™¤ï¼Œlist.get(i) å¯èƒ½ä¼šè®¿é—®ä¸€ä¸ªä¸å†å­˜åœ¨çš„ç´¢å¼•ï¼Œå¯¼è‡´å¼‚å¸¸ã€‚\n\nConcurrentModificationException æ˜¯ä¸€ç§â€œå¿«é€Ÿå¤±è´¥â€æœºåˆ¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªæœ‰ç›Šçš„è­¦æŠ¥ã€‚è€Œ for-i å¾ªç¯çš„â€œæ‚„æ‚„å¤±è´¥â€åˆ™ä¼šå°†Bugéšè—èµ·æ¥ï¼Œå¯¼è‡´éš¾ä»¥è¿½è¸ªçš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚\næ€»ç»“ä¸å»ºè®®é€‰æ‹©æ­£ç¡®çš„å¹¶å‘é›†åˆæ˜¯æ„å»ºå¥å£®Javaåº”ç”¨çš„åŸºç¡€ã€‚\n\né»˜è®¤ä½¿ç”¨ ConcurrentHashMap: åœ¨éœ€è¦çº¿ç¨‹å®‰å…¨çš„Mapæ—¶ï¼Œå®ƒå‡ ä¹æ°¸è¿œæ˜¯ä½ çš„æœ€ä½³é€‰æ‹©ã€‚\nç†è§£CopyOnWriteArrayListçš„åœºæ™¯: å½“ä½ éœ€è¦ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„Listï¼Œä¸”é¢ä¸´â€œé«˜é¢‘è¯»å–&#x2F;éå†â€å’Œâ€œä½é¢‘å†™å…¥&#x2F;ä¿®æ”¹â€çš„åœºæ™¯æ—¶ï¼ŒCopyOnWriteArrayList æ˜¯å®Œç¾çš„è§£å†³æ–¹æ¡ˆã€‚\næ…ç”¨ synchronizedList: å®ƒä»…é€‚ç”¨äºä¿æŠ¤ç®€å•çš„ã€éå¤åˆçš„å•æ­¥æ“ä½œã€‚ç»ä¸èƒ½æƒ³å½“ç„¶åœ°è®¤ä¸ºå®ƒèƒ½ä¿è¯éå†ç­‰å¤æ‚æ“ä½œçš„çº¿ç¨‹å®‰å…¨ã€‚\næ‹¥æŠ±â€œå¿«é€Ÿå¤±è´¥â€: ConcurrentModificationException ä¸æ˜¯æ•Œäººï¼Œè€Œæ˜¯æœ‹å‹ã€‚å®ƒåœ¨å¸®åŠ©ä½ ç¬¬ä¸€æ—¶é—´å‘ç°å¹¶å‘è®¾è®¡ä¸­çš„ç¼ºé™·ã€‚\n\n","tags":["Java","å¹¶å‘"]},{"title":"åŸºäºMiraiçš„å¥åº·ç³»ç»Ÿå‚¬ç­¾åˆ°ä»¥åŠä¿¡æ¯æ¨é€æœºå™¨äºº","url":"/2021/09/f9e657a65597.html","content":"ä½¿ç”¨æ–¹æ³•\nå‚¬ç­¾åˆ°åŠŸèƒ½(è¯¦ç»†ä»‹ç»å›å¤â€œå‚¬ç­¾åˆ°ä»‹ç»â€)ï¼š\n\n\nç¾¤é‡Œå‘é€ï¼šâ€å‚¬ç­¾åˆ°â€\nç¾¤é‡Œå‘é€ï¼š@botâ€ç™»å½•â€\n\n\nä¿¡æ¯æ¨é€åŠŸèƒ½(è¯¦ç»†ä»‹ç»å›å¤â€œä¿¡æ¯æ¨é€ä»‹ç»â€): \nç¾¤é‡Œæˆ–è€…ç§èŠå‘é€:â€æ·»åŠ æ¨é€å¥½å‹:å¥½å‹qqå·â€\nç¾¤é‡Œæˆ–è€…ç§èŠå‘é€:â€åˆ é™¤æ¨é€å¥½å‹:å¥½å‹qqå·â€\nç¾¤é‡Œæˆ–è€…ç§èŠå‘é€:â€æ·»åŠ æ¨é€å­ç¾¤:qqç¾¤å·â€\nç¾¤é‡Œæˆ–è€…ç§èŠå‘é€:â€åˆ é™¤æ¨é€å­ç¾¤:qqç¾¤å·â€\nç¾¤é‡Œæˆ–è€…ç§èŠå‘é€:â€æŸ¥çœ‹æ¨é€ç›®æ ‡â€\nç¾¤é‡Œæˆ–è€…ç§èŠå‘é€:â€å¼€å§‹æ¨é€â€\nç¾¤é‡Œæˆ–è€…ç§èŠå‘é€:â€ç»“æŸæ¨é€â€\nç¾¤é‡Œ@å…¨ä½“æˆå‘˜è‡ªåŠ¨æ¨é€\n\n\næŸ¥çœ‹ä½¿ç”¨æ–¹æ³•:\n\n\nç¾¤é‡Œæˆ–è€…ç§èŠå‘é€:â€ä½¿ç”¨æ–¹æ³•â€,æˆ–è€…ç›´æ¥æˆ³ä¸€æˆ³æœºå™¨äºº\n\n\nåŠ¨æ€å¼€å¯ä»¥ä¸ŠåŠŸèƒ½(ä»…é™æœºå™¨äººmaster)\n\n\nå¼€å¯&#x2F;å…³é—­å‚¬ç­¾åˆ°åŠŸèƒ½\nå¼€å¯&#x2F;å…³é—­è‡ªåŠ¨å‚¬ç­¾åˆ°\nå¼€å¯&#x2F;å…³é—­ç™»å½•\nå¼€å¯&#x2F;å…³é—­åŠ å¥½å‹\nå¼€å¯&#x2F;å…³é—­åŠ ç¾¤\nå¼€å¯&#x2F;å…³é—­ä¿¡æ¯æ¨é€\n\n\næœºå™¨äººç®¡ç†å‘½ä»¤(ä»…é™æœºå™¨äººmaster):\næŸ¥çœ‹çŠ¶æ€å‘½ä»¤:&#x2F;status\næŸ¥çœ‹æ–‡ä»¶å¤¹å‘½ä»¤:&#x2F;æŸ¥çœ‹æ–‡ä»¶å¤¹  æ–‡ä»¶å¤¹\næŸ¥çœ‹æ–‡ä»¶å†…å®¹å‘½ä»¤:&#x2F;æŸ¥çœ‹æ–‡ä»¶ æ–‡ä»¶å¤¹ æ–‡ä»¶\nåˆ é™¤æ–‡ä»¶å¤¹å‘½ä»¤:&#x2F;åˆ é™¤æ–‡ä»¶å¤¹ æ–‡ä»¶\nåˆ é™¤æ–‡ä»¶å‘½ä»¤:&#x2F;åˆ é™¤æ–‡ä»¶ æ–‡ä»¶å¤¹ æ–‡ä»¶\né€šçŸ¥å‘½ä»¤:&#x2F;é€šçŸ¥ é€šçŸ¥å†…å®¹\n\n\n\nå‚¬ç­¾åˆ°åŠŸèƒ½ä»‹ç»é¢å‘ç”¨æˆ·æˆéƒ½å¸ˆèŒƒå­¦é™¢(æš‚æ—¶æœªé€‚é…å…¶ä»–å­¦æ ¡)\næ¨¡å—\næ‰‹åŠ¨å‚¬ç­¾åˆ°æ¨¡å—:\nåœ¨ç¾¤é‡Œå‘é€â€å‚¬ç­¾åˆ°â€,æœºå™¨äººå°†ä¼š@æœªç­¾åˆ°çš„åŒå­¦ï¼Œ@ä¿¡æ¯å°†ä¼šåœ¨90åˆ†é’Ÿåè‡ªåŠ¨æ’¤å›\n\n\nè‡ªåŠ¨å‚¬ç­¾åˆ°æ¨¡å—:\næœºå™¨äººå°†åœ¨æ¯å¤©çš„9.00,11.00,12.00,13.00,14.00,15.00è‡ªåŠ¨@æœªç­¾åˆ°åŒå­¦\n\n\nç™»å½•æ¨¡å— :\nåœ¨ç¾¤é‡Œ@æœºå™¨äººå¹¶å›å¤ç™»å½•è¿›è¡Œç™»å½•ï¼Œç™»å½•æˆåŠŸåæ‰å¯è¿›è¡Œå‚¬ç­¾åˆ°ï¼Œå½“å¤šäººåŒæ—¶è¿›è¡Œç™»å½•æ—¶ï¼Œå¯èƒ½éœ€è¦è¿›è¡Œæ’é˜Ÿç­‰å¾…ï¼Œæ ¹æ®æç¤ºæ“ä½œå³å¯ã€‚\n\n\n\nä½¿ç”¨æ–¹æ³•\nè”ç³»æˆ‘(1597081640)ï¼Œæä¾›æ‚¨çš„å­¦é™¢ï¼Œä¸“ä¸šä¿¡æ¯ï¼Œä»¥åŠè¾…å¯¼å‘˜å¥åº·ç³»ç»Ÿçš„è´¦å·å’Œå¯†ç  \nç­‰å¾…æˆ‘æ·»åŠ é…ç½®æ–‡ä»¶åï¼Œå°†æœºå™¨äººæ‹‰å…¥å­¦é™¢æˆ–ç­çº§æˆ–ä¸“ä¸šç¾¤ \n@æœºå™¨äººâ€ç™»å½•â€,è¿›è¡Œé¦–æ¬¡ç™»å½• \nç™»å½•å®Œæˆåå³å¯ä½¿ç”¨\n\n\næ³¨:ç›®å‰ä»…é€‚é…æˆéƒ½å¸ˆèŒƒå­¦é™¢\n\nä¿¡æ¯æ¨é€åŠŸèƒ½ä»‹ç»é¢å‘ç”¨æˆ·ç¤¾å›¢éƒ¨é—¨è´Ÿè´£äººï¼Œè¾…å¯¼å‘˜ï¼Œç­å§”ï¼Œå¹²äº‹ï¼Œå¸Œæœ›å¯¹å¤šä¸ªç¾¤ä¿¡æ¯è¿›è¡Œæ•´åˆçš„åŒå­¦\nä½¿ç”¨æƒ…æ™¯\nå½“ä½ éœ€è¦å‘é€é€šçŸ¥æ—¶ï¼Œä½ æ˜¯å¦å› ä¸ºè¦é€šçŸ¥å¤šä¸ªç¾¤ï¼Œè€Œè¿›è¡Œé‡å¤çš„å¤åˆ¶ç²˜è´´ï¼Œä½¿ç”¨ä¿¡æ¯æ¨é€åŠŸèƒ½ï¼Œä½ åªéœ€å‘æœºå™¨äººå‘é€ä¸€æ¬¡é€šçŸ¥ï¼Œæœºå™¨äººä¾¿å¯ä»¥å°†é€šçŸ¥ä¿¡æ¯å‘ç»™ä½ éœ€è¦é€šçŸ¥çš„æ‰€æœ‰ç¾¤ï¼Œå…·ä½“æ“ä½œè¯·çœ‹ä»¥ä¸‹åŠ¨å›¾\n\n\n\nä½ æ˜¯å¦å› ä¸ºé€šçŸ¥ç¾¤å¤ªå¤šæ—¶å¸¸ç½®é¡¶åå‡ ä¸ªç¾¤ï¼Ÿä½¿ç”¨ä¿¡æ¯æ¨é€åŠŸèƒ½ï¼Œæœºå™¨äººå°†ä¼šæŠŠå„é€šçŸ¥ç¾¤é‡Œçš„ä¿¡æ¯åˆå¹¶æ¨é€ç»™ä½ (è¿™éœ€è¦æ„å»ºä¸€ä¸ªç”Ÿæ€)ï¼Œä½ åªéœ€è¦æŸ¥çœ‹æœºå™¨äººç»™ä½ å‘é€çš„ä¿¡æ¯å³å¯ï¼å…·ä½“æ“ä½œè¯·çœ‹ä»¥ä¸‹åŠ¨å›¾\n\n\n\nå°†ä¸“ä¸šç¾¤é‡Œé…ç½®ç­çº§å°ç¾¤@å…¨ä½“åŒå­¦çš„é‡è¦ä¿¡æ¯è‡ªåŠ¨æ¨é€åˆ°é…ç½®çš„ç­çº§å°ç¾¤\n\nä½¿ç”¨æ–¹æ³•(å»ºè®®å…ˆäº†è§£ä¸‹é¢çš„å‡ ä¸ªåè¯)\nå…ˆç¡®å®šä½ è¦ä»¥æ€æ ·çš„å½¢å¼è¿›è¡Œä¿¡æ¯æ¨é€ï¼Œåœ¨ç¾¤é‡Œè¿›è¡Œä¿¡æ¯æ¨é€ï¼Ÿæˆ–è€…ç§èŠæœºå™¨äººè¿›è¡Œä¿¡æ¯æ¨é€\nè®¾ç½®æ¨é€å¯¹è±¡ï¼Œç¾¤é‡Œæˆ–è€…ç§èŠå‘é€ï¼šâ€œæ·»åŠ æ¨é€å­ç¾¤:qqç¾¤å·â€ï¼Œâ€œæ·»åŠ æ¨é€å¥½å‹:å¥½å‹qqå·â€\nç¾¤é‡Œæˆ–è€…ç§èŠå‘é€ï¼šâ€œå¼€å§‹æ¨é€â€ï¼Œå¼€å¯ä¿¡æ¯æ¨é€\nç¾¤é‡Œæˆ–è€…ç§èŠå‘é€â€œç»“æŸæ¨é€â€ï¼Œç»“æŸä¿¡æ¯æ¨é€\nä¸€æ—¦åœ¨ç¾¤é‡Œé…ç½®äº†æ¨é€ç›®æ ‡ï¼Œ@å…¨ä½“æˆå‘˜çš„ä¿¡æ¯å°±ä¼šè‡ªåŠ¨æ¨é€åˆ°æ¨é€ç›®æ ‡\nå¦‚æœéœ€è¦åˆ é™¤å­ç¾¤æˆ–è€…æ¨é€å¥½å‹ç§èŠå‘é€ï¼šâ€œåˆ é™¤æ¨é€å­ç¾¤:qqç¾¤å·â€æ¥åˆ é™¤å­ç¾¤;â€œåˆ é™¤æ¨é€å¥½å‹:å¥½å‹qqå·â€æ¥åˆ é™¤æ¨é€å¥½å‹\n\nè¡¥å……åŸºç¡€åè¯ä¿¡æ¯æº,å¾…æ¨é€ä¿¡æ¯ï¼Œæ¨é€ç›®æ ‡\n\nä¿¡æ¯æº:æŒ‡å¾…æ¨é€ä¿¡æ¯çš„æ¥æºï¼Œå¯ä»¥ä¸ºä¸€ä¸ªç¾¤ï¼Œå’Œä¸ªäººã€‚å½“ä½ åœ¨ç¾¤é‡Œè¿›è¡Œä¿¡æ¯æ¨é€æ—¶ï¼Œä¿¡æ¯æºå°±æ˜¯è¯¥ç¾¤ï¼Œå½“ä½ åœ¨æ‰“å¼€å’Œæœºå™¨äººçš„èŠå¤©çª—å£è¿›è¡Œä¿¡æ¯æ¨é€æ—¶ï¼Œä¿¡æ¯æºå°±æ˜¯ä½ æœ¬äººã€‚ \nå¾…æ¨é€ä¿¡æ¯:æ”¯æŒæ™®é€šæ–‡æœ¬ï¼Œå›¾ç‰‡ï¼Œæ–‡ä»¶(ç›®å‰ä»…æ”¯æŒç¾¤-&gt;ç¾¤),è¯­éŸ³(ç›®å‰ä»…æ”¯æŒæœ¬äºº-&gt;å¥½å‹ï¼Œç¾¤-&gt;ç¾¤) \næ¨é€ç›®æ ‡ï¼šç¾¤å’Œå¥½å‹\n\n\næ³¨:ä¿¡æ¯æºå’Œæ¨é€ç›®æ ‡æ˜¯é€šè¿‡æœºå™¨äººè”ç³»èµ·æ¥çš„ï¼Œå°†å¾…æ¨é€ä¿¡æ¯ä»ç¾¤-&gt;ç¾¤ï¼Œç¾¤-&gt;å¥½å‹ï¼Œæœ¬äºº-&gt;å¥½å‹ã€‚æ‰€ä»¥éœ€è¦é‚€è¯·æœºå™¨äººè¿›å…¥ç¾¤ï¼ŒåŠ æœºå™¨äººä¸ºå¥½å‹ã€‚å¸Œæœ›ä½ æˆ‘ä¸€èµ·æ„å»ºä¿¡æ¯æ¨é€çš„ç”Ÿæ€\n\n","categories":["ä¸ªäººé¡¹ç›®"],"tags":["mirai","qqæœºå™¨äºº"]},{"title":"è®°å½•ä¸€æ¬¡åšå®¢æŠ˜è…¾","url":"/2024/11/d69d3978dd5d.html","content":"ä½¿ç”¨çš„æŠ€æœ¯\nhexo+github pagesé™æ€æ‰˜ç®¡+è¯­é›€å†™markdown+github actionsè‡ªåŠ¨åŒ–éƒ¨ç½²+è…¾è®¯äº‘coså›¾ç‰‡å­˜å‚¨+hexo-yuque\n\næŠ€æœ¯ç‚¹ä»‹ç»\nhexo\n\nå¿«é€Ÿç®€æ´é«˜æ•ˆ,å¤šæ’ä»¶,å¤šä¸»é¢˜,åŸºäºnode.jsçš„åšå®¢æ¡†æ¶ã€‚æˆ‘ä»¬ä½¿ç”¨å®ƒæ¥æ­å»ºæˆ‘ä»¬çš„åšå®¢ã€‚\n\n\ngithub pages\n\ngithubæä¾›çš„é™æ€é¡µé¢,æ‚¨å’Œæ‚¨çš„é¡¹ç›®çš„ç½‘ç«™ã€‚ç›´æ¥ä»æ‚¨çš„GitHubå­˜å‚¨åº“æ‰˜ç®¡ã€‚åªéœ€ç¼–è¾‘ã€æ¨é€ï¼Œæ‚¨çš„æ›´æ”¹å°±ä¼šå®æ—¶è¿›è¡Œæ›´æ–°ã€‚æˆ‘ä»¬ä½¿ç”¨å®ƒæ¥è¿›è¡Œåšå®¢ç½‘ç«™æ‰˜ç®¡(ç™½å«–githubæœåŠ¡å™¨)\n\n\nè¯­é›€\n\næ–°ä¸€ä»£äº‘ç«¯çŸ¥è¯†åº“ï¼Œè¯­é›€è‡ªç ”ç¼–è¾‘å™¨ï¼Œæ”¯æŒæ–‡æ¡£ã€è¡¨æ ¼ã€æ¼”ç¤ºæ–‡ç¨¿ã€ç»˜å›¾å››å¤§æ–‡ç¨¿ç±»å‹ï¼Œå…·å¤‡ Markdownã€ä»£ç å—ã€LaTeX å…¬å¼ã€PlantUML ç­‰ä¸“ä¸šç¼–è¾‘èƒ½åŠ›ï¼ŒåŒæ—¶æ”¯æŒæœ¬åœ°è§†é¢‘ã€Office æ–‡ä»¶ã€PDF æ–‡ä»¶ç­‰å†…å®¹çš„ä¸Šä¼ ä¸åœ¨çº¿é¢„è§ˆï¼Œå¯æ»¡è¶³å¤šç§ä¸“ä¸šå²—ä½éœ€æ±‚ï¼Œè®©åˆ›ä½œæ›´é«˜æ•ˆã€‚æˆ‘ä»¬ä½¿ç”¨è¯­é›€æ¥è¿›è¡Œåšå®¢æ–‡ç« çš„ç¼–å†™ã€‚\n\n\ngithub actions\n\nGitHub Actions å¯è®©æ‚¨è½»æ¾è‡ªåŠ¨åŒ–æ‰€æœ‰è½¯ä»¶å·¥ä½œæµç¨‹ï¼Œç›´æ¥ä» GitHub æ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²æ‚¨çš„ä»£ç ã€‚æˆ‘ä»¬ä½¿ç”¨å®ƒæ¥è®²åšå®¢æºç è‡ªåŠ¨åŒ–éƒ¨ç½²åˆ°github psges\n\n\nè…¾è®¯äº‘cos\n\nå®‰å…¨ç¨³å®šã€ä½æˆæœ¬çš„æµ·é‡äº‘ç«¯å­˜å‚¨æœåŠ¡,æˆ‘ä»¬ç”¨å®ƒæ¥å­˜å‚¨å›¾ç‰‡\n\n\nhexo-yuque\n\nA downloader for articles from yuqueï¼ˆè¯­é›€çŸ¥è¯†åº“åŒæ­¥å·¥å…·ï¼‰æˆ‘ä»¬ä½¿ç”¨å®ƒå°†è®°å½•åœ¨è¯­é›€ä¸Šçš„åšå®¢åŒæ­¥åˆ°åšå®¢ä¸­\n\n\n\næŠ€æœ¯ç‚¹ä¹‹é—´çš„è”ç³»","categories":["æ‚æ–‡"],"tags":["blog"]},{"title":"2024-Oceanbaseæ•°æ®åº“å¤§èµ›æ€»ç»“","url":"/2025/03/98435b47a7a2.html","content":"å‰è¨€æˆ‘æœ‰å¹¸å‚åŠ äº† 2024 Oceanbase æ•°æ®åº“å¤§èµ›ï¼Œåœ¨åˆèµ›ä¸­ä» 1212 åå‚èµ›è€…ä¸­è„±é¢–è€Œå‡ºï¼Œè·å¾—ç¬¬ 30 åçš„æˆç»©ï¼ŒæˆåŠŸæ™‹çº§å†³èµ›ã€‚åœ¨å†³èµ›é˜¶æ®µï¼Œæˆ‘ä»¬å›¢é˜Ÿä¸€åº¦ä¿æŒåœ¨å‰åçš„ä½ç½®ï¼Œç„¶è€Œåœ¨æœ€åä¸€å‘¨ï¼Œç”±äºé¡¹ç›®ç»„çš„ç´§æ€¥ä»»åŠ¡å’ŒæœŸæœ«è€ƒè¯•çš„åŒé‡å‹åŠ›ï¼Œæˆ‘ä»¬æ”¾ç¼“äº†æ¯”èµ›èŠ‚å¥ã€‚çœ¼çœ‹æ’åå°šå¯ï¼Œæˆ‘ä»¬é€‰æ‹©äº†æš‚ç¼“æŠ•å…¥ï¼Œä¸æ–™åœ¨æœ€åä¸¤å¤©æ’åè¿…é€Ÿä¸‹æ»‘è‡³ç¬¬ 21 ä½ã€‚ä¸ºæŒ½å›å±€é¢ï¼Œæˆ‘ä»¬è¿›è¡Œäº†æœ€åä¸€æ¬¡æäº¤ï¼Œå´å› æµ‹è¯•çš„éšæœºæ€§å› ç´ ï¼Œè·å¾—äº†æ‰€æœ‰æäº¤ä¸­æœ€ä¸ç†æƒ³çš„ç»“æœï¼Œæœ€ç»ˆæ’åç¬¬ 24ï¼Œé—æ†¾åœ°ä¸äºŒåå¼ºæ“¦è‚©è€Œè¿‡ã€‚\nè¿™åœºæ¯”èµ›å†æ—¶çº¦ä¸¤ä¸ªæœˆï¼Œåˆ†ä¸ºåˆèµ›å’Œå†³èµ›ä¸¤ä¸ªé˜¶æ®µã€‚åˆèµ›åŸºäºå¼€æºçš„ MiniOB æ•°æ®åº“å¹³å°ï¼Œè¦æ±‚å‚èµ›è€…å®ç°æ•°æ®åº“çš„åŸºç¡€åŠŸèƒ½ï¼›å†³èµ›åˆ™åŸºäº Oceanbase ç¤¾åŒºç‰ˆæºç ï¼ŒæŒ‘æˆ˜æˆ‘ä»¬ä¼˜åŒ–ç°æœ‰çš„å‘é‡æ£€ç´¢æµç¨‹ï¼Œä»¥æå‡æ£€ç´¢æ•ˆç‡ã€‚\nåˆèµ›åœ¨åˆèµ›é˜¶æ®µï¼Œæˆ‘ä¸»è¦è´Ÿè´£å®ç°ä»¥ä¸‹æ•°æ®åº“æ ¸å¿ƒåŠŸèƒ½ï¼š\n\næ—¥æœŸç±»å‹çš„æ”¯æŒä¸å¤„ç†\n\nåŸºäº like&#x2F;not like å…³é”®å­—çš„æ¨¡ç³ŠåŒ¹é…åŠŸèƒ½\n\nè¡¨è¾¾å¼è®¡ç®—ä¸ä¼˜åŒ–\n\nèšåˆå‡½æ•°çš„è®¾è®¡ä¸å®ç°\n\nå¤šå­—æ®µç´¢å¼•çš„æ„å»ºä¸ç»´æŠ¤\n\nç®€å•åŠå¤æ‚å­æŸ¥è¯¢çš„å¤„ç†\n\nå”¯ä¸€ç´¢å¼•çš„å®ç°ä¸çº¦æŸ\n\nSQL æŸ¥è¯¢ä¸­çš„åˆ«åæ”¯æŒ\n\nå‘é‡ç´¢å¼•çš„è®¾è®¡ä¸å®ç°\n\nè§†å›¾(create view)çš„åˆ›å»ºä¸ç®¡ç†\n\n\nå†³èµ›å†³èµ›è®¾ç½®äº†å››ä¸ªå…³é”®ä¼˜åŒ–æŒ‡æ ‡ï¼š\n\nAnnbenchmark åŸºå‡†æµ‹è¯•ï¼šé’ˆå¯¹æ— è¿‡æ»¤æ¡ä»¶ã€limit å›ºå®šä¸º 10 çš„ä¸€ç³»åˆ—æŸ¥è¯¢ï¼Œä¼˜åŒ–æŸ¥è¯¢çš„æ¯ç§’å¤„ç†é‡(QPS)\n\nQ1 ä¼˜åŒ–ï¼šé’ˆå¯¹æ— è¿‡æ»¤æ¡ä»¶ä½† limit ä¸å›ºå®šçš„å‘é‡æŸ¥è¯¢\n\nQ2 ä¼˜åŒ–ï¼šé’ˆå¯¹æœ‰è¿‡æ»¤æ¡ä»¶(æŸ¥è¯¢ id åˆ—)ä¸” limit ä¸å›ºå®šçš„æŸ¥è¯¢\n\nQ3 ä¼˜åŒ–ï¼šé’ˆå¯¹æœ‰è¿‡æ»¤æ¡ä»¶(æŸ¥è¯¢ id åˆ—å’Œ col1 åˆ—)ä¸” limit ä¸å›ºå®šçš„æŸ¥è¯¢\n\n\næ”¶è·è¿™æ¬¡æ¯”èµ›è®©æˆ‘æ”¶è·é¢‡ä¸°ï¼Œæ·±å…¥å­¦ä¹ äº†å¤šæ–¹é¢çš„æ•°æ®åº“æŠ€æœ¯ï¼š\n\næ•°æ®åº“åº•å±‚æŸ¥è¯¢æ‰§è¡Œå¼•æ“çš„è®¾è®¡æ¨¡å‹ï¼ŒåŒ…æ‹¬ç«å±±æ¨¡å‹å’Œå‘é‡åŒ–æ‰§è¡Œå¼•æ“\n\nAI é¢†åŸŸå…³é”®æŠ€æœ¯â€”â€”å‘é‡æ£€ç´¢ï¼Œç‰¹åˆ«æ˜¯ HNSW ç®—æ³•ã€å‘é‡åº•å±‚å­˜å‚¨æœºåˆ¶ä»¥åŠå‘é‡ç´¢å¼•æ„å»ºæ–¹æ³•\n\nSQL å®Œæ•´æ‰§è¡Œæµç¨‹ï¼šä» SQL è§£æåˆ° ParseNodeï¼Œå†åˆ° Statementï¼Œç»§è€Œè½¬åŒ–ä¸ºé€»è¾‘è®¡åˆ’å’Œç‰©ç†è®¡åˆ’ï¼Œæœ€ç»ˆä»å­˜å‚¨å±‚æå–æ•°æ®åˆ°ä¸Šå±‚çš„å…¨è¿‡ç¨‹\n\nä»£ç æ€§èƒ½æµ‹è¯•æŠ€æœ¯ï¼Œå°¤å…¶æ˜¯ç«ç„°å›¾çš„åº”ç”¨\n\nä»£ç æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼ŒåŒ…æ‹¬ CPU ä¼˜åŒ–ã€ç¼“å­˜ä¼˜åŒ–å’Œ I&#x2F;O å‡å°‘\n\nå¤šçº¿ç¨‹ç¼–ç¨‹æŠ€æœ¯çš„å®è·µä¸å·©å›º\n\nC++åŸºç¡€è¯­æ³•çš„åº”ç”¨ä¸æå‡\n\nè¿‡æ»¤ä¸‹æ¨ç­‰é«˜çº§æŸ¥è¯¢ä¼˜åŒ–æŠ€æœ¯\n\n\né€šè¿‡è¿™æ¬¡æ¯”èµ›ï¼Œæˆ‘ä¸ä»…æå‡äº†æŠ€æœ¯èƒ½åŠ›ï¼Œä¹Ÿæ·±åˆ»ä½“ä¼šåˆ°äº†å›¢é˜Ÿåä½œå’Œæ—¶é—´ç®¡ç†çš„é‡è¦æ€§ã€‚è™½ç„¶ä¸ç†æƒ³çš„åæ¬¡æœ‰æ‰€å·®è·ï¼Œä½†è¿™æ®µç»å†æ— ç–‘ä¸ºæˆ‘çš„æŠ€æœ¯æˆé•¿å¥ å®šäº†åšå®åŸºç¡€ã€‚\n","categories":["Oceanbase"],"tags":["#Oceanbase","#æ•°æ®åº“","#æ¯”èµ›"]},{"title":"ç«å±±æ¨¡å‹å’Œæ•°æ®åº“å‘é‡åŒ–æ‰§è¡Œå¼•æ“","url":"/2025/03/5a4d92542c4f.html","content":"ç«å±±æ¨¡å‹å°†æŸ¥è¯¢è®¡åˆ’æ‹†è§£ä¸ºå¤šä¸ªç®—å­ï¼Œæ¯ä¸ªç®—å­æœ‰é€šç”¨çš„ä¸‰ä¸ªæ¥å£ï¼ˆopenï¼Œcloseï¼Œnextï¼‰ã€‚ä¸€ä¸ªæŸ¥è¯¢è®¡åˆ’è¢«ç®—å­ç»„æˆä¸€é¢—ç®—å­æ ‘ï¼Œç®—å­æ ‘å…ˆè‡ªé¡¶å‘ä¸‹çš„è°ƒç”¨ open æ¥å£æ‰“å¼€æ¯ä¸ªç®—å­ï¼Œç„¶åè°ƒç”¨ next è‡ªé¡¶å‘ä¸‹æ‹‰å–æ•°æ®ï¼Œæœ€åè°ƒç”¨ close è‡ªé¡¶å‘ä¸‹å…³é—­ç®—å­ã€‚\nä¸¾ä¸ªä¾‹å­\nSELECT name FROM users WHERE age &gt; 30;\n\nè¿™ä¸ªæŸ¥è¯¢è®¡åˆ’ä¼šè¢«æ‹†è§£ä¸ºé¡¶å±‚çš„ Projectï¼ˆæ˜ å°„ç®—å­ï¼Œè´Ÿè´£å°†ä¸‹å±‚çš„ä¸€è¡Œæ•°æ®æ˜ å°„å‡ºéœ€è¦çš„ name åˆ—çš„æ•°æ®ï¼‰ï¼ŒFilterï¼ˆè¿‡æ»¤ç®—å­ï¼Œç”¨äºè¿‡æ»¤ä¸‹å±‚çš„ä¸€è¡Œæ•°æ®ï¼Œåœ¨ä¾‹å­ä¸­ç”¨äºåˆ¤æ–­ age æ˜¯å¦å¤§äº 30ï¼‰ï¼ŒScanï¼ˆè¡¨æ‰«æç®—å­ï¼Œç”¨äºä»åº•å±‚è·å–ä¸€è¡Œæ•°æ®ï¼‰ã€‚\nå‘é‡åŒ–æ‰§è¡Œå¼•æ“å¯¹ç«å±±æ¨¡å‹çš„ä¼˜åŒ–ï¼Œåœ¨ç«å±±æ¨¡å‹ä¸­ next æ¥å£åªåå‡ºä¸€è¡Œæ•°æ®ï¼Œè€Œå‘é‡åŒ–æ‰§è¡Œå¼•æ“ä¸­ next æ¥å£è¿”å›çš„æ˜¯å¤šè¡Œæ•°æ®ã€‚æå‡äº†æ•´ä¸ªç³»ç»Ÿçš„ååé‡ã€‚\nä¼˜ç‚¹åœ¨äº\n\nå¯ä»¥ç”¨ä¸Š simd æŒ‡ä»¤\næ‰¹é‡å¤„ç†æ•°æ®æ—¶ï¼Œè¿ç»­çš„å†…å­˜è®¿é—®æ¨¡å¼èƒ½æ›´å¥½åœ°åˆ©ç”¨ CPU ç¼“å­˜ï¼ˆCache Localityï¼‰ï¼Œå‡å°‘ç¼“å­˜æœªå‘½ä¸­ï¼ˆCache Missï¼‰ã€‚\n\n","categories":["Oceanbase"],"tags":["#Oceanbase","#æ•°æ®åº“","#ç«å±±æ¨¡å‹","#å‘é‡åŒ–æ‰§è¡Œå¼•æ“"]},{"title":"kafkaåœ¨windowsç¯å¢ƒä¸‹é›†ç¾¤éƒ¨ç½²","url":"/2024/04/bb7507685b1a.html","content":"ä¸‹è½½ kafka å®‰è£…åŒ…ä¸‹è½½åœ°å€ï¼šKafka\nä¸‹è½½ååœ¨ E ç›˜ä¸‹æ–°å»ºæ–‡ä»¶å¤¹ kafka-cluster ï¼Œå°†ä¸‹è½½çš„å‹ç¼©åŒ…è§£å‹åˆ° kafka-cluster ç›®å½•ä¸‹å¹¶å¤åˆ¶ 4 ä»½ ï¼Œåˆ†åˆ«æ”¹åä¸ºï¼Œkafka-zkï¼Œkafka1ï¼Œkafka2ï¼Œkafka3ã€‚\n\nkafka-zkï¼š ç»Ÿä¸€ kafka èŠ‚ç‚¹çš„ zookeeper ï¼Œå› ä¸º kafka å†…ç½®äº† ZooKeeper è½¯ä»¶ï¼Œæ‰€ä»¥æ­¤å¤„å°†è§£å‹ç¼©çš„æ–‡ä»¶ä½œä¸º ZooKeeper è½¯ä»¶ä½¿ç”¨ã€‚\nkafka1ï¼š è¡¨ç¤ºç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚\nkafka2ï¼š è¡¨ç¤ºç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚\nkafka3ï¼š è¡¨ç¤ºç¬¬ä¸‰ä¸ªèŠ‚ç‚¹ã€‚\n\nä¿®æ”¹é…ç½®ä¿®æ”¹ kafka-zk/config/zookeeper.properties æ–‡ä»¶ä¸‹çš„å†…å®¹\ndataDir=E:/kafka-cluster/kafka-zk/data\n\nä¿®æ”¹ kafka1/config/server.properties æ–‡ä»¶ä¸‹çš„å†…å®¹\nbroker.id=1listeners=PLAINTEXT://:9091log.dirs=E:/kafka-cluster/kafka1/data\n\nä¿®æ”¹ kafka2/config/server.properties æ–‡ä»¶ä¸‹çš„å†…å®¹\nbroker.id=2listeners=PLAINTEXT://:9092log.dirs=E:/kafka-cluster/kafka2/data\n\nä¿®æ”¹ kafka3/config/server.properties æ–‡ä»¶ä¸‹çš„å†…å®¹\nbroker.id=3listeners=PLAINTEXT://:9093log.dirs=E:/kafka-cluster/kafka3/data\n\nå°è£…å¯åŠ¨è„šæœ¬ï¼ˆ1ï¼‰å°è£… zookeeper å¯åŠ¨è„šæœ¬\nåœ¨ kafka-zk æ–‡ä»¶å¤¹ä¸‹æ–°å»º zk.cmd æ–‡ä»¶\ncall bin/windows/zookeeper-server-start.bat config/zookeeper.properties\n\nï¼ˆ2ï¼‰å°è£… kafka å¯åŠ¨è„šæœ¬\nåœ¨ kafka1ï¼Œkafka2ï¼Œkafka3 æ–°å»º kafka.cmd æ–‡ä»¶\ncall bin/windows/kafka-server-start.bat config/server.properties\n\nï¼ˆ3ï¼‰å°è£…é›†ç¾¤å¯åŠ¨è„šæœ¬\nåœ¨ kafka-cluster ç›®å½•ä¸‹æ–°å»º cluster.cmd æ–‡ä»¶\ncd kafka-zkstart zk.cmdping 127.0.0.1 -n 10 &gt;nulcd ../kafka1start kafka.cmdcd ../kafka2start kafka.cmdcd ../kafka3start kafka.cmd\n\nåœ¨ kafka-cluster ç›®å½•ä¸‹æ–°å»º cluster-clear.cmd æ–‡ä»¶ç”¨äºæ¸…é™¤ kafka è¿è¡Œäº§ç”Ÿçš„æ•°æ®\ncd kafka-zkrd /s /q datacd ../kafka1rd /s /q datacd ../kafka2rd /s /q datacd ../kafka3rd /s /q data\n\nå¯åŠ¨è„šæœ¬å¯åŠ¨ cluster.cmd è„šæœ¬å°±å¯ä»¥å¯åŠ¨é›†ç¾¤æœåŠ¡äº†ã€‚\n","categories":["å¤§æ•°æ®"],"tags":["#kafka","#å¤§æ•°æ®","éƒ¨ç½²"]},{"title":"åˆ†å¸ƒå¼é”çš„ä¸¤ç§å®ç°æ–¹å¼æµ…è°ˆ","url":"/2024/11/61113d0d4b06.html","content":"åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå¤šä¸ªå®¢æˆ·ç«¯å¯èƒ½ä¼šå¹¶å‘åœ°è®¿é—®ä¸´ç•Œèµ„æºã€‚ä¸ºäº†é¿å…èµ„æºå†²çªå’Œæ•°æ®ä¸ä¸€è‡´ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦ä½¿ç”¨åˆ†å¸ƒå¼é”æ¥æ§åˆ¶å¯¹å…±äº«èµ„æºçš„è®¿é—®ã€‚åˆ†å¸ƒå¼é”çš„æœ¬è´¨å°±æ˜¯æ’é˜Ÿï¼Œç¡®ä¿åªæœ‰ä¸€ä¸ªå®¢æˆ·ç«¯å¯ä»¥è®¿é—®èµ„æºï¼Œå…¶ä»–å®¢æˆ·ç«¯éœ€è¦ç­‰å¾…ã€‚å½“è®¿é—®å®Œæˆæ—¶ï¼Œé”ä¼šè¢«é‡Šæ”¾ï¼Œå…è®¸å…¶ä»–å®¢æˆ·ç«¯ä¾æ¬¡è®¿é—®èµ„æºã€‚\næœ¬æ–‡å°†åˆ†åˆ«ä»‹ç»å¦‚ä½•åˆ©ç”¨ Zookeeper å’Œ Redis å®ç°åˆ†å¸ƒå¼é”ï¼Œå¹¶åˆ†æå®ƒä»¬çš„ç‰¹ç‚¹å’Œåº”ç”¨åœºæ™¯ã€‚\nZookeeper å®ç°åˆ†å¸ƒå¼é”Zookeeper æ˜¯ä¸€ä¸ªé«˜å¯é çš„åˆ†å¸ƒå¼åè°ƒæ¡†æ¶ï¼Œå®ƒæä¾›äº†å¼ºä¸€è‡´æ€§çš„èŠ‚ç‚¹ç®¡ç†åŠŸèƒ½ï¼Œèƒ½å¤Ÿå¾ˆå¥½åœ°æ”¯æŒåˆ†å¸ƒå¼é”çš„å®ç°ã€‚Zookeeper çš„èŠ‚ç‚¹åˆ›å»ºå’Œç›‘å¬æœºåˆ¶å¯ä»¥æ¨¡æ‹Ÿå‡ºä¸€ä¸ªæ’é˜Ÿçš„è¿‡ç¨‹ï¼Œä»è€Œç¡®ä¿åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å®¢æˆ·ç«¯èƒ½å¤ŸæŒ‰é¡ºåºè®¿é—®ä¸´ç•Œèµ„æºã€‚\nå…¥é˜Ÿè¿‡ç¨‹Zookeeper çš„èŠ‚ç‚¹åˆ›å»ºæ“ä½œå®é™…ä¸Šå°±æ˜¯å°†å®¢æˆ·ç«¯åŠ å…¥é˜Ÿåˆ—ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æœ‰ä¸‰ä¸ªå®¢æˆ·ç«¯éœ€è¦è®¿é—®æŸä¸ªä¸´ç•Œèµ„æºï¼Œå®¢æˆ·ç«¯ 1 ä¼šé¦–å…ˆåˆ›å»ºä¸€ä¸ªä¸´æ—¶é¡ºåºèŠ‚ç‚¹ï¼ŒZookeeper ä¼šä¸ºå®ƒåˆ†é…ä¸€ä¸ªåºå·ï¼Œè¡¨æ˜å®ƒåœ¨é˜Ÿåˆ—ä¸­çš„ä½ç½®ã€‚å®¢æˆ·ç«¯ 2 å’Œå®¢æˆ·ç«¯ 3 ä¼šä¾æ¬¡åˆ›å»ºèŠ‚ç‚¹ï¼ŒZookeeper ä¼šä¸ºæ¯ä¸ªå®¢æˆ·ç«¯åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„é¡ºåºå·ï¼Œè¿™æ ·å°±å®Œæˆäº†å…¥é˜Ÿçš„è¿‡ç¨‹ã€‚\nClient 1 -&gt; /lock/0000000001Client 2 -&gt; /lock/0000000002Client 3 -&gt; /lock/0000000003\n\næ¯ä¸ªå®¢æˆ·ç«¯çš„èŠ‚ç‚¹éƒ½å…·æœ‰ä¸€ä¸ªå”¯ä¸€çš„åºå·ï¼Œä»è€Œå¯ä»¥æŒ‰ç…§åºå·æ¥åˆ¤æ–­å®ƒä»¬åœ¨é˜Ÿåˆ—ä¸­çš„ä½ç½®ã€‚\nå‡ºé˜Ÿè¿‡ç¨‹åœ¨é˜Ÿåˆ—ä¸­ï¼Œé˜Ÿé¦–çš„å®¢æˆ·ç«¯æ‹¥æœ‰è®¿é—®ä¸´ç•Œèµ„æºçš„æƒåˆ©ã€‚å½“é˜Ÿé¦–çš„å®¢æˆ·ç«¯è®¿é—®å®Œèµ„æºåï¼Œå®ƒä¼šåˆ é™¤è‡ªå·±åœ¨ Zookeeper ä¸­åˆ›å»ºçš„ä¸´æ—¶èŠ‚ç‚¹ï¼Œä»è€Œå®Œæˆå‡ºé˜Ÿæ“ä½œã€‚ç„¶åï¼Œæ–°çš„é˜Ÿé¦–å®¢æˆ·ç«¯å°±å¯ä»¥å¼€å§‹è®¿é—®èµ„æºã€‚\nClient 1 -&gt; /lock/0000000001 (è®¿é—®èµ„æº)Client 1 åˆ é™¤èŠ‚ç‚¹ -&gt; å‡ºé˜ŸClient 2 -&gt; /lock/0000000002 (è®¿é—®èµ„æº)\n\né€šè¿‡åˆ é™¤ä¸´æ—¶èŠ‚ç‚¹ï¼ŒZookeeper å®ç°äº†å®¢æˆ·ç«¯ä¹‹é—´çš„å‡ºé˜Ÿæ“ä½œã€‚æ­¤æ—¶ï¼Œå®¢æˆ·ç«¯ 2 æˆä¸ºæ–°çš„é˜Ÿé¦–ï¼Œç»§ç»­è®¿é—®èµ„æºã€‚\né˜Ÿé¦–åˆ‡æ¢ä¸ºäº†å®ç°è‡ªåŠ¨åˆ‡æ¢é˜Ÿé¦–ï¼Œå®¢æˆ·ç«¯åœ¨åˆ›å»ºèŠ‚ç‚¹æ—¶ä¼šç›‘å¬è‡ªå·±å‰ä¸€ä¸ªèŠ‚ç‚¹çš„åˆ é™¤äº‹ä»¶ã€‚å…·ä½“è€Œè¨€ï¼Œå½“å®¢æˆ·ç«¯åˆ›å»ºèŠ‚ç‚¹åï¼Œä¼šç›‘å¬å®ƒå‰ä¸€ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€ã€‚å¦‚æœå‰ä¸€ä¸ªèŠ‚ç‚¹è¢«åˆ é™¤ï¼Œæ„å‘³ç€å®ƒå·²ç»å®Œæˆäº†å¯¹èµ„æºçš„è®¿é—®ï¼Œå½“å‰å®¢æˆ·ç«¯å°±å¯ä»¥è·å¾—è®¿é—®èµ„æºçš„æƒé™ã€‚\nè¿™ç§æœºåˆ¶åˆ©ç”¨äº† Zookeeper çš„ Watcher æœºåˆ¶ï¼Œç¡®ä¿äº†åˆ†å¸ƒå¼é”çš„å…¬å¹³æ€§å’Œé¡ºåºæ€§ã€‚\nClient 2 åœ¨åˆ›å»ºèŠ‚ç‚¹æ—¶ç›‘å¬ /lock/0000000001Client 1 åˆ é™¤èŠ‚ç‚¹ -&gt; Client 2 æ”¶åˆ°å›è°ƒ -&gt; Client 2 è®¿é—®èµ„æº\n\né€šè¿‡è¿™ç§æ–¹å¼ï¼ŒZookeeper å¯ä»¥æœ‰æ•ˆåœ°ç®¡ç†å®¢æˆ·ç«¯çš„è®¿é—®é¡ºåºï¼Œå®ç°å…¬å¹³çš„åˆ†å¸ƒå¼é”ã€‚\nZookeeper åˆ†å¸ƒå¼é”çš„ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ï¼š\n\nå…¬å¹³æ€§ï¼šZookeeper å¯ä»¥ä¿è¯å®¢æˆ·ç«¯æŒ‰ç…§åˆ›å»ºèŠ‚ç‚¹çš„é¡ºåºè®¿é—®ä¸´ç•Œèµ„æºï¼Œç¡®ä¿åˆ†å¸ƒå¼é”çš„å…¬å¹³æ€§ã€‚\nå¯é æ€§ï¼šZookeeper æä¾›å¼ºä¸€è‡´æ€§çš„ä¿è¯ï¼Œç¡®ä¿é”æœºåˆ¶åœ¨é›†ç¾¤ä¸­çš„å¯é æ€§ã€‚\n\nç¼ºç‚¹ï¼š\n\næ€§èƒ½ç“¶é¢ˆï¼šç”±äº Zookeeper æ˜¯åŸºäºç£ç›˜å­˜å‚¨çš„ï¼Œé¢‘ç¹çš„èŠ‚ç‚¹åˆ›å»ºå’Œåˆ é™¤å¯èƒ½ä¼šå¸¦æ¥æ€§èƒ½ç“¶é¢ˆã€‚\nå¤æ‚æ€§ï¼šZookeeper å®ç°åˆ†å¸ƒå¼é”éœ€è¦è¾ƒä¸ºå¤æ‚çš„èŠ‚ç‚¹ç®¡ç†å’Œäº‹ä»¶ç›‘å¬æœºåˆ¶ï¼Œå¯¹äºä¸€äº›ç®€å•çš„åº”ç”¨åœºæ™¯å¯èƒ½ä¸å¤ªé€‚åˆã€‚\n\nRedis å®ç°åˆ†å¸ƒå¼é”ä¸ Zookeeper ç›¸æ¯”ï¼ŒRedis å®ç°åˆ†å¸ƒå¼é”æ›´åŠ è½»é‡çº§ï¼Œä¸”é€šå¸¸ç”¨äºä¸éœ€è¦ä¸¥æ ¼æ’é˜Ÿå’Œå…¬å¹³æ€§çš„åœºæ™¯ã€‚Redis åˆ©ç”¨å…¶é«˜æ•ˆçš„å†…å­˜å­˜å‚¨å’Œå‘½ä»¤æ‰§è¡Œç‰¹æ€§ï¼Œå¯ä»¥å®ç°ç®€å•è€Œé«˜æ•ˆçš„åˆ†å¸ƒå¼é”æœºåˆ¶ã€‚\nå®ç°åŸç†åœ¨ Redis ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ SET NX PX å‘½ä»¤æ¥å®ç°åˆ†å¸ƒå¼é”ã€‚è¯¥å‘½ä»¤ä¼šå°è¯•å°†ä¸€ä¸ªæŒ‡å®šçš„é”®ï¼ˆé”æ ‡è¯†ï¼‰è®¾ç½®ä¸ºä¸€ä¸ªå€¼ã€‚å¦‚æœè¯¥é”®ä¸å­˜åœ¨ï¼Œåˆ™è®¾ç½®æˆåŠŸï¼Œè¡¨ç¤ºå½“å‰å®¢æˆ·ç«¯è·å¾—äº†é”ï¼›å¦‚æœé”®å·²ç»å­˜åœ¨ï¼Œåˆ™è¡¨ç¤ºèµ„æºè¢«å…¶ä»–å®¢æˆ·ç«¯å ç”¨ï¼Œå½“å‰å®¢æˆ·ç«¯æ— æ³•è·å¾—é”ã€‚\nSET lock_key unique_value NX PX 30000\n\nå…¶ä¸­ï¼š\n\nNXï¼šè¡¨ç¤ºåªæœ‰åœ¨é”®ä¸å­˜åœ¨æ—¶æ‰ä¼šè®¾ç½®æˆåŠŸï¼Œä¿è¯äº†é”çš„äº’æ–¥æ€§ã€‚\nPXï¼šè¡¨ç¤ºè®¾ç½®é”®å€¼å¯¹çš„è¿‡æœŸæ—¶é—´ï¼Œé¿å…æ­»é”çš„å‘ç”Ÿã€‚\n\næ­»é”é˜²æ­¢ä¸ºäº†é˜²æ­¢æ­»é”ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šç»™é”è®¾ç½®ä¸€ä¸ªè¿‡æœŸæ—¶é—´ã€‚è¿™æ ·ï¼Œå½“å®¢æˆ·ç«¯åœ¨æŒæœ‰é”æ—¶ï¼Œå¦‚æœç”±äºæŸç§åŸå› æœªèƒ½åŠæ—¶é‡Šæ”¾é”ï¼ŒRedis ä¼šè‡ªåŠ¨åˆ é™¤è¯¥é”ï¼Œä»è€Œé¿å…é”æ°¸è¿œä¸è¢«é‡Šæ”¾çš„æƒ…å†µå‘ç”Ÿã€‚\nRedis åˆ†å¸ƒå¼é”çš„ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ï¼š\n\né«˜æ•ˆæ€§ï¼šRedis æ˜¯åŸºäºå†…å­˜çš„ï¼Œæ“ä½œéå¸¸é«˜æ•ˆï¼Œèƒ½å¤Ÿæ‰¿å—è¾ƒé«˜çš„å¹¶å‘è¯·æ±‚ã€‚\nç®€å•æ˜“ç”¨ï¼šç›¸æ¯” Zookeeperï¼ŒRedis çš„ API ç®€å•ï¼Œæ˜“äºå®ç°ã€‚\n\nç¼ºç‚¹ï¼š\n\nç¼ºä¹å…¬å¹³æ€§ï¼šRedis çš„åˆ†å¸ƒå¼é”å¹¶ä¸ä¿è¯å®¢æˆ·ç«¯æŒ‰é¡ºåºè®¿é—®èµ„æºï¼ŒæŸäº›å®¢æˆ·ç«¯å¯èƒ½ä¼šé¢‘ç¹è·å–é”ï¼Œè€Œå…¶ä»–å®¢æˆ·ç«¯å¯èƒ½ä¸€ç›´å¤„äºç­‰å¾…çŠ¶æ€ã€‚\néœ€è¦é¢å¤–å¤„ç†æ­»é”ï¼šè™½ç„¶ Redis æä¾›äº†è¿‡æœŸæ—¶é—´æœºåˆ¶ï¼Œä½†å¦‚æœå®¢æˆ·ç«¯æœªèƒ½æ­£ç¡®é‡Šæ”¾é”ï¼Œä»ç„¶æœ‰å¯èƒ½å‡ºç°æ­»é”ï¼Œéœ€è¦é¢å¤–çš„å¤„ç†é€»è¾‘æ¥é¿å…è¿™ç§æƒ…å†µã€‚\n\næ€»ç»“é€‚ç”¨åœºæ™¯\nZookeeperï¼šé€‚ç”¨äºéœ€è¦é«˜å¯é æ€§ã€å¼ºä¸€è‡´æ€§å’Œå…¬å¹³æ€§çš„åœºæ™¯ï¼Œå°¤å…¶é€‚åˆéœ€è¦æ’é˜Ÿè®¿é—®çš„åº”ç”¨ã€‚å®ƒèƒ½å¤Ÿç¡®ä¿å®¢æˆ·ç«¯æŒ‰ç…§é¡ºåºè®¿é—®èµ„æºï¼Œä½†æ€§èƒ½ä¸Šå¯èƒ½å—åˆ°ä¸€äº›é™åˆ¶ï¼Œå°¤å…¶æ˜¯åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ã€‚\nRedisï¼šé€‚ç”¨äºé«˜æ€§èƒ½è¦æ±‚çš„åœºæ™¯ï¼Œå°¤å…¶æ˜¯å¯¹é”çš„ç«äº‰è¾ƒå°‘ã€æ²¡æœ‰ä¸¥æ ¼é¡ºåºè¦æ±‚çš„åº”ç”¨ã€‚Redis é”å®ç°ç®€å•ä¸”é«˜æ•ˆï¼Œä½†ä¸ä¿è¯å…¬å¹³æ€§ï¼Œå¯èƒ½ä¼šå¯¼è‡´é”çš„â€œé¥¥é¥¿â€é—®é¢˜ã€‚\n\nåœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€‰æ‹© Zookeeper è¿˜æ˜¯ Redis å–å†³äºå…·ä½“çš„ä¸šåŠ¡éœ€æ±‚å’Œç³»ç»Ÿæ¶æ„ã€‚å¦‚æœç³»ç»Ÿä¸­æœ‰å¤æ‚çš„åˆ†å¸ƒå¼åè°ƒéœ€æ±‚ï¼ŒZookeeper æ›´ä¸ºåˆé€‚ï¼›å¦‚æœç³»ç»Ÿéœ€è¦é«˜å¹¶å‘ä¸”å¯¹é”çš„é¡ºåºè¦æ±‚ä¸é«˜ï¼ŒRedis æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚\nå¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£ Zookeeper å’Œ Redis å®ç°åˆ†å¸ƒå¼é”çš„åŸç†ï¼Œå¹¶ä¸ºæ‚¨çš„é¡¹ç›®æä¾›ä¸€å®šçš„æŠ€æœ¯å‚è€ƒã€‚\n","categories":["å¾®æœåŠ¡"]},{"title":"å¾®æœåŠ¡äº‹åŠ¡","url":"/2024/11/645e9be13a8a.html","content":"ä»€ä¹ˆæ˜¯å¾®æœåŠ¡äº‹åŠ¡åœ¨æŸä¸ªå¾®æœåŠ¡ä¸šåŠ¡ä¸­ï¼Œä¸šåŠ¡éœ€è¦å¯¹æ•°æ®åº“è¿›è¡Œå¤šæ¬¡æ“ä½œï¼Œå…¶ä¸­å¯¹æ•°æ®åº“çš„æ“ä½œåˆç”±å…¶ä»–å¾®æœåŠ¡ä¸šåŠ¡å®Œæˆï¼Œè¿™æ•´ä¸ªä¸šåŠ¡æ‰€æ¶‰åŠçš„æ•°æ®åº“æ“ä½œéœ€è¦åŒæ—¶æˆåŠŸæˆ–è€…åŒæ—¶å¤±è´¥ã€‚\nå¾®æœåŠ¡äº‹åŠ¡å’Œå•ä½“æ¶æ„çš„äº‹åŠ¡æœ‰ä½•åŒºåˆ«åœ¨ä¼ ç»Ÿå¾®æœåŠ¡ä¸šåŠ¡ä¸­ï¼Œå¯¹æ•°æ®åº“çš„æ“ä½œéƒ½åŒ…å«åœ¨åŒä¸€ä¸ªæ•°æ®åº“ï¼Œå¯ä»¥ä¾é æ•°æ®åº“è‡ªå¸¦çš„äº‹åŠ¡è¿›è¡Œç®¡ç†ã€‚åœ¨å¾®æœåŠ¡ä¸­ï¼Œæ¯ä¸€ä¸ªå¾®æœåŠ¡éƒ½ä¼šå¯¹åº”è‡ªå·±çš„æ•°æ®åº“ï¼Œå› æ­¤ä¸šåŠ¡å¯¹æ•°æ®åº“çš„æ“ä½œæ¶‰åŠå¤šä¸ªå¾®æœåŠ¡ä¸šåŠ¡å¯¹å…¶è‡ªå·±çš„æ•°æ®åº“è¿›è¡Œæ“ä½œã€‚è¿™æ—¶æ— æ³•ä¾é æ•°æ®åº“è‡ªå¸¦çš„äº‹åŠ¡è¿›è¡Œå¤„ç†ã€‚\nå¾®æœåŠ¡äº‹åŠ¡çš„å¤„ç†æ¶æ„seata æ¶æ„\nä¸‰ä¸ªè§’è‰²å’Œä¸¤ç§æ¨¡å¼\n\nTMï¼ˆTransaction Managerï¼‰ï¼šäº‹åŠ¡ç®¡ç†ï¼Œé€šçŸ¥ TC å¼€å¯ä¸ç»“æŸä¸€ä¸ªäº‹åŠ¡ï¼Œæˆ–è€…å›æ»šäº‹åŠ¡\nRMï¼ˆResource Managerï¼‰ï¼šåˆ†æ”¯äº‹åŠ¡ç®¡ç†ï¼Œä¸»è¦åŠŸèƒ½æ˜¯æ³¨å†Œå­äº‹åŠ¡ï¼ŒæŠ¥å‘Šå­äº‹åŠ¡çŠ¶æ€ï¼ˆæˆåŠŸ&#x2F;å¤±è´¥ï¼‰ï¼Œæ¥æ”¶ TC çš„å‘½ä»¤æ‰§è¡Œæäº¤æˆ–å›æ»šã€‚\nTCï¼ˆTransaction Coordinatorï¼‰ï¼šäº‹åŠ¡åè°ƒå™¨ï¼Œç‹¬ç«‹çš„å¾®æœåŠ¡ï¼Œç»´æŠ¤äº‹åŠ¡çš„è¿è¡ŒçŠ¶æ€æ ¹æ® TM çš„æŒ‡ç¤ºå¼€å¯äº‹åŠ¡è®°å½•ä»¥åŠäº‹åŠ¡å®Œæˆåæ£€æŸ¥äº‹åŠ¡æ¶‰åŠçš„åˆ†æ”¯äº‹åŠ¡æ˜¯å¦å…¨éƒ¨æˆåŠŸå®Œæˆï¼Œè‹¥å…¨éƒ¨æˆåŠŸå®Œæˆæ‰§è¡Œæäº¤ï¼Œè‹¥æœªæˆåŠŸå®Œæˆæ‰§è¡Œå›æ»šã€‚\nä¾‹å­\nå¦‚ä¸‹å›¾çš„è®¢å•ä¸šåŠ¡ï¼Œè®¢å•ä¸šåŠ¡ä¸­éœ€è¦ç”Ÿæˆè®¢å•ï¼Œæ¸…é™¤è´­ç‰©è½¦ï¼Œæ‰£é™¤åº“å­˜ã€‚ç”Ÿæˆè®¢å•çš„æ“ä½œå’Œè®¢å•ä¸šåŠ¡åŒå±ä¸€ä¸ªå¾®æœåŠ¡ï¼Œæ“ä½œçš„åŒä¸€ä¸ªæ•°æ®åº“ã€‚ä½†æ˜¯æ¸…é™¤è´­ç‰©è½¦çš„æ“ä½œå±äºè´­ç‰©è½¦å¾®æœåŠ¡ï¼Œæ“ä½œçš„æ•°æ®åº“å’Œç”Ÿæˆè®¢å•ä¸šåŠ¡æ“ä½œçš„æ•°æ®åº“ä¸åŒã€‚æ‰£é™¤åº“å­˜æ“ä½œåŒç†ã€‚\n\nAT æ¨¡å¼åœ¨ AT å·¥ä½œæ¨¡å¼ä¸‹ï¼Œè®¢å•ä¸šåŠ¡å¼€å§‹æ—¶ï¼ŒTM ä¼šé€šçŸ¥ TC å¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼Œéšåä¾æ¬¡æ‰§è¡Œç”Ÿäº§è®¢å•ï¼Œæ¸…é™¤è´­ç‰©è½¦ï¼Œæ‰£é™¤åº“å­˜å­ä¸šåŠ¡ã€‚å½“æ‰§è¡Œç”Ÿæˆè®¢å•æ“ä½œæ—¶ï¼ŒRM ä¼šå‘ TC å‘èµ·æ³¨å†Œé€šçŸ¥ï¼Œè¡¨é¢å­ä¸šåŠ¡å¼€å§‹æ‰§è¡Œï¼Œå½“æ‰§è¡Œå®Œåç«‹å³æäº¤æ­¤å­ä¸šåŠ¡çš„äº‹åŠ¡ï¼Œç„¶åç”Ÿæˆundo logï¼ˆé mysql çš„ undo logï¼‰ï¼Œå†é€šçŸ¥ TC å­ä¸šåŠ¡æ‰§è¡Œå®Œæˆã€‚å…¶ä»–å­ä¸šåŠ¡åŒç†ã€‚\næœ€åè®¢å•ä¸šåŠ¡æ‰§è¡Œå®Œæˆåï¼ŒTM é€šçŸ¥ TC ä¸šåŠ¡æ‰§è¡Œå®Œæ¯•ï¼ŒTC è¿™æ—¶æ£€æŸ¥æ¯ä¸ªåˆ†æ”¯äº‹åŠ¡æ‰§è¡Œæƒ…å†µï¼Œè‹¥æœ‰ä¸€ä¸ªæ‰§è¡Œå¤±è´¥åˆ™å‘é€šçŸ¥ç»™ RMï¼Œä»¤å…¶æ ¹æ® undo log è¿›è¡Œå›æ»šã€‚è‹¥å‡æ‰§è¡ŒæˆåŠŸåˆ™ä¼šåˆ é™¤ undo log\nAT æ¨¡å¼çš„ä¼˜ç‚¹æ˜¯æ€§èƒ½é«˜ï¼Œå…¶ç¼ºç‚¹æ˜¯ä¸€è‡´æ€§å·®ï¼Œç”±äºåˆ†æ”¯äº‹åŠ¡å®Œæˆåç«‹å³æäº¤ï¼Œè‹¥åç»­çš„åˆ†æ”¯äº‹åŠ¡å‡ºç°é”™è¯¯ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å…¶ä»–ä¸šåŠ¡æ‰€å¾—åˆ°çš„æ•°æ®ç»“æœæ˜¯è„æ•°æ®ï¼Œåªæœ‰ç­‰å›æ»šåæ•°æ®æ‰æ˜¯æ­£ç¡®çš„ï¼Œå› æ­¤AT æ¨¡å¼åªèƒ½ä¿è¯ç»“æœä¸€è‡´æ€§ã€‚\nXA æ¨¡å¼XA æ¨¡å¼å’Œ ATæ¨¡å¼çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼Œå…¶å­ä¸šåŠ¡æ‰§è¡Œåä¸ä¼šç«‹å³æäº¤ï¼Œå› æ­¤ä¹Ÿä¸ä¼šç”Ÿæˆ undo logï¼ˆé mysql çš„ undo logï¼‰ï¼Œç­‰æ•´ä¸ªä¸šåŠ¡å®Œæˆåï¼Œä¾é  TC çš„é€šçŸ¥å†³å®šå›æ»šè¿˜æ˜¯ç»Ÿä¸€æäº¤ã€‚\næ‰€ä»¥å…¶ä¼˜ç‚¹æ˜¯æ•°æ®ä¸€è‡´æ€§é«˜ï¼Œä½†å…¶ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå®ƒçš„æ€§èƒ½ä½ã€‚\nSeata åœ¨ SpringBoot ä¸­çš„é›†æˆéƒ¨ç½² TC\n\nå‡†å¤‡æ•°æ®åº“è¡¨\n\nCREATE DATABASE IF NOT EXISTS `seata`;USE `seata`;CREATE TABLE IF NOT EXISTS `global_table`(    `xid`                       VARCHAR(128) NOT NULL,    `transaction_id`            BIGINT,    `status`                    TINYINT      NOT NULL,    `application_id`            VARCHAR(32),    `transaction_service_group` VARCHAR(32),    `transaction_name`          VARCHAR(128),    `timeout`                   INT,    `begin_time`                BIGINT,    `application_data`          VARCHAR(2000),    `gmt_create`                DATETIME,    `gmt_modified`              DATETIME,    PRIMARY KEY (`xid`),    KEY `idx_status_gmt_modified` (`status` , `gmt_modified`),    KEY `idx_transaction_id` (`transaction_id`)) ENGINE = InnoDB  DEFAULT CHARSET = utf8mb4;CREATE TABLE IF NOT EXISTS `branch_table`(    `branch_id`         BIGINT       NOT NULL,    `xid`               VARCHAR(128) NOT NULL,    `transaction_id`    BIGINT,    `resource_group_id` VARCHAR(32),    `resource_id`       VARCHAR(256),    `branch_type`       VARCHAR(8),    `status`            TINYINT,    `client_id`         VARCHAR(64),    `application_data`  VARCHAR(2000),    `gmt_create`        DATETIME(6),    `gmt_modified`      DATETIME(6),    PRIMARY KEY (`branch_id`),    KEY `idx_xid` (`xid`)) ENGINE = InnoDB  DEFAULT CHARSET = utf8mb4;CREATE TABLE IF NOT EXISTS `lock_table`(    `row_key`        VARCHAR(128) NOT NULL,    `xid`            VARCHAR(128),    `transaction_id` BIGINT,    `branch_id`      BIGINT       NOT NULL,    `resource_id`    VARCHAR(256),    `table_name`     VARCHAR(32),    `pk`             VARCHAR(36),    `status`         TINYINT      NOT NULL DEFAULT &#x27;0&#x27; COMMENT &#x27;0:locked ,1:rollbacking&#x27;,    `gmt_create`     DATETIME,    `gmt_modified`   DATETIME,    PRIMARY KEY (`row_key`),    KEY `idx_status` (`status`),    KEY `idx_branch_id` (`branch_id`),    KEY `idx_xid_and_branch_id` (`xid` , `branch_id`)) ENGINE = InnoDB  DEFAULT CHARSET = utf8mb4;CREATE TABLE IF NOT EXISTS `distributed_lock`(    `lock_key`       CHAR(20) NOT NULL,    `lock_value`     VARCHAR(20) NOT NULL,    `expire`         BIGINT,    primary key (`lock_key`)) ENGINE = InnoDB  DEFAULT CHARSET = utf8mb4;INSERT INTO `distributed_lock` (lock_key, lock_value, expire) VALUES (&#x27;AsyncCommitting&#x27;, &#x27; &#x27;, 0);INSERT INTO `distributed_lock` (lock_key, lock_value, expire) VALUES (&#x27;RetryCommitting&#x27;, &#x27; &#x27;, 0);INSERT INTO `distributed_lock` (lock_key, lock_value, expire) VALUES (&#x27;RetryRollbacking&#x27;, &#x27; &#x27;, 0);INSERT INTO `distributed_lock` (lock_key, lock_value, expire) VALUES (&#x27;TxTimeoutCheck&#x27;, &#x27; &#x27;, 0);\n\n\nå‡†å¤‡é…ç½®æ–‡ä»¶\n\n  ç‚¹æ­¤ä¸‹è½½é…ç½®æ–‡ä»¶\nä¸‹è½½æ–‡ä»¶åï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ mysql è¿æ¥ä¿¡æ¯å’Œ nacos ä¿¡æ¯ï¼Œç„¶åå°†æ•´ä¸ªæ–‡ä»¶å¤¹ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„ home ç›®å½•ã€‚\n\n\nDocker éƒ¨ç½²\n\ndocker run --name seata \\-p 8099:8099 \\-p 7099:7099 \\-e SEATA_IP=192.168.192.101 \\-v ./seata:/seata-server/resources \\--privileged=true \\--ulimit nofile=65536:65536 \\-d \\seataio/seata-server:1.5.2\n\nå¾®æœåŠ¡ä¸­é›†æˆ RM\n\nå¯¼å…¥ä¾èµ–\n\n&lt;!--seata--&gt; &lt;dependency&gt;     &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;     &lt;artifactId&gt;spring-cloud-starter-alibaba-seata&lt;/artifactId&gt; &lt;/dependency&gt;\n\n\nç¼–å†™é…ç½®\n åœ¨ nacos ä¸­æ·»åŠ å…±äº«çš„é…ç½® shared-seata.yamlï¼Œéšååœ¨å„å¾®æœåŠ¡é…ç½®æ‹‰å–æ­¤é…ç½®æ–‡ä»¶\n\n\nseata:  registry: # TCæœåŠ¡æ³¨å†Œä¸­å¿ƒçš„é…ç½®ï¼Œå¾®æœåŠ¡æ ¹æ®è¿™äº›ä¿¡æ¯å»æ³¨å†Œä¸­å¿ƒè·å–tcæœåŠ¡åœ°å€    type: nacos # æ³¨å†Œä¸­å¿ƒç±»å‹ nacos    nacos:      server-addr: 192.168.150.101:8848 # nacosåœ°å€      namespace: &quot;&quot; # namespaceï¼Œé»˜è®¤ä¸ºç©º      group: DEFAULT_GROUP # åˆ†ç»„ï¼Œé»˜è®¤æ˜¯DEFAULT_GROUP      application: seata-server # seataæœåŠ¡åç§°      username: nacos      password: nacos  tx-service-group: hmall # äº‹åŠ¡ç»„åç§°  service:    vgroup-mapping: # äº‹åŠ¡ç»„ä¸tcé›†ç¾¤çš„æ˜ å°„å…³ç³»      hmall: &quot;default&quot;  # data-source-proxy-mode: XA   # é»˜è®¤ä¸º ATæ¨¡å¼\n\n\nä½¿ç”¨ AT æ¨¡å¼å¿…é¡»è¦æ·»åŠ æ•°æ®åº“è¡¨\n\n-- for AT mode you must to init this sql for you business database. the seata server not need it.CREATE TABLE IF NOT EXISTS `undo_log`(    `branch_id`     BIGINT       NOT NULL COMMENT &#x27;branch transaction id&#x27;,    `xid`           VARCHAR(128) NOT NULL COMMENT &#x27;global transaction id&#x27;,    `context`       VARCHAR(128) NOT NULL COMMENT &#x27;undo_log context,such as serialization&#x27;,    `rollback_info` LONGBLOB     NOT NULL COMMENT &#x27;rollback info&#x27;,    `log_status`    INT(11)      NOT NULL COMMENT &#x27;0:normal status,1:defense status&#x27;,    `log_created`   DATETIME(6)  NOT NULL COMMENT &#x27;create datetime&#x27;,    `log_modified`  DATETIME(6)  NOT NULL COMMENT &#x27;modify datetime&#x27;,    UNIQUE KEY `ux_undo_log` (`xid`, `branch_id`)) ENGINE = InnoDB  AUTO_INCREMENT = 1  DEFAULT CHARSET = utf8mb4 COMMENT =&#x27;AT transaction mode undo table&#x27;;\n\nå¾®æœåŠ¡ä¸­é›†æˆ TM\nä½¿ç”¨ @GlobalTransactional æ ‡æ³¨äº‹åŠ¡å³å¯é›†æˆ TM\n","categories":["å¾®æœåŠ¡"]},{"title":"åŸºäºå“ˆå¸Œè¡¨çš„ç®€å•è”ç³»äººæŸ¥è¯¢ç³»ç»Ÿ","url":"/2021/10/4704f1867b79.html","content":"\nåŸºäºæ•£åˆ—è¡¨æ•°æ®ç»“æ„ï¼Œé‡‡ç”¨äºŒæ¬¡å†æ•£åˆ—çš„æ–¹æ³•è§£å†³å†²çªï¼Œç¼–å†™çš„è”ç³»äººå­˜å‚¨ç³»ç»Ÿ\n\nHashTable#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt;#define MAXSIZE 20#define OK 1#define FALSE 0//å®šä¹‰å­˜å‚¨ä¸ªäººä¿¡æ¯çš„ç»“æ„ä½“ typedef struct&#123;\tchar name[20];\t//å§“å \tchar phone[20];\t//ç”µè¯ \tchar location[30];\t//åœ°å€ &#125;Person;//å®šä¹‰æ•£åˆ—è¡¨HashTabletypedef struct&#123;\tPerson* array[MAXSIZE];\t//å­˜å‚¨è”ç³»äººçš„åŠ¨æ€æ•°ç»„ \tint count;\t\t//å½“å‰è¡¨ä¸­å…ƒç´ æ€»ä¸ªæ•° &#125;HashTable; //å°†ç”µè¯å·ç å¤„ç†ä¸ºkey int GetKey(char phone[])&#123;\t//å°†ç”µè¯å·ç çš„æ¯ä¸€ä½æ•°å­—åŠ èµ·æ¥å³ä¸ºkey\tint key=0;\tint i=0;\twhile(phone[i] != &#x27;\\0&#x27;) &#123;\t\tkey += phone[i]-&#x27;0&#x27;;\t\ti++;\t&#125;//\tprintf(&quot;key = %d\\n&quot;,key);\treturn key;&#125; //æ•£åˆ—å‡½æ•° ä¼ å…¥keyè¿”å›å­˜å‚¨çš„ä½ç½®l=Hash(key) int Hash(int key)&#123;\treturn key%19;\t//é‡‡ç”¨é™¤ç•™ä½™æ•°æ³•,ç”±äºè¡¨é•¿ä¸º20,é™¤æ•°ä¸€èˆ¬ä¸ºå°äºæˆ–ç­‰äºè¡¨é•¿çš„æœ€å¤§è´¨æ•°ï¼Œæ‰€ä»¥è¿™é‡Œä¸º19 &#125; //åˆå§‹åŒ–æ•£åˆ—è¡¨HashTable* InitHashTable()&#123;\tHashTable *hashTable = NULL;\thashTable = (HashTable*)malloc(sizeof(HashTable));\thashTable-&gt;count = 0;\t//åˆå§‹åŒ–æ—¶hashè¡¨ä¸­æ²¡æœ‰å…ƒç´  \tint i;\tfor(i=0;i&lt;MAXSIZE;i++)&#123;\t\thashTable-&gt;array[i] = NULL; //ä¸ºæ¯ä¸ªä½ç½®çš„ç”µè¯åˆå§‹åŒ–ä¸º-1\t&#125;&#125; //int Save()//int HandleCollision(HashTable *hashTable,Person person,int loc)&#123;//\t//&#125;//æ’å…¥æ•°æ®int Insert(HashTable *hashTable,Person *person)&#123;\tint key = GetKey(person-&gt;phone);\tint loc = Hash(key);//è·å–åœ¨hashè¡¨ä¸­çš„ä½ç½®\t \tif(hashTable-&gt;array[loc] == NULL)&#123;\t\t//å¦‚æœè¯¥ä½ç½®ä¸ºç©ºï¼Œå°±å°†è”ç³»äººå­˜å‚¨åˆ°æ­¤å¤„\t\thashTable-&gt;array[loc] =  person;\t\thashTable-&gt;count++;\t\treturn OK;\t&#125;else&#123;\t\t//å¦‚æœè¯¥ä½ç½®ä¸ä¸ºç©ºï¼Œåˆ™å‡ºç°æ•£åˆ—è¡¨å†²çªï¼Œé‡‡ç”¨äºŒæ¬¡æ¢æµ‹å†æ•£åˆ—æ–¹å¼å¤„ç†\t\tint j=1;\t\tint k=0;\t\twhile(1)&#123;\t\t\tint newLoc = -1;\t\t\tif(k%2 == 0)&#123;\t\t\t\tnewLoc = loc + j*j;\t\t\t\tk++;\t\t\t&#125;else&#123;\t\t\t\tnewLoc = loc - j*j;\t\t\t\tj++;\t\t\t\tk++;\t\t\t\tif(newLoc &lt; 0)&#123;\t\t\t\t\t//ç›¸å‡æ—¶è¦è€ƒè™‘è´Ÿæ•°ï¼Œè´Ÿæ•°æ— æ³•å–æ¨¡ \t\t\t\t\tcontinue;\t\t\t\t&#125;\t\t\t&#125;\t\t\tif(newLoc&gt;MAXSIZE)&#123;\t\t\t\t//æ•°ç»„è¶Šç•Œ\t\t\t\treturn FALSE; \t\t\t&#125;\t\t\tif(hashTable-&gt;array[newLoc] == NULL)&#123;\t\t\t\t//å¦‚æœè¯¥ä½ç½®ä¸ºç©ºï¼Œå°±å°†è”ç³»äººå­˜å‚¨åˆ°æ­¤å¤„\t\t\t\thashTable-&gt;array[newLoc] =  person;\t\t\t\thashTable-&gt;count++;\t\t\t\treturn OK;\t\t\t&#125;\t\t&#125;\t&#125;\t&#125; //æŸ¥æ‰¾æ•°æ®Person* Find(HashTable *hashTable,char phone[])&#123;\tint loc = Hash(GetKey(phone));//è·å–åœ¨hashè¡¨ä¸­çš„ä½ç½®\tif(hashTable-&gt;array[loc] == NULL)&#123;\t\treturn NULL;\t&#125; \tif(!strcmp(hashTable-&gt;array[loc]-&gt;phone,phone))&#123;\t\t//å¦‚æœè¯¥ä½ç½®çš„å€¼ç­‰äºæŸ¥è¯¢çš„å€¼ï¼Œå°±å°†è”ç³»äººè¿”å› \t\treturn hashTable-&gt;array[loc]; \t&#125;else&#123;\t\t//å‡ºç°æ•£åˆ—è¡¨å†²çªï¼Œé‡‡ç”¨äºŒæ¬¡æ¢æµ‹å†æ•£åˆ—æ–¹å¼å¤„ç†\t\tint j=1;\t\tint k=0;\t\twhile(1)&#123;\t\t\tint newLoc = -1;\t\t\tif(k%2 == 0)&#123;\t\t\t\tnewLoc = loc + j*j;\t\t\t\tk++;\t\t\t&#125;else&#123;\t\t\t\tnewLoc = loc - j*j;\t\t\t\tj++;\t\t\t\tk++;\t\t\t\tif(newLoc &lt; 0)&#123;\t\t\t\t\t//ç›¸å‡æ—¶è¦è€ƒè™‘è´Ÿæ•°ï¼Œè´Ÿæ•°æ— æ³•å–æ¨¡ \t\t\t\t\tcontinue;\t\t\t\t&#125;\t\t\t&#125;\t\t\tif(newLoc&gt;MAXSIZE || hashTable-&gt;array[newLoc] == NULL)&#123;\t\t\t\t//æœªæ‰¾åˆ°è”ç³»äºº \t\t\t\treturn NULL;\t\t\t&#125;\t\t\t\t\t\tif(!strcmp(hashTable-&gt;array[newLoc]-&gt;phone,phone))&#123;\t\t\t\t//å¦‚æœè¯¥ä½ç½®çš„å€¼ç­‰äºæŸ¥è¯¢çš„å€¼ï¼Œå°±å°†è”ç³»äººè¿”å› \t\t\t\treturn hashTable-&gt;array[newLoc]; \t\t\t&#125;\t\t&#125;\t&#125;&#125;//å±•ç¤ºæ‰€æœ‰è”ç³»äºº,ç”±äºæ•°ç»„å†™æ­»ï¼Œæ‰€ä»¥æœ€å¤§å­˜å‚¨ä¸ºMAXSIZEï¼Œå¯è‡ªè¡Œå‡çº§ä¸ºåŠ¨æ€æ•°ç»„ void ShowAll(HashTable *hashTable)&#123;\tif(hashTable)&#123;\t\tint i;\t\tprintf(&quot;ä¸€å…±æœ‰%dæ¡è®°å½•:\\n&quot;,hashTable-&gt;count);\t\tfor(i=0;i&lt;MAXSIZE;i++)&#123;\t\t\tif(hashTable-&gt;array[i] != NULL)&#123;\t\t\t\tprintf(&quot;å§“åï¼š%s\\tç”µè¯ï¼š%s\\tåœ°å€ï¼š%s\\t\\n&quot;,hashTable-&gt;array[i]-&gt;name,hashTable-&gt;array[i]-&gt;phone,hashTable-&gt;array[i]-&gt;location);\t\t\t&#125;\t\t&#125;\t\tprintf(&quot;åŠ è½½å®Œæ¯•ï¼&quot;);\t\tsystem(&quot;pause&quot;);\t&#125;else&#123;\t\tprintf(&quot;è¯·å…ˆå»ºç«‹è”ç³»ç°™ï¼&quot;);\t\tsystem(&quot;pause&quot;); \t&#125;&#125;void menu()&#123;    printf(&quot;\\nè¯·é€‰æ‹©æ“ä½œ&quot;);  printf(&quot;\\n========================================&quot;);  printf(&quot;\\n|          1--å»ºç«‹è”ç³»ç°™               |&quot;);  printf(&quot;\\n|          2--æ·»åŠ è”ç³»äºº               |&quot;);  printf(&quot;\\n|          3--æŸ¥æ‰¾è”ç³»äºº               |&quot;);  printf(&quot;\\n|          4--æ˜¾ç¤ºæ‰€ä»¥è”ç³»äºº           |&quot;);  printf(&quot;\\n|          0--é€€å‡º                     |&quot;);  printf(&quot;\\n========================================&quot;);  printf(&quot;\\nè¯·è¾“å…¥èœå•å·(0-4)ï¼š&quot;);&#125; void main()&#123;\tHashTable *hashTable = NULL;\twhile(1)&#123; \t\tmenu(); \t\tint i; \t\tscanf(&quot;%d&quot;,&amp;i);\t\tif(i == 1)&#123;\t\t\thashTable = InitHashTable();\t\t\tprintf(&quot;å»ºç«‹æˆåŠŸï¼&quot;);\t\t\tsystem(&quot;pause&quot;);\t\t&#125;else if(i == 2)&#123;\t\t\tif(hashTable == NULL)&#123;\t\t\t\tprintf(&quot;è¯·å…ˆå»ºç«‹è”ç³»ç°™ï¼&quot;);\t\t\t\tsystem(&quot;pause&quot;); \t\t\t\tcontinue;\t\t\t&#125;\t\t\tPerson *p = NULL;\t\t\tp = (Person*)malloc(sizeof(Person));\t\t\tprintf(&quot;è¾“å…¥ç”µè¯å·ç ï¼š&quot;); \t\t\tscanf(&quot;%s&quot;,p-&gt;phone);\t\t\tprintf(&quot;è¾“å…¥å§“åï¼š&quot;);\t\t\tscanf(&quot;%s&quot;,p-&gt;name);\t\t\tprintf(&quot;è¾“å…¥åœ°å€ï¼š&quot;);\t\t\tscanf(&quot;%s&quot;,p-&gt;location);\t\t\t\t\t\tInsert(hashTable,p);\t\t\tprintf(&quot;æ·»åŠ æˆåŠŸ!\\n&quot;);\t\t\tprintf(&quot;å§“åï¼š%s\\tç”µè¯ï¼š%s\\tåœ°å€ï¼š%s\\t\\n&quot;,p-&gt;name,p-&gt;phone,p-&gt;location);\t\t\tsystem(&quot;pause&quot;); \t\t&#125; else if(i == 3)&#123;\t\t\tif(hashTable == NULL)&#123;\t\t\t\tprintf(&quot;è¯·å…ˆå»ºç«‹è”ç³»ç°™ï¼&quot;);\t\t\t\tsystem(&quot;pause&quot;); \t\t\t\tcontinue;\t\t\t&#125;\t\t\tchar phone[20];\t\t\tprintf(&quot;è¾“å…¥å¾…æŸ¥æ‰¾å·ç ï¼š&quot;);\t\t\tscanf(&quot;%s&quot;,phone); \t\t\tPerson *findPerson = Find(hashTable,phone); \t\t\tif(findPerson)&#123;\t\t\t\tprintf(&quot;æŸ¥è¯¢æˆåŠŸ:\\n&quot;); \t\t\t\tprintf(&quot;å§“åï¼š%s\\tç”µè¯ï¼š%s\\tåœ°å€ï¼š%s\\t\\n&quot;,findPerson-&gt;name,findPerson-&gt;phone,findPerson-&gt;location);\t\t\t\tsystem(&quot;pause&quot;);\t\t\t&#125;else&#123;\t\t\t\tprintf(&quot;æœªæŸ¥è¯¢åˆ°è¯¥è”ç³»äººï¼&quot;);\t\t\t\tsystem(&quot;pause&quot;);\t\t\t&#125;\t\t  \t\t\t&#125;else if(i == 4)&#123;\t\t\tShowAll(hashTable);\t\t&#125;else if(i == 0)&#123; \t\t  \tprintf(&quot;æˆåŠŸé€€å‡ºç³»ç»Ÿï¼&quot;); \t\t  \tbreak; \t\t&#125; else&#123;\t\t   printf(&quot;æŒ‡ä»¤é”™è¯¯ï¼&quot;);\t\t   system(&quot;pause&quot;);\t\t&#125;\t&#125;\treturn;&#125;\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"tags":["c","æ•°æ®ç»“æ„ä¸ç®—æ³•"]},{"title":"åŸºäºæ ˆçš„è¿›åˆ¶è½¬æ¢å®ä¾‹","url":"/2021/10/705121821ad6.html","content":"\nä¸€ä¸ªè¿›åˆ¶è½¬æ¢çš„å°ç¨‹åºï¼Œåˆ©ç”¨æ ˆæ•°æ®ç»“æ„çš„ç‰¹æ€§\n\n#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#define MAXSIZE 200typedef struct&#123;\t//è¿™é‡Œé‡‡ç”¨ä¸åŒäºç®—æ³•æ€»ç»“å¸–å­é‡Œçš„æ–¹æ³•å»ºç«‹æ ˆ \tint *top;  //æŒ‡å‘æ ˆé¡¶ \tint *base; //æŒ‡å‘æ ˆåº• \tint SIZE;&#125;Stack;Stack *initStack()&#123;\tStack *s = (Stack*)malloc(sizeof(Stack));\t//åŠ¨æ€å£°æ˜ä¸€ä¸ªæ ˆ \ts-&gt;SIZE = MAXSIZE;\t\t\t\t\t\t\t//è®¾ç½®æ ˆçš„æœ€å¤§å¤§å° \ts-&gt;base = (int*)malloc(MAXSIZE*sizeof(int));//åŠ¨æ€ç”Ÿæˆä¸€ä¸ªæ•°ç»„å°†æ•°ç»„é¦–åœ°å€èµ‹å€¼ç»™s-&gt;base,æ•°ç»„å¤§å°ä¸ºMAXSIZE \ts-&gt;top = s-&gt;base;\t\t\t\t\t\t\t//åˆå§‹åŒ–æ ˆæ—¶æ ˆä¸ºç©ºï¼Œæ‰€ä»¥æ ˆé¡¶æŒ‡é’ˆä¸æ ˆåº•æŒ‡é’ˆæŒ‡å‘æ•°ç»„é¦–åœ°å€ \treturn s;&#125;//åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©ºï¼Œå½“æ ˆé¡¶ä¸æ ˆåº•æŒ‡å‘åŒä¸€å—åŒºåŸŸåˆ™è¡¨æ˜æ ˆä¸ºç©º int isEmpty(Stack *s)&#123;\tif(s-&gt;base == s-&gt;top) return 1;\treturn 0;&#125;//åˆ¤æ–­æ ˆæ˜¯å¦æ»¡ï¼Œå¦‚æœæ ˆé¡¶-æ ˆåº•ç­‰äºæ ˆçš„æœ€å¤§é•¿åº¦åˆ™æ»¡ int isFull(Stack *s)&#123;\tif(s-&gt;top - s-&gt;base == s-&gt;SIZE) return 1;\treturn 0;&#125;//å‹æ ˆï¼Œå…ˆåˆ¤æ–­æ ˆæ˜¯å¦æ»¡ï¼Œæœªæ»¡åˆ™å°†æ•°æ®å­˜å…¥ï¼Œæ ˆé¡¶æŒ‡é’ˆ++ int push(Stack *s,int data)&#123;\tif(!isFull(s))&#123;\t\t*(s-&gt;top) = data;\t\ts-&gt;top++;\t\treturn 1;\t&#125;\treturn 0;&#125;//å‡ºæ ˆï¼Œå…ˆåˆ¤æ–­æ ˆæ˜¯å¦ç©ºï¼Œä¸ä¸ºç©ºåˆ™å°†æ•°æ®å¼¹å‡ºï¼Œæ ˆé¡¶æŒ‡é’ˆ-- int pop(Stack *s,int *data)&#123;\tif(!isEmpty(s))&#123;\t\t*data = *(s-&gt;top-1);\t\ts-&gt;top--;\t\treturn 1;\t&#125;\treturn 0;&#125;int main()&#123;\tprintf(&quot;è¯·è¾“å…¥ä¸€ä½æ•°:&quot;);\tint num;\tscanf(&quot;%d&quot;,&amp;num);\tprintf(&quot;è¯·è¾“å…¥è½¬æ¢çš„è¿›åˆ¶:&quot;);\tint n;\tscanf(&quot;%d&quot;,&amp;n);\tint next = num;\tStack *s = initStack();\t\t//ç”³è¯·ä¸€ä¸ªæ ˆ\t//åˆ©ç”¨æ ˆå…ˆè¿›åå‡ºçš„åŸç†ï¼Œå°†è¿›åˆ¶è½¬æ¢çš„ä½™æ•°ä¾æ¬¡æ”¾å…¥æ ˆä¸­ï¼Œæœ€ååœ¨ä¾æ¬¡å‡ºæ ˆï¼Œå‡ºæ ˆé¡ºåºå³ä¸ºè¿›åˆ¶æ•° \twhile(next != 0)&#123;\t\tpush(s,next % n );\t\tnext = next / n;\t&#125;\t\t//å¾ªç¯å‡ºæ ˆç›´åˆ°æ ˆç©º \twhile(!isEmpty(s))&#123;\t\tint data;\t\tpop(s,&amp;data);\t\tprintf(&quot;%d&quot;,data);\t&#125;\treturn 0;&#125;\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"tags":["c","æ•°æ®ç»“æ„ä¸ç®—æ³•","æ ˆ"]},{"title":"èƒŒåŒ…é—®é¢˜ä¹‹æ±‚å…·ä½“æ–¹æ¡ˆ","url":"/2021/11/d1d91b2b7f7b.html","content":"é¢˜ç›®æ¥æºhttps://www.acwing.com/problem/content/12/\n\né¢˜ç›®æœ‰ N ä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ V çš„èƒŒåŒ…ã€‚æ¯ä»¶ç‰©å“åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚\nç¬¬ i ä»¶ç‰©å“çš„ä½“ç§¯æ˜¯ viï¼Œä»·å€¼æ˜¯ wiã€‚\næ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿è¿™äº›ç‰©å“çš„æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”æ€»ä»·å€¼æœ€å¤§ã€‚\nè¾“å‡º å­—å…¸åºæœ€å°çš„æ–¹æ¡ˆã€‚è¿™é‡Œçš„å­—å…¸åºæ˜¯æŒ‡ï¼šæ‰€é€‰ç‰©å“çš„ç¼–å·æ‰€æ„æˆçš„åºåˆ—ã€‚ç‰©å“çš„ç¼–å·èŒƒå›´æ˜¯1â€¦Nã€‚\nè¾“å…¥æ ¼å¼ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°ï¼ŒNï¼ŒVï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“æ•°é‡å’ŒèƒŒåŒ…å®¹ç§¯ã€‚\næ¥ä¸‹æ¥æœ‰ N è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° vi,wiï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ i ä»¶ç‰©å“çš„ä½“ç§¯å’Œä»·å€¼ã€‚\nè¾“å‡ºæ ¼å¼è¾“å‡ºä¸€è¡Œï¼ŒåŒ…å«è‹¥å¹²ä¸ªç”¨ç©ºæ ¼éš”å¼€çš„æ•´æ•°ï¼Œè¡¨ç¤ºæœ€ä¼˜è§£ä¸­æ‰€é€‰ç‰©å“çš„ç¼–å·åºåˆ—ï¼Œä¸”è¯¥ç¼–å·åºåˆ—çš„å­—å…¸åºæœ€å°ã€‚\nç‰©å“ç¼–å·èŒƒå›´æ˜¯ 1â€¦Nã€‚\næ•°æ®èŒƒå›´0&lt;N,Vâ‰¤1000\n0&lt;vi,wiâ‰¤1000\nè¾“å…¥æ ·ä¾‹4 51 22 43 44 6\n\nè¾“å‡ºæ ·ä¾‹1 4\n\næœ¬é¢˜DPæ€æƒ³1.dpæ•°ç»„çš„å®šä¹‰ï¼šdp[i][j]è¡¨ç¤ºè€ƒè™‘äº†æ˜¯å¦é€‰ç¬¬iä¸ªç‰©å“ä»¥åŠä¹‹åçš„æ‰€æœ‰ç‰©å“ä¹‹åèƒŒåŒ…å®¹é‡ä¸è¶…è¿‡jçš„æœ€ä¼˜è§£(ä»·å€¼æœ€å¤§)\n2.çŠ¶æ€è½¬ç§»:dp[i][j] &#x3D; max(dp[i+1][j],dp[i+1][j-v[i]])ï¼ŒçŠ¶æ€å¯ä»¥é€šè¿‡(é€‰ï¼Œä¸é€‰)æ¥è¿›è¡Œè½¬ç§»ï¼Œå®ƒæ˜¯ç”±ä¸Šä¸€çŠ¶æ€ä¸é€‰ç¬¬iä¸ªç‰©å“æˆ–è€…ä¸Šä¸€çŠ¶æ€é€‰ç¬¬iä¸ªç‰©å“è½¬ç§»å¾—åˆ°.\n\nå½“dp[i][j] &#x3D; dp[i+1][j]ä¸Šä¸€çŠ¶æ€ä¸”ä¸é€‰ç¬¬iä¸ªç‰©å“ï¼šè¿™æ—¶å€™çš„ä¸Šä¸€çŠ¶æ€æ ¹æ®å®šä¹‰å°±æ˜¯ï¼Œè€ƒè™‘ç¬¬i+1ä¸ªç‰©å“ä»¥åŠä¹‹åçš„æ‰€æœ‰ç‰©å“,ä¸”èƒŒåŒ…å®¹é‡æœ€å¤§ä¸è¶…è¿‡jæ—¶è¿™ä¸ªçŠ¶æ€,ç”±äºæœªé€‰æ‰€ä»¥å½“å‰çŠ¶æ€æ˜¯ç›´æ¥ç”±ä¸Šä¸€çŠ¶æ€è½¬ç§»\nå½“dp[i][j] &#x3D; dp[i+1][j-v[i]]+w[i]ä¸Šä¸€çŠ¶æ€é€‰ç¬¬iä¸ªç‰©å“ï¼šè¿™æ—¶å€™çš„ä¸Šä¸€çŠ¶æ€æ ¹æ®å®šä¹‰å°±æ˜¯ï¼Œè€ƒè™‘ç¬¬i+1ä¸ªç‰©å“ä»¥åŠä¹‹åçš„æ‰€æœ‰ç‰©å“,ä¸”èƒŒåŒ…å®¹é‡æœ€å¤§ä¸è¶…è¿‡j-v[i]æ—¶è¿™ä¸ªçŠ¶æ€(çŠ¶æ€è½¬ç§»ä¹‹åèƒŒåŒ…ä½“ç§¯ä¸ºjï¼Œé‚£ä¹ˆè½¬ç§»ä¹‹å‰èƒŒåŒ…ä½“ç§¯è‚¯å®šå°±æ˜¯å‡å»é€‰è¿™ä¸ªç‰©å“çš„ä½“ç§¯å•¦)ï¼Œæ‰€ä»¥å½“å‰çŠ¶æ€ç­‰äºä¸Šä¸€çŠ¶æ€åŠ ä¸Šå½“å‰æ‰€é€‰ç‰©å“çš„ä»·å€¼\nç”±äºæ±‚çš„æœ€ä¼˜è§£ï¼Œæ‰€ä»¥è¦ä»è¿™ä¸¤ç§çŠ¶æ€è½¬ç§»ä¸­é€‰æ‹©ä»·å€¼æœ€å¤§çš„\n\n3.åˆå§‹åŒ–:ç”±äºdpæ˜¯ä»æœ€åä¸€ä¸ªç‰©å“å¼€å§‹ï¼Œæ‰€ä»¥åˆå§‹çŠ¶æ€æ˜¯dp[n+1][j]ï¼Œå¥—ä¸ŠçŠ¶æ€å®šä¹‰å°±æ˜¯è€ƒè™‘äº†ç¬¬n+1ä¸ªç‰©å“åŠå…¶ä»¥åçš„æ‰€ä»¥ç‰©å“ä¸”,èƒŒåŒ…æœ€å¤§ä½“ç§¯ä¸è¶…è¿‡jçš„æœ€ä¼˜è§£ã€‚ç”±äºä¸å­˜åœ¨ç¬¬n+1ä¸ªç‰©å“åŠå…¶ä»¥åçš„æ‰€æœ‰ç‰©å“ï¼Œæ‰€ä»¥è¿™æ—¶å€™dp[n+1]xçš„æœ€ä¼˜è§£å°±æ˜¯0\n4.æœ¬é¢˜è¾“å‡ºçŠ¶æ€è½¬ç§»è·¯å¾„çš„è§£é‡Šï¼šæˆ‘ä»¬å·²ç»æœ‰çŠ¶æ€è½¬ç§»æ•°ç»„äº†ï¼Œæˆ‘ä»¬å†é€šè¿‡çŠ¶æ€è½¬ç§»æ•°ç»„å€’æ¨å…·ä½“æ˜¯æ€æ ·è½¬ç§»çš„ï¼›å¯ä»¥è¿™æ ·ç†è§£ï¼Œæˆ‘ä»¬è®°å½•å„ç§çŠ¶æ€è½¬ç§»ï¼Œå¹¶ä¸”å¾—åˆ°äº†æœ€ä¼˜è§£ï¼Œç°åœ¨æˆ‘ä»¬èƒŒåŒ…é‡Œå·²ç»è£…äº†ä¸œè¥¿(æœ€ä¼˜ä»·å€¼),æˆ‘ä»¬æšä¸¾æ¯ä¸€ä»¶ç‰©å“åˆ¤æ–­è¿™ä»¶ç‰©å“æ˜¯å¦è£…å…¥äº†èƒŒåŒ…é‡Œï¼Œå¦‚æœè£…å…¥äº†æˆ‘ä»¬å°±å°†ç‰©å“ç¼–å·è¾“å‡ºï¼Œç„¶åå°†è¯¥ç‰©å“ä»èƒŒåŒ…ä¸­å–å‡ºï¼Œå…³é”®å°±åœ¨äºæ€ä¹ˆåˆ¤æ–­å®ƒæ˜¯å¦è£…å…¥äº†ï¼Ÿè¿™æ—¶å€™å°±è¦ç”¨åˆ°çŠ¶æ€è½¬ç§»æ•°ç»„ï¼šm-å½“å‰æœ€å¤§èƒŒåŒ…å®¹é‡ï¼Œæˆ‘ä»¬åˆ¤æ–­dp[i]mè¿™ä¸ªçŠ¶æ€æ˜¯å¦æ˜¯dp[i+1]m-v[i]é€šè¿‡è£…å…¥ç¬¬iä¸ªç‰©å“æ‰€è½¬ç§»å¾—åˆ°çš„å¦‚æœæ˜¯åˆ™è¾“å‡ºé€‰æ‹©çš„ç‰©å“åºå·ï¼Œå¹¶å°†è¯¥ç‰©å“ä»èƒŒåŒ…ä¸­å–å‡ºï¼Œå–å‡ºåèƒŒåŒ…æœ€å¤§ä½“ç§¯ä¸ºm &#x3D; m-v[i]ï¼Œä¸‹ä¸€æ¬¡æˆ‘ä»¬åˆåˆ¤æ–­dp[i+1][m]è¿™ä¸ªçŠ¶æ€æ˜¯å¦æ˜¯dp[i+1+1][m-v[i+1]]è½¬ç§»å¾—åˆ°ï¼Œä»£ç å¤„è¿˜æœ‰æ ·ä¾‹è§£é‡Š\n5.ä¸ºä»€ä¹ˆè¦å€’ç€dp?\né¢˜ç›®è¦æ±‚è¦è¾“å‡ºå­—å…¸åºæœ€å°ï¼Œå¦‚æœ1,2,3ä¸1,2,4éƒ½èƒ½å¾—åˆ°æœ€ä¼˜è§£ï¼Œé‚£ä¹ˆåº”è¯¥è¾“å‡º1,2,3.èƒ½é€‰3å°±ä¸èƒ½è·³è¿‡3ä¸é€‰ã€‚æ‰€ä»¥æˆ‘ä»¬åº”è¯¥å€’ç€dp(ç”¨ä¸‹é¢è¿™ä¸ªå®šä¹‰è€ƒè™‘ï¼Œdp[1][V]å°±è¡¨æ˜è€ƒè™‘äº†ç¬¬ä¸€ä¸ªåŠå…¶ä»¥åçš„ç‰©å“-&gt;ä¹Ÿå°±æ˜¯æ‰€æœ‰ç‰©å“åï¼ŒèƒŒåŒ…ä½“ç§¯ä¸è¶…è¿‡Vçš„æ—¶åˆ»)ç„¶åé¡ºç€è€ƒè™‘è½¬ç§»è·¯å¾„ï¼Œè¿™ä¸ªå®šä¹‰å°±æ˜¯åœ¨è¡¨æ˜ï¼Œç°åœ¨æˆ‘ä»¬èƒŒåŒ…é‡Œå·²ç»è£…äº†ä¸œè¥¿(æœ€ä¼˜ä»·å€¼),æˆ‘ä»¬æšä¸¾æ¯ä¸€ä»¶ç‰©å“åˆ¤æ–­è¿™ä»¶ç‰©å“æ˜¯å¦è£…å…¥äº†èƒŒåŒ…é‡Œï¼Œå¦‚æœè£…å…¥äº†æˆ‘ä»¬å°±å°†ç‰©å“ç¼–å·è¾“å‡ºï¼Œç„¶åå°†è¯¥ç‰©å“ä»èƒŒåŒ…ä¸­å–å‡ºï¼Œæ€ä¹ˆè¡¨è¾¾å–å‡ºç‰©å“ï¼Ÿå°±æ˜¯èƒŒåŒ…çš„æœ€å¤§ä½“ç§¯å‡å°‘!\nACä»£ç #include &lt;iostream&gt;#include &lt;queue&gt;using namespace std;const int MAX = 1003;int dp[MAX][MAX],v[MAX],w[MAX];/** * n-ç‰©å“æ€»æ•°ï¼ŒV-èƒŒåŒ…æœ€å¤§å®¹é‡ï¼Œdp[MAX][MAX]-çŠ¶æ€æ•°ç»„ï¼Œv[MAX]-å­˜å‚¨æ¯ä¸ªç‰©å“ä½“ç§¯çš„æ•°ç»„ï¼Œw[MAX]-å­˜å‚¨æ¯ä¸ªç‰©å“ä»·å€¼çš„æ•°ç»„ */int main()&#123;    int n,V;    //n-ç‰©å“æ€»æ•°,V-èƒŒåŒ…æ€»é‡    cin&gt;&gt;n&gt;&gt;V;    for(int i = 1; i &lt;= V;i++) cin&gt;&gt;v[i]&gt;&gt;w[i];   //å°†æ¯ä¸ªç‰©å“çš„ä½“ç§¯å’Œä»·å€¼å­˜å‚¨        //for(int x = 0; x &lt;= V; x++) dp[n+1][x] = 0; //çŠ¶æ€åˆå§‹åŒ–ï¼Œå…¨å±€æ•°ç»„æ¯ä¸ªåˆå§‹å€¼éƒ½ä¸º0æ‰€æœ‰å¯ä»¥ä¸å¿…åˆå§‹åŒ–        for(int i = n;i&gt;=1;i--)&#123;        for(int j = 0;j&lt;=V;j++)&#123;            if(j&gt;=v[i])&#123;                dp[i][j] = max(dp[i+1][j],dp[i+1][j-v[i]]+w[i]);            &#125;else&#123;                dp[i][j] = dp[i+1][j];            &#125;        &#125;    &#125;    int m = V;    for(int i = 1;i&lt;=n;i++)&#123;        //å½“n&lt;v[i]æ—¶è‚¯å®šè¯¥çŠ¶æ€æ˜¯é€šè¿‡æ²¡æœ‰é€‰iç‰©å“è½¬ç§»å¾—åˆ°çš„        //æ ·ä¾‹è¯´æ˜ï¼Œå½“æšä¸¾åˆ°ç¬¬2ä¸ªç‰©å“æ—¶ï¼Œé¦–å…ˆçœ‹å½“å‰èƒŒåŒ…æœ€å¤§ä½“ç§¯æ˜¯å¦å¯èƒ½æ”¾ç¬¬2ä¸ªç‰©å“ï¼Œå¦‚æœå¯ä»¥ï¼Œè¿›ä¸€æ­¥åˆ¤æ–­å½“å‰èƒŒåŒ…dp[i][m]æ˜¯å¦æ”¾äº†ç¬¬2ä¸ªç‰©å“        //å¦‚æœæ˜¯æ”¾å…¥äº†çš„æƒ…å†µï¼Œé‚£ä¹ˆèƒŒåŒ…è¿™æ—¶å€™çš„ä»·å€¼å°±ç­‰äºæ‹¿å‡ºç¬¬2ä¸ªç‰©å“åçš„èƒŒåŒ…çš„ä»·å€¼åŠ ä¸Šç‰©å“2çš„ä»·å€¼(å¯èƒ½æ˜¯åºŸè¯)ï¼Œå“ˆå“ˆå“ˆ        if(m&gt;=v[i] &amp;&amp; dp[i][m] == dp[i+1][m-v[i]]+w[i])&#123;            cout&lt;&lt;i&lt;&lt;&quot; &quot;;            m-=v[i];        &#125;    &#125;    return 0;&#125;\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"tags":["æ•°æ®å’Œç»“æ„ä¸ç®—æ³•","èƒŒåŒ…","DP","æ‰“å¡"]},{"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•ç¬”è®°","url":"/2021/09/0c3e8f69e82f.html","content":"\nå‡†å¤‡æŠŠå¸¸ç”¨çš„æ•°æ®ç»“æ„ä¸ç®—æ³•éƒ½æ‰‹æ’¸ä¸€éï¼Œç¨‹åºéƒ½ç»è¿‡è°ƒè¯•å¹¶ä¸”å¯è¿è¡Œï¼Œä»£ç ä¸­ä¹Ÿæœ‰è¿‡ç¨‹æ³¨é‡Šä¾¿äºç†è§£ã€‚ä¹‹åä¼šæŠŠå„ç§æ•°æ®ç»“æ„çš„åº”ç”¨è¡¥ä¸Šï¼Œæ¯”å¦‚åŸºäºæ ˆçš„äºŒè¿›åˆ¶è½¬æ¢ï¼Œè®¡ç®—å™¨ï¼ŒåŸºäºé“¾è¡¨çš„ä¸€å…ƒå¤šé¡¹å¼æ±‚å’Œç­‰ã€‚\n\næ•°æ®ç»“æ„é¡ºåºè¡¨#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#define MAXLEN 100typedef int DataType;\t//å®šä¹‰æ•°æ®ç±»å‹ //ç”¨ç»“æ„ä½“æ¥å®Œæˆé¡ºåºè¡¨ typedef struct&#123;\t//DataType data[MAXLEN];\t//å­˜å‚¨é¡ºåºè¡¨æ•°æ®çš„æ•°ç»„ \tDataType *data;\t\t\t\t//é‡‡ç”¨åŠ¨æ€åˆå§‹åŒ–æ•°ç»„çš„æ–¹æ³• \tint length;\t\t\t\t\t//é¡ºåºè¡¨çš„é•¿åº¦ &#125;SeqList;// å¯¹é¡ºåºè¡¨æ“ä½œçš„ä¸€äº›å‡½æ•°//1.åˆå§‹åŒ–é¡ºåºè¡¨æ“ä½œ void initSeqList(SeqList *seqList)&#123;\tseqList-&gt;data=(DataType*)malloc(sizeof(DataType)*MAXLEN);//æ•°ç»„åŠ¨æ€åˆå§‹åŒ– \tseqList-&gt;length = 0;\t//åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„é¡ºåºè¡¨ï¼Œé¡ºåºè¡¨é•¿åº¦ä¸º0 &#125;//2.å»ºç«‹é¡ºåºè¡¨,nä¸ºå»ºç«‹é¡ºåºè¡¨çš„å…ƒç´ æ•°ç›® void createSeqList(SeqList *seqList,int n)&#123;\tif(n&gt;MAXLEN)&#123;\t\tprintf(&quot;è¶…è¿‡æœ€å¤§å­˜å‚¨é•¿åº¦ï¼\\n&quot;);\t\treturn;\t&#125;\tif(n&lt;1)&#123;\t\tprintf(&quot;æœªæ·»åŠ å…ƒç´ ï¼\\n&quot;);\t\treturn;\t&#125;\t\t\tprintf(&quot;è¯·è¾“å…¥%dä¸ªå…ƒç´ ï¼š&quot;,n);\tint i;\tfor(i=0;i&lt;n;i++)&#123;\t\tscanf(&quot;%d&quot;,&amp;seqList-&gt;data[i]);\t&#125; \tseqList-&gt;length=i;\tgetchar();&#125;//3.æŸ¥å–é¡ºåºè¡¨ä¸­ç¬¬å‡ ä½çš„å†…å®¹ ,iä¸ºä½ç½®ï¼ŒreturnDataæ˜¯è¿”å›çš„æ•°æ® int getItemByLocation(SeqList *seqList,int index,DataType *returnData)&#123;\tif(index &gt; seqList-&gt;length || index&lt;1)&#123;\t\treturn 0;\t\t&#125;else&#123;\t\t*returnData = seqList-&gt;data[index-1];\t\treturn 1;\t\t&#125; &#125; //4.æ ¹æ®å†…å®¹æŸ¥è¯¢å…¶åœ¨é¡ºåºè¡¨ä¸­çš„ä½ç½®int getItemByContent(SeqList *seqList,DataType context) &#123;\tint i;\tfor(i=0;i&lt;seqList-&gt;length;i++)&#123;\t\tif(seqList-&gt;data[i] == context)&#123;\t\t\treturn i+1;\t\t&#125;\t&#125;\treturn 0;&#125;//5.æ’å…¥æ“ä½œint insertItem(SeqList *seqList,DataType context,int i)&#123;\tif(seqList-&gt;length &gt;= MAXLEN || i&lt;1 || i&gt;seqList-&gt;length+1)&#123;\t\t//å½“å‰é¡ºåºè¡¨é•¿åº¦å·²ç»æ»¡äº†æˆ–è€…içš„å€¼éæ³•\t\tprintf(&quot;æ“ä½œé”™è¯¯ï¼&quot;);\t\treturn 0; \t&#125;\tif(i == seqList-&gt;length+1)&#123;\t\t//æ’å…¥çš„ä½ç½®ä¸ºæœ€åä¸€ä¸ªä½ç½®åˆ™ç›´æ¥æ”¾å…¥ \t\tseqList-&gt;data[i-1] = context; \t&#125;\tint j;\tfor(j = seqList-&gt;length-1;j&gt;=i-1;j--)&#123;\t\tseqList-&gt;data[j+1] = seqList-&gt;data[j];\t//å…ƒç´ åç§» \t&#125;\tseqList-&gt;data[i-1] = context;//æ’å…¥æ–°å…ƒç´  \tseqList-&gt;length++;\treturn 1;&#125; //6.åˆ é™¤æ“ä½œint  deleteItem(SeqList *seqList,int i,DataType *returnData)&#123;\tif(seqList-&gt;length == 0)&#123;\t\t//è¡¨ä¸ºç©ºåˆ™æ— æ³•åˆ é™¤ \t\tprintf(&quot;é¡ºåºè¡¨ä¸ºç©º&quot;);\t\treturn 0;\t&#125;\tif(i&gt;seqList-&gt;length||i&lt;1)&#123;\t\tprintf(&quot;è¶…å‡ºèŒƒå›´&quot;);\t\treturn 0;\t&#125;\t*returnData = seqList-&gt;data[i-1];//åˆ é™¤å…ƒç´  \tint j;\tfor(j=i;j&lt;seqList-&gt;length;j++)&#123;\t\t//å…ƒç´ å‰ç§» \t\tseqList-&gt;data[j-1] = seqList-&gt;data[j];\t&#125;\tseqList-&gt;length--; //é•¿åº¦å‡ä¸€\treturn 1; &#125; //7.æ˜¾ç¤ºé¡ºåºè¡¨ä¸­çš„æ‰€æœ‰æ•°æ® void showAll(SeqList *seqList)&#123;\tint i;\tfor(i=0;i&lt;seqList-&gt;length;i++)&#123;\t\tprintf(&quot;%d  &quot;,seqList-&gt;data[i]);\t&#125;&#125;//8.èœå•æ˜¾ç¤ºvoid menu()&#123;    printf(&quot;\\né¡ºåºè¡¨çš„å„ç§æ“ä½œ&quot;);  printf(&quot;\\n========================================&quot;);  printf(&quot;\\n|          1--å»ºç«‹é¡ºåºè¡¨               |&quot;);  printf(&quot;\\n|          2--æ’å…¥å…ƒç´                  |&quot;);  printf(&quot;\\n|          3--åˆ é™¤å…ƒç´                  |&quot;);  printf(&quot;\\n|          4--æŒ‰ä½ç½®æŸ¥æ‰¾å…ƒç´            |&quot;);  printf(&quot;\\n|          5--æŒ‰å…ƒç´ å€¼æŸ¥æ‰¾å…¶åœ¨è¡¨ä¸­ä½ç½® |&quot;);  printf(&quot;\\n|          6--æ±‚é¡ºåºè¡¨çš„é•¿åº¦           |&quot;);  printf(&quot;\\n|          7--æ˜¾ç¤ºé¡ºåºè¡¨å†…å®¹           |&quot;);  printf(&quot;\\n|          8--é”€æ¯é¡ºåºè¡¨               |&quot;);  printf(&quot;\\n|          0--è¿”å›                     |&quot;);  printf(&quot;\\n========================================&quot;);  printf(&quot;\\nè¯·è¾“å…¥èœå•å·(0-8)ï¼š&quot;);&#125; //9.è¡¥å……æ“ä½œ//9.1é”€æ¯ void destroySeqList(SeqList *seqList)&#123;\tif(seqList-&gt;data)&#123;\t\tfree(seqList-&gt;data);\t\tseqList-&gt;length=0;\t&#125;&#125;//9.2main()&#123;\tSeqList seqList; \tDataType dataType;\tint context;\tint n,i,loc,x;\tchar ch1,ch2,a;\tch1=&#x27;y&#x27;;\twhile(ch1==&#x27;y&#x27;||ch1==&#x27;Y&#x27;)&#123;\t\tmenu();\t\tscanf(&quot;%c&quot;,&amp;ch2);\t\tgetchar();\t\tswitch(ch2)\t\t&#123;\t\t\tcase &#x27;1&#x27;:\t\t\t\tinitSeqList(&amp;seqList);\t\t\t\tprintf(&quot;è¯·è¾“å…¥å»ºç«‹çº¿æ€§è¡¨çš„ä¸ªæ•°ï¼š&quot;);\t\t\t\tscanf(&quot;%d&quot;,&amp;n);\t\t\t\tcreateSeqList(&amp;seqList,n);\t\t\t\tprintf(&quot;å»ºç«‹çš„çº¿æ€§è¡¨ä¸ºï¼š&quot;);\t\t\t\tshowAll(&amp;seqList);\t\t\t\tbreak;\t  \t\tcase &#x27;2&#x27;:\t\t\t\tprintf(&quot;è¯·è¾“å…¥è¦æ’å…¥çš„ä½ç½®ï¼š&quot;);\t\t\t\tscanf(&quot;%d&quot;,&amp;i);\t\t\t\tgetchar();\t\t\t\tprintf(&quot;è¯·è¾“å…¥è¦æ’å…¥çš„å…ƒç´ å€¼ï¼š&quot;);\t\t\t\tscanf(&quot;%d&quot;,&amp;context);\t\t\t\tgetchar();\t\t\t\tif(insertItem(&amp;seqList,context,i))&#123;\t\t\t\t\tprintf (&quot;å·²æˆåŠŸåœ¨ç¬¬%dçš„ä½ç½®ä¸Šæ’å…¥%2d,æ’å…¥åçš„çº¿æ€§è¡¨ä¸º: \\n&quot;,i,context);\t\t\t\t\tshowAll(&amp;seqList);\t\t\t\t\tbreak;\t\t\t\t&#125;else&#123;\t\t\t\t\tprintf(&quot;è¾“å…¥æ’å…¥çš„å‚æ•°é”™è¯¯!\\n&quot;);\t\t\t\t\tbreak;\t\t\t\t&#125;\t\t\tcase &#x27;3&#x27;:\t\t\t\tprintf(&quot;è¯·è¾“å…¥è¦åˆ é™¤å…ƒç´ çš„ä½ç½®: &quot;);\t\t\t\tscanf(&quot;%d&quot;,&amp;i);\t\t\t\tif(deleteItem(&amp;seqList,i,&amp;x))&#123;\t\t\t\t\tprintf (&quot;å·²æˆåŠŸåœ¨ç¬¬%dçš„ä½ç½®ä¸Šåˆ é™¤%d,åˆ é™¤åçš„çº¿æ€§è¡¨ä¸º: \\n&quot;,i,x);\t\t\t\t\tshowAll(&amp;seqList);\t\t\t\t&#125;else\t\t\t\t\tprintf (&quot;\\nè¾“å…¥åˆ é™¤çš„å‚æ•°é”™è¯¯!&quot;);\t\t\t\tbreak;\t\t\tcase &#x27;4&#x27;:\t\t\t\tprintf(&quot;è¯·è¾“å…¥è¦æŸ¥çœ‹è¡¨ä¸­å…ƒç´ ä½ç½®(ä»1å¼€å§‹): &quot;);\t\t\t\tscanf (&quot;%d&quot;,&amp;i);\t\t\t\tif (getItemByLocation(&amp;seqList,i, &amp;x))\t\t\t\t\tprintf(&quot;å½“å‰çº¿æ€§è¡¨ç¬¬%dä¸ªå…ƒç´ çš„å€¼ä¸º: %d&quot;,i,x);\t\t\t\telse\t\t\t\t\tprintf (&quot;è¾“å…¥çš„ä½ç½®é”™è¯¯!&quot;);\t\t\t\tbreak;\t\t\tcase &#x27;5&#x27;:\t\t\t\tprintf(&quot;è¯·è¾“å…¥è¦æŸ¥æ‰¾çš„å…ƒç´ å€¼ä¸º: &quot;) ;\t\t\t\tscanf(&quot;%d&quot;,&amp;context) ;\t\t\t\tloc = getItemByContent(&amp;seqList, context);\t\t\t\tif(loc)\t\t\t\t\tprintf(&quot;æŸ¥æ‰¾å…ƒç´ å€¼ä¸º%dçš„ä½ç½®ä¸º: %d&quot;,context, loc);\t\t\t\telse\t\t\t\t\tprintf (&quot;è¯¥è¡¨ä¸­æ— æ­¤å…ƒç´ !&quot;);\t\t\t\tbreak;\t\t\tcase &#x27;6&#x27;:\t\t\t\tprintf(&quot;å½“å‰çº¿æ€§è¡¨çš„é•¿åº¦ä¸º: %d&quot;,seqList.length);\t\t\t\tbreak;\t\t\tcase &#x27;7&#x27;:\t\t\t\tshowAll(&amp;seqList); \t\t\t\tbreak;\t\t\tcase &#x27;8&#x27;:\t\t\t\tdestroySeqList(&amp;seqList);\t\t\t\tbreak;\t\t\tcase &#x27;0&#x27; :\t\t\t\tch1=&#x27;n&#x27;;\t\t\t\tbreak;\t\t\tdefault:\t\t\t\tprintf(&quot;è¾“å…¥æœ‰è¯¯ï¼Œè¯·è¾“å…¥0~6è¿›è¡Œé€‰æ‹©!&quot;);\t\t\t&#125;\t\tprintf(&quot;\\n&quot;);\t\t\tsystem(&quot;pause&quot;);\t\t\t&#125;&#125;\n\nå•é“¾è¡¨\nç»“æ„ä½“ç‰ˆæœ¬é“¾è¡¨-åŠ¨æ€é“¾è¡¨ï¼Œç”±äºæ¯æ¬¡æ’å…¥éœ€è¦åŠ¨æ€åˆ†é…ç©ºé—´ï¼Œæ•ˆç‡å¤ªä½ï¼Œé€‚åˆå·¥ç¨‹å¼€å‘æ—¶ä½¿ç”¨\n\næ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨-é™æ€é“¾è¡¨ï¼Œé€Ÿåº¦å¿«ï¼Œé€‚åˆäºç®—æ³•é¢˜\nåŠ¨æ€é“¾è¡¨#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;typedef int DataType;typedef struct linknode&#123;\tDataType data;\tstruct linknode *next;&#125; LinkList;//åˆå§‹åŒ–ä¸€ä¸ªå•é“¾è¡¨void *initList()&#123;\tLinkList *head;\thead = (LinkList*)malloc(sizeof(LinkList));\t//åŠ¨æ€çš„åˆ†é…ä¸€ä¸ªå¤´æŒ‡é’ˆ \thead-&gt;next= NULL;\treturn head;&#125; //å¢-å¤´æ’æ³•,næ’å…¥çš„å…ƒç´  void createListH(LinkList *head,int n)&#123;\tLinkList *node;\tint i;\tprintf(&quot;è¯·è¾“å…¥%dä¸ªå…ƒç´ :&quot;,n);\tfor(i=0;i&lt;n;i++)&#123;\t\tnode = (LinkList*)malloc(sizeof(LinkList));\t//åŠ¨æ€åˆ†é…ä¸€ä¸ªæ–°èŠ‚ç‚¹ \t\tscanf(&quot;%d&quot;,&amp;node-&gt;data);\t\t\t\t//å°†æ–°èŠ‚ç‚¹çš„nextæŒ‡é’ˆæŒ‡å‘ä¸Šä¸€ä¸ªæ·»åŠ çš„èŠ‚ç‚¹(å¤´èŠ‚ç‚¹)\t\tnode-&gt;next = head-&gt;next; \t\t//æ›´æ–°å¤´èŠ‚ç‚¹\t\thead-&gt;next = node; \t&#125;\tprintf(&quot;é€šè¿‡å¤´æ’æ³•æˆåŠŸå»ºç«‹é“¾è¡¨ï¼&quot;);&#125; //å¢-å°¾æ’æ³•ï¼Œnæ’å…¥çš„å…ƒç´  void createListL(LinkList *head,int n)&#123;\t\tLinkList *node,*last;\tlast = head;\t\t//è®¾ç½®å¤´ä¸ºæœ€åä¸€ä¸ªèŠ‚ç‚¹ \tint i;\tprintf(&quot;è¯·è¾“å…¥%dä¸ªå…ƒç´ ï¼š&quot;,n);\tfor(i=0;i&lt;n;i++)&#123;\t\tnode = (LinkList*)malloc(sizeof(LinkList));//åŠ¨æ€ç”Ÿæˆæ–°èŠ‚ç‚¹ \t\tscanf(&quot;%d&quot;,&amp;node-&gt;data);\t\t\t\t\t\t\tlast-&gt;next=node;\t\t\t\t\t\t\t//è®¾ç½®æ–°èŠ‚ç‚¹ä¸ºæœ€åèŠ‚ç‚¹ \t\tnode-&gt;next=NULL;\t\t\t\t\t\t\t//è®¾ç½®æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„nextä¸ºç©º \t\tlast = node;\t\t\t\t\t\t\t\t//å°†lastæŒ‡å‘s \t&#125;\tprintf(&quot;é€šè¿‡å°¾æ’æ³•æˆåŠŸå»ºç«‹é“¾è¡¨!&quot;); &#125; //æŸ¥è¯¢é“¾è¡¨é•¿åº¦int lengthList(LinkList *head)&#123;\tLinkList *node;\tint count = 0;\tnode = head-&gt;next;\twhile(node!=NULL)&#123;\t\t//ä¸ä¸ºå°¾èŠ‚ç‚¹åˆ™è¿›å…¥å¾ªç¯ \t\tcount++;\t\tnode=node-&gt;next;\t&#125;\treturn count;\t&#125; //æŒ‰å€¼æŸ¥æ•°æ®int queryDataByContent(LinkList *head,DataType x)&#123;\tLinkList *node;\tnode = head-&gt;next;\tint j=1;\twhile(node != NULL &amp;&amp; node-&gt;data != x)&#123;\t\tnode = node-&gt;next;\t\tj++;\t&#125;\tif(node != NULL)&#123;\t\tprintf(&quot;åœ¨è¡¨çš„%dä½æ‰¾åˆ°äº†å…ƒç´ %d&quot;,j,node-&gt;data);\t\treturn j;\t&#125;else&#123;\t\tprintf(&quot;æœªæŸ¥è¯¢åˆ°è¯¥å…ƒç´ &quot;);\t\treturn 0;\t&#125;&#125; //æŒ‰åºå·æŸ¥è¯¢,iä¸ºç´¢å¼•ï¼Œdataä¸ºæŸ¥è¯¢åˆ°çš„æ•°æ®ä¸ºnullåˆ™æœªæŸ¥åˆ°  int queryDataByIndex(LinkList *head,int i,DataType *data)&#123; \tLinkList *node; \tint j=1; \tnode = head-&gt;next;\t if(i&lt;1 || i&gt;lengthList(head))&#123; \t\t//ä½ç½®é”™è¯¯  \t\tprintf(&quot;ä½ç½®é”™è¯¯!&quot;);  \t\treturn 0;\t&#125;\twhile(node!=NULL &amp;&amp; j&lt;i)&#123;\t\tnode = node-&gt;next;\t\tj++;\t&#125;\tif(j==i)&#123;\t\tprintf(&quot;ç¬¬%dä½å…ƒç´ ä¸ºï¼š%d&quot;,i,node-&gt;data);\t\tdata = &amp;node-&gt;data;\t\treturn 1;\t&#125; &#125;   //æ’å…¥ int insertItem(LinkList *head,DataType data,int i)&#123; \tLinkList *node,*newNode; \tnode = head; \tif(i&lt;1 || i&gt;lengthList(head)+1)&#123; \t\t//ä½ç½®é”™è¯¯  \t\tprintf(&quot;ä½ç½®é”™è¯¯!&quot;);  \t\treturn 0;\t&#125;\tint j = 0; \twhile(node-&gt;next != NULL &amp;&amp; j&lt;i-1)&#123; \t\tnode = node-&gt;next; \t\tj++;\t&#125;\tif(j==i-1)&#123;\t\tnewNode = (LinkList*)malloc(sizeof(LinkList));\t\tnewNode-&gt;data = data;\t\tnewNode-&gt;next = node-&gt;next;\t\tnode-&gt;next = newNode;\t\treturn 1;\t&#125;\treturn 0; &#125;   //åˆ é™¤int deleteNode(LinkList *head,int i,DataType *returnData)&#123;\tLinkList *node;\tnode = head;\tint j=0;\t\tif(i&lt;1 || i&gt;lengthList(head))&#123; \t\t//ä½ç½®é”™è¯¯  \t\tprintf(&quot;ä½ç½®é”™è¯¯!&quot;);  \t\treturn 0;\t&#125;\t\twhile(node-&gt;next != NULL &amp;&amp; j&lt;i-1)&#123;\t\tnode = node-&gt;next;\t\tj++;\t&#125;\tif(node-&gt;next != NULL &amp;&amp; j==i-1)&#123;\t\tLinkList *deleteNode = node-&gt;next;\t\tnode-&gt;next = node-&gt;next-&gt;next;\t\t*returnData = deleteNode-&gt;data;\t\tfree(deleteNode);\t\treturn 1;\t&#125;\treturn 0;&#125;void showAll(LinkList *head)&#123;\tLinkList *node;\tnode = head-&gt;next;\twhile(node != NULL)&#123;\t\t\t\tprintf(&quot;%d&quot;,node-&gt;data);\t\t\t\tif(node-&gt;next != NULL)&#123;\t\t\tprintf(&quot;-&gt;&quot;);\t\t&#125;\t\tnode = node-&gt;next;\t&#125;\t\t\t&#125; void menu()&#123;    printf(&quot;\\né¡ºåºè¡¨çš„å„ç§æ“ä½œ&quot;);  printf(&quot;\\n========================================&quot;);  printf(&quot;\\n|          1--å»ºç«‹é“¾è¡¨(å¤´æ’æ³•)         |&quot;);  printf(&quot;\\n|          2--å»ºç«‹é“¾è¡¨(å°¾æ’æ³•)         |&quot;);  printf(&quot;\\n|          3--æ’å…¥å…ƒç´                  |&quot;);  printf(&quot;\\n|          4--åˆ é™¤å…ƒç´                  |&quot;);  printf(&quot;\\n|          5--æŒ‰ä½ç½®æŸ¥æ‰¾å…ƒç´            |&quot;);  printf(&quot;\\n|          6--æŒ‰å…ƒç´ å€¼æŸ¥æ‰¾å…¶åœ¨è¡¨ä¸­ä½ç½® |&quot;);  printf(&quot;\\n|          7--æ±‚é¡ºåºè¡¨çš„é•¿åº¦           |&quot;);  printf(&quot;\\n|          8--æ˜¾ç¤ºé¡ºåºè¡¨å†…å®¹           |&quot;);  printf(&quot;\\n|          0--è¿”å›                     |&quot;);  printf(&quot;\\n========================================&quot;);  printf(&quot;\\nè¯·è¾“å…¥èœå•å·(0-8)ï¼š&quot;);&#125; main()&#123;\tLinkList *head; \tDataType context,returnData;\tint n,i,loc;\tchar ch1,ch2,a;\tch1=&#x27;y&#x27;;\twhile(ch1==&#x27;y&#x27;||ch1==&#x27;Y&#x27;)&#123;\t\tmenu();\t\tscanf(&quot;%c&quot;,&amp;ch2);\t\tgetchar();\t\tswitch(ch2)\t\t&#123;\t\t\tcase &#x27;1&#x27;:\t\t\t\thead = initList();\t\t\t\tprintf(&quot;è¯·è¾“å…¥å»ºç«‹çº¿æ€§è¡¨çš„ä¸ªæ•°ï¼š&quot;);\t\t\t\tscanf(&quot;%d&quot;,&amp;n);\t\t\t\tcreateListH(head,n);\t\t\t\tprintf(&quot;å»ºç«‹çš„çº¿æ€§è¡¨ä¸ºï¼š&quot;);\t\t\t\tshowAll(head);\t\t\t\tbreak;\t\t\tcase &#x27;2&#x27;:\t\t\t\thead = initList();\t\t\t\tprintf(&quot;è¯·è¾“å…¥å»ºç«‹çº¿æ€§è¡¨çš„ä¸ªæ•°ï¼š&quot;);\t\t\t\tscanf(&quot;%d&quot;,&amp;n);\t\t\t\tcreateListL(head,n);\t\t\t\tprintf(&quot;å»ºç«‹çš„çº¿æ€§è¡¨ä¸ºï¼š&quot;);\t\t\t\tshowAll(head);\t\t\t\tbreak;\t  \t\tcase &#x27;3&#x27;:\t\t\t\tprintf(&quot;è¯·è¾“å…¥è¦æ’å…¥çš„ä½ç½®ï¼š&quot;);\t\t\t\tscanf(&quot;%d&quot;,&amp;i);\t\t\t\tprintf(&quot;è¯·è¾“å…¥è¦æ’å…¥çš„å€¼ï¼š&quot;);\t\t\t\tscanf(&quot;%d&quot;,&amp;context);\t\t\t\t\t\t\t\tif(insertItem(head,context,i))&#123;\t\t\t\t\tprintf (&quot;å·²æˆåŠŸåœ¨ç¬¬%dçš„ä½ç½®ä¸Šæ’å…¥%2d,æ’å…¥åçš„çº¿æ€§è¡¨ä¸º: \\n&quot;,i,context);\t\t\t\t\tshowAll(head);\t\t\t\t\tbreak;\t\t\t\t&#125;else&#123;\t\t\t\t\tprintf(&quot;è¾“å…¥æ’å…¥çš„å‚æ•°é”™è¯¯!\\n&quot;);\t\t\t\t\tbreak;\t\t\t\t&#125;\t\t\tcase &#x27;4&#x27;:\t\t\t\tprintf(&quot;è¯·è¾“å…¥è¦åˆ é™¤å…ƒç´ çš„ä½ç½®: &quot;);\t\t\t\tscanf(&quot;%d&quot;,&amp;i);\t\t\t\tif(deleteNode(head,i,&amp;returnData))&#123;\t\t\t\t\tprintf (&quot;å·²æˆåŠŸåœ¨ç¬¬%dçš„ä½ç½®ä¸Šåˆ é™¤%d,åˆ é™¤åçš„çº¿æ€§è¡¨ä¸º: \\n&quot;,i,returnData);\t\t\t\t\tshowAll(head);\t\t\t\t&#125;else&#123;\t\t\t\t\tprintf (&quot;\\nè¾“å…¥åˆ é™¤çš„å‚æ•°é”™è¯¯!&quot;);\t\t\t\t&#125;\t\t\t\t\tbreak;\t\t\tcase &#x27;5&#x27;:\t\t\t\tprintf(&quot;è¯·è¾“å…¥è¦æŸ¥çœ‹è¡¨ä¸­å…ƒç´ ä½ç½®(ä»1å¼€å§‹): &quot;);\t\t\t\tscanf (&quot;%d&quot;,&amp;i);\t\t\t\tif (queryDataByIndex(head,i, &amp;returnData))\t\t\t\t\tprintf(&quot;å½“å‰çº¿æ€§è¡¨ç¬¬%dä¸ªå…ƒç´ çš„å€¼ä¸º: %d&quot;,i,returnData);\t\t\t\telse\t\t\t\t\tprintf (&quot;è¾“å…¥çš„ä½ç½®é”™è¯¯!&quot;);\t\t\t\tbreak;\t\t\tcase &#x27;6&#x27;:\t\t\t\tprintf(&quot;è¯·è¾“å…¥è¦æŸ¥æ‰¾çš„å…ƒç´ å€¼ä¸º: &quot;) ;\t\t\t\tscanf(&quot;%d&quot;,&amp;context) ;\t\t\t\tloc = queryDataByContent(head, context);\t\t\t\tif(loc)\t\t\t\t\tprintf(&quot;æŸ¥æ‰¾å…ƒç´ å€¼ä¸º%dçš„ä½ç½®ä¸º: %d&quot;,context, loc);\t\t\t\telse\t\t\t\t\tprintf (&quot;è¯¥è¡¨ä¸­æ— æ­¤å…ƒç´ !&quot;);\t\t\t\tbreak;\t\t\tcase &#x27;7&#x27;:\t\t\t\tprintf(&quot;å½“å‰çº¿æ€§è¡¨çš„é•¿åº¦ä¸º: %d&quot;,lengthList(head));\t\t\t\tbreak;\t\t\tcase &#x27;8&#x27;:\t\t\t\tshowAll(head); \t\t\t\tbreak;\t\t\tcase &#x27;0&#x27; :\t\t\t\tch1=&#x27;n&#x27;;\t\t\t\tbreak;\t\t\tdefault:\t\t\t\tprintf(&quot;è¾“å…¥æœ‰è¯¯ï¼Œè¯·è¾“å…¥0~6è¿›è¡Œé€‰æ‹©!&quot;);\t\t\t&#125;\t\t\t\t\tprintf(&quot;\\n&quot;);\t\t\tsystem(&quot;pause&quot;);\t\t\t&#125;&#125;\n\né™æ€é“¾è¡¨\nå‚è€ƒé¢˜ç›®ï¼šé“¾è¡¨æ“ä½œ\n\n#include &lt;iostream&gt;using namespace std;const int MAX = 100005; //é™æ€é“¾è¡¨ï¼Œæœ€å¤§å¯å­˜å‚¨çš„èŠ‚ç‚¹å¤§å°//ç»“æ„ä½“ç‰ˆæœ¬é“¾è¡¨-åŠ¨æ€é“¾è¡¨ï¼Œç”±äºæ¯æ¬¡æ’å…¥éœ€è¦åŠ¨æ€åˆ†é…ç©ºé—´ï¼Œæ•ˆç‡å¤ªä½ï¼Œé€‚åˆå·¥ç¨‹å¼€å‘æ—¶ä½¿ç”¨//æ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨-é™æ€é“¾è¡¨ï¼Œé€Ÿåº¦å¿«ï¼Œé€‚åˆäºç®—æ³•é¢˜//ç”¨æ•°ç»„æŸä¸€å—ç©ºé—´å­˜å‚¨å†…å®¹ï¼Œæ•°ç»„ä¸‹æ ‡çœ‹ä½œè¿™ä¸€å—ç©ºé—´çš„æŒ‡é’ˆ//ä¾‹å¦‚ï¼šhead-å¤´æŒ‡é’ˆå­˜å‚¨ç¬¬ä¸€èŠ‚ç‚¹çš„å€¼ï¼›e[i]å­˜å‚¨èŠ‚ç‚¹çš„å€¼ne[i]å­˜å‚¨è¯¥èŠ‚ç‚¹ä¸‹ä¸€èŠ‚ç‚¹åœ°å€ï¼Œiä¸‹æ ‡ä½œä¸ºè¯¥èŠ‚ç‚¹çš„åœ°å€ï¼Œidxè¡¨æ˜å½“å‰å·²ç»æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹int head,e[MAX],ne[MAX],idx;//åˆå§‹åŒ–é“¾è¡¨ï¼Œå¤´æŒ‡é’ˆä¸º-1ï¼Œidxä¸º0void init()&#123;    head = -1;    idx = 0;&#125;//å¤´æ’æ³•æ’å…¥èŠ‚ç‚¹void insert_head(int v)&#123;    //idxè¡¨æ˜ç°åœ¨æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹ï¼Œåœ¨è¿›è¡Œæ’å…¥æ—¶ç±»ä¼¼äºåŠ¨æ€é“¾è¡¨åˆ†é…ç©ºé—´æ‰€è¿”å›çš„åœ°å€    //å‡è®¾ï¼šè¿™æ—¶idx = 2,é‚£ä¹ˆe[0]ne[0]æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹,e[1]ne[1]æ˜¯ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œidx=3æŒ‡å‘çš„e[3]ne[3]è¿™æ—¶ä¸ºç©º    //è¿™å°±ç±»æ¯”äºåŠ¨æ€é“¾è¡¨åŠ¨æ€èµ‹å€¼åæ‰€è¿”å›çš„èŠ‚ç‚¹åœ°å€    e[idx] = v;             //åˆå§‹åŒ–æ–°èŠ‚ç‚¹çš„å€¼    ne[idx] = head;         //åˆå§‹åŒ–æ–°èŠ‚ç‚¹æŒ‡å‘çš„ä¸‹ä¸€èŠ‚ç‚¹åœ°å€(å¤´æ’æ³•)    head = idx;             //æ›´æ–°å¤´æŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹    idx++;                  //èŠ‚ç‚¹æ•°åŠ 1&#125;//åˆ é™¤kèŠ‚ç‚¹åé¢çš„ä¸€ä¸ªèŠ‚ç‚¹void delet(int k)&#123;    ne[k] = ne[ne[k]];      //å°†kä¸ªèŠ‚ç‚¹çš„nextæŒ‡é’ˆæŒ‡å‘å®ƒçš„ä¸‹ä¸€èŠ‚ç‚¹çš„ä¸‹ä¸€èŠ‚ç‚¹&#125;//åœ¨kä¸ªèŠ‚ç‚¹åæ’å…¥ä¸€ä¸ªèŠ‚ç‚¹void insert(int k,int v)&#123;    e[idx] = v;             //é¦–å…ˆè¦å¼€è¾Ÿè¿™ä¸ªèŠ‚ç‚¹(idxä¸ºæ–°èŠ‚ç‚¹æŒ‡é’ˆ,å‰é¢è§£é‡Šè¿‡)    ne[idx] = ne[k];        //æ–°èŠ‚ç‚¹çš„ä¸‹ä¸€èŠ‚ç‚¹æŒ‡å‘kèŠ‚ç‚¹çš„ä¸‹ä¸€èŠ‚ç‚¹    ne[k] = idx;            //å°†kèŠ‚ç‚¹çš„ä¸‹ä¸€èŠ‚ç‚¹æ›´æ–°ä¸ºæ–°èŠ‚ç‚¹    idx++;                  //æ€»èŠ‚ç‚¹æ•°åŠ 1&#125;int main()&#123;    int n;    cin&gt;&gt;n;    init();    while(n--)&#123;        char c;        cin&gt;&gt;c;        if(c == &#x27;H&#x27;)&#123;            int a;            cin&gt;&gt;a;            insert_head(a);        &#125;        if(c == &#x27;D&#x27;)&#123;            int k;            cin&gt;&gt;k;            if(k == 0) head = ne[head];            else delet(k-1);        &#125;        if(c == &#x27;I&#x27;)&#123;            int k,v;            cin&gt;&gt;k&gt;&gt;v;            insert(k-1,v);        &#125;    &#125;    //ä»å¤´èŠ‚ç‚¹å¼€å§‹éå†ï¼ŒæŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåªè¦å½“å‰èŠ‚ç‚¹å€¼ä¸ä¸º-1(-1è¡¨ç¤ºç»“æŸ)åˆ™æ‰“å°è¯¥èŠ‚ç‚¹å€¼ä¹‹åæ›´æ–°æŒ‡é’ˆiæŒ‡å‘å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€èŠ‚ç‚¹    for(int i = head;i != -1;i = ne[i])&#123;        printf(&quot;%d &quot;,e[i]);    &#125;    return 0;&#125;\n\næ ˆ#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;const int MAX = 20;\t//å®šä¹‰æ ˆçš„æœ€å¤§å­˜å‚¨é‡ typedef int DataType;\t//å®šä¹‰å­˜å‚¨çš„æ•°æ®ç±»å‹ typedef struct&#123;\tDataType data[MAX];\tint top;\t\t\t//æ ˆé¡¶çš„åºå· &#125;SeqStack; //åˆå§‹åŒ–æ ˆ SeqStack *initStack()&#123;\tSeqStack *seqStack = (SeqStack*)malloc(sizeof(SeqStack));\tseqStack-&gt;top = -1;&#125;//åˆ¤æ–­æ ˆç©ºint emptyStack(SeqStack *seqStack)&#123;\tif(seqStack -&gt; top == -1)&#123;\t\treturn 1;\t&#125;\treturn 0;&#125;//åˆ¤æ–­æ ˆæ»¡ int fullSeqStack(SeqStack *seqStack)&#123;\tif(seqStack-&gt;top == MAX - 1)&#123;\t\treturn 1;\t&#125;\treturn 0;&#125;//å…¥æ ˆint push(SeqStack *seqStack,DataType data)&#123;\t\tif(fullSeqStack(seqStack))&#123;\t\tprintf(&quot;æ ˆæ»¡,æ— æ³•æ·»åŠ å…ƒç´ &quot;);\t\treturn 0;\t&#125;\t\tseqStack-&gt;data[++seqStack-&gt;top] = data;\treturn 1;&#125;//å‡ºæ ˆint pop(SeqStack *seqStack,DataType *data)&#123;\tif(emptyStack(seqStack))&#123;\t\tprintf(&quot;æ ˆä¸ºç©º&quot;);\t\treturn 0;\t&#125;\t*data = seqStack-&gt;data[seqStack-&gt;top--];\treturn 1;&#125; //è·å–æ ˆé¡¶å…ƒç´ int getTop(SeqStack *seqStack,DataType *data)&#123;\tif(emptyStack(seqStack))&#123;\t\tprintf(&quot;æ ˆä¸ºç©º&quot;);\t\treturn 0;\t&#125;\t*data = seqStack-&gt;data[seqStack-&gt;top];\treturn 1;&#125; void menu()&#123;    printf(&quot;\\næ ˆçš„å„ç§æ“ä½œ:&quot;);  printf(&quot;\\n====================================&quot;);  printf(&quot;\\n|          1--å»ºç«‹æ ˆ               |&quot;);  printf(&quot;\\n|          2--å…¥æ ˆ                 |&quot;);  printf(&quot;\\n|          3--å‡ºæ ˆ                 |&quot;);  printf(&quot;\\n|          4--è·å–æ ˆé¡¶             |&quot;);  printf(&quot;\\n|          0--è¿”å›                 |&quot;);  printf(&quot;\\n====================================&quot;);  printf(&quot;\\nè¯·è¾“å…¥èœå•å·(0-4)ï¼š&quot;);&#125; int main()&#123;\tchar ch1,ch2;\tch1=&#x27;y&#x27;;\tSeqStack *seqStack;\tint context;\t\twhile(ch1==&#x27;y&#x27;||ch1==&#x27;Y&#x27;)&#123;\t\tmenu();\t\tscanf(&quot;%c&quot;,&amp;ch2);\t\tgetchar();\t\tswitch(ch2)\t\t&#123;\t\t\tcase &#x27;1&#x27;:\t\t\t\tseqStack = initStack(); \t\t\t\tprintf(&quot;åˆå§‹åŒ–æˆåŠŸ!&quot;);\t\t\t\tbreak;\t  \t\tcase &#x27;2&#x27;:\t  \t\t\tif(seqStack == NULL) &#123;\t  \t\t\t\tprintf(&quot;è¯·å…ˆåˆå§‹åŒ–ï¼\\n&quot;);\t  \t\t\t\tbreak; \t\t\t\t  &#125;\t\t\t\tprintf(&quot;è¯·è¾“å…¥å…¥æ ˆå…ƒç´ :&quot;);\t\t\t\tscanf(&quot;%d&quot;,&amp;context);\t\t\t\tgetchar();\t\t\t\tif(push(seqStack,context))\t\t\t\t\tprintf(&quot;å…¥æ ˆæˆåŠŸ\\n&quot;);\t\t\t\tbreak;\t\t\tcase &#x27;3&#x27;:\t\t\t\tif(pop(seqStack,&amp;context))&#123;\t\t\t\t\tprintf (&quot;%då‡ºæ ˆæˆåŠŸ \\n&quot;,context);\t\t\t\t&#125;\t\t\t\tbreak;\t\t\tcase &#x27;4&#x27;:\t\t\t\tif(getTop(seqStack,&amp;context))&#123;\t\t\t\t\tprintf (&quot;æ ˆé¡¶å…ƒç´ ä¸º%d \\n&quot;,context);\t\t\t\t&#125;\t\t\t\tbreak; \t\t\tcase &#x27;0&#x27; :\t\t\t\tch1=&#x27;n&#x27;;\t\t\t\tbreak;\t\t\tdefault:\t\t\t\tprintf(&quot;è¾“å…¥æœ‰è¯¯ï¼Œè¯·è¾“å…¥0~6è¿›è¡Œé€‰æ‹©!&quot;);\t\t\t&#125;\t\t\t\t\tprintf(&quot;\\n&quot;);\t\t\tsystem(&quot;pause&quot;);\t&#125;\treturn 0;&#125;\n\né˜Ÿåˆ—#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt; #define MAX 5using namespace std;typedef int DataType;typedef struct&#123;\tDataType *base;\t//baseæ•°ç»„ï¼Œä¹‹ååŠ¨æ€èµ‹å€¼ \tint front;\t\t//é˜Ÿå¤´ \tint rear;\t\t//é˜Ÿå°¾ &#125;SqQueue;//åˆå§‹åŒ–é˜Ÿåˆ— SqQueue *initQueue()&#123;\t\tSqQueue *queue = (SqQueue*)malloc(sizeof(SqQueue));\t\tqueue-&gt;base = (DataType*)malloc(MAX*sizeof(SqQueue));\t//åŠ¨æ€å£°æ˜æ•°ç»„ç©ºé—´ \tqueue-&gt;front = 0;\t\t\t\t//åˆå§‹åŒ–æ—¶å¯¹å¤´ä¸å¯¹å°¾æŒ‡å‘åŒä¸€ä½ç½® \tqueue-&gt;rear = 0;&#125;//åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º int isEmpty(SqQueue *queue)&#123;\t//å¦‚æœé˜Ÿå¤´ä¸é˜Ÿå°¾ç›¸åŒåˆ™è¡¨æ˜ä¸ºç©º \tif(queue-&gt;front == queue-&gt;rear) return 1;\treturn 0;&#125;//åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦æ»¡ int isFull(SqQueue *queue)&#123;\t//ç‰ºç‰²ä¸€ä¸ªç©ºé—´ä¸å­˜å‚¨ï¼Œç”¨äºåˆ¤æ–­é˜Ÿæ»¡ \tif((queue-&gt;rear+1)%MAX == queue-&gt;front) return 1;\treturn 0;&#125;//å…¥é˜Ÿæ“ä½œ int push(SqQueue *queue,DataType data)&#123;\t//å…ˆåˆ¤æ–­æ˜¯å¦é˜Ÿæ»¡ \tif(!isFull(queue))&#123;\t\tqueue-&gt;base[queue-&gt;rear] = data;\t\tqueue-&gt;rear = (queue-&gt;rear+1)%MAX;\t//æ›´æ–°å°¾æŒ‡é’ˆï¼Œé€šè¿‡å–æ¨¡è¿ç®—æ¥æ„å»ºå¾ªç¯é˜Ÿåˆ—ï¼Œè§£å†³å‡æº¢å‡ºæƒ…å†µ \t\treturn 1;\t&#125;\treturn 0; &#125;//å‡ºé˜Ÿæ“ä½œ int pop(SqQueue *queue,DataType *data)&#123;\t//å…ˆåˆ¤æ–­æ˜¯å¦é˜Ÿç©º \tif(!isEmpty(queue))&#123;\t\t*data = queue-&gt;base[queue-&gt;front];\t\tqueue-&gt;front = (queue-&gt;front+1)%MAX;//æ›´æ–°å¤´æŒ‡é’ˆï¼Œé€šè¿‡å–æ¨¡è¿ç®—æ¥æ„å»ºå¾ªç¯é˜Ÿåˆ—ï¼Œè§£å†³å‡æº¢å‡ºæƒ…å†µ\t\treturn 1;\t&#125;\treturn 0; &#125;//è¿”å›é˜Ÿé¦–å…ƒç´  int front(SqQueue *queue,DataType *data)&#123;\t//å…ˆåˆ¤æ–­æ˜¯å¦é˜Ÿç©º \tif(!isEmpty(queue))&#123;\t\t*data = queue-&gt;base[queue-&gt;front];\t\treturn 1;\t&#125;\treturn 0; &#125;//è¿”å›é˜Ÿå°¾å…ƒç´  int rear(SqQueue *queue,DataType *data)&#123;\t//å…ˆåˆ¤æ–­æ˜¯å¦é˜Ÿç©º \tif(!isEmpty(queue))&#123;\t\t*data = queue-&gt;base[(queue-&gt;rear-1&lt;0?MAX-1:queue-&gt;rear-1)];\t//ç‰¹æ®Šåˆ¤æ–­ä¸€ä¸‹å½“å°¾æŒ‡é’ˆåœ¨ä¸‹æ ‡0çš„æƒ…å†µ \t\treturn 1;\t&#125;\treturn 0; &#125;//è·å–æ ˆçš„é•¿åº¦int getLength(SqQueue *queue) &#123;\treturn (queue-&gt;rear-queue-&gt;front+MAX)%MAX;&#125;void menu()&#123;    printf(&quot;\\né˜Ÿåˆ—çš„å„ç§æ“ä½œ:&quot;);  printf(&quot;\\n====================================&quot;);  printf(&quot;\\n|          1--å»ºç«‹é˜Ÿåˆ—             |&quot;);  printf(&quot;\\n|          2--å…¥é˜Ÿ                 |&quot;);  printf(&quot;\\n|          3--å‡ºé˜Ÿ                 |&quot;);  printf(&quot;\\n|          4--è·å–é˜Ÿé¦–å…ƒç´          |&quot;);  printf(&quot;\\n|          5--è·å–é˜Ÿå°¾å…ƒç´          |&quot;);   printf(&quot;\\n|          6--è·å–é˜Ÿé•¿åº¦           |&quot;);   printf(&quot;\\n|          0--è¿”å›                 |&quot;);  printf(&quot;\\n====================================&quot;);  printf(&quot;\\nè¯·è¾“å…¥èœå•å·(0-6)ï¼š&quot;);&#125; int main()&#123;\tchar ch1,ch2;\tch1=&#x27;y&#x27;;\tSqQueue *queue = NULL; \tDataType context;\t\twhile(ch1==&#x27;y&#x27;||ch1==&#x27;Y&#x27;)&#123;\t\tmenu();\t\tscanf(&quot;%c&quot;,&amp;ch2);\t\tgetchar();\t\tswitch(ch2)\t\t&#123;\t\t\tcase &#x27;1&#x27;:\t\t\t\tqueue = initQueue(); \t\t\t\tprintf(&quot;åˆå§‹åŒ–æˆåŠŸ!&quot;);\t\t\t\tbreak;\t  \t\tcase &#x27;2&#x27;:\t  \t\t\t//å¦‚æœæœªåˆå§‹åŒ–å°±ä¸ç»§ç»­æ‰§è¡Œ \t  \t\t\tif(queue == NULL) &#123;\t  \t\t\t\tprintf(&quot;è¯·å…ˆåˆå§‹åŒ–ï¼\\n&quot;);\t  \t\t\t\tbreak; \t\t\t\t&#125;\t\t\t\tprintf(&quot;è¯·è¾“å…¥å…¥é˜Ÿå…ƒç´ :&quot;);\t\t\t\tscanf(&quot;%d&quot;,&amp;context);\t\t\t\tgetchar();\t\t\t\tif(push(queue,context))\t\t\t\t\tprintf(&quot;å…¥é˜ŸæˆåŠŸ\\n&quot;);\t\t\t\telse \t\t\t\t\tprintf(&quot;é˜Ÿæ»¡&quot;); \t\t\t\tbreak;\t\t\tcase &#x27;3&#x27;:\t\t\t\tif(pop(queue,&amp;context))&#123;\t\t\t\t\tprintf (&quot;%då‡ºé˜ŸæˆåŠŸ \\n&quot;,context);\t\t\t\t&#125;else \t\t\t\t\tprintf(&quot;é˜Ÿç©º&quot;);\t\t\t\tbreak;\t\t\tcase &#x27;4&#x27;:\t\t\t\tif(front(queue,&amp;context))&#123;\t\t\t\t\tprintf (&quot;é˜Ÿé¦–å…ƒç´ ä¸º%d \\n&quot;,context);\t\t\t\t&#125;else \t\t\t\t\tprintf(&quot;é˜Ÿç©º&quot;);\t\t\t\tbreak; \t\t\tcase &#x27;5&#x27;:\t\t\t\tif(rear(queue,&amp;context))&#123;\t\t\t\t\tprintf (&quot;é˜Ÿå°¾å…ƒç´ ä¸º%d \\n&quot;,context);\t\t\t\t&#125; else \t\t\t\t\tprintf(&quot;é˜Ÿç©º&quot;);\t\t\t\t\tbreak;\t\t\tcase &#x27;6&#x27;:\t\t\t\tprintf (&quot;é˜Ÿé•¿ä¸º%d \\n&quot;,getLength(queue));\t\t\t\tbreak; \t\t\tcase &#x27;0&#x27; :\t\t\t\tch1=&#x27;n&#x27;;\t\t\t\tbreak;\t\t\tdefault:\t\t\t\tprintf(&quot;è¾“å…¥æœ‰è¯¯ï¼Œè¯·è¾“å…¥0~6è¿›è¡Œé€‰æ‹©!&quot;);\t\t\t&#125;\t\t\t\t\tprintf(&quot;\\n&quot;);\t\t\tsystem(&quot;pause&quot;);\t&#125;\treturn 0;&#125;\n\nHashTable#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt;#define MAXSIZE 20#define OK 1#define FALSE 0//å®šä¹‰å­˜å‚¨ä¸ªäººä¿¡æ¯çš„ç»“æ„ä½“ typedef struct&#123;\tchar name[20];\t//å§“å \tchar phone[20];\t//ç”µè¯ \tchar location[30];\t//åœ°å€ &#125;Person;//å®šä¹‰æ•£åˆ—è¡¨HashTabletypedef struct&#123;\tPerson* array[MAXSIZE];\t//å­˜å‚¨è”ç³»äººçš„åŠ¨æ€æ•°ç»„ \tint count;\t\t//å½“å‰è¡¨ä¸­å…ƒç´ æ€»ä¸ªæ•° &#125;HashTable; //å°†ç”µè¯å·ç å¤„ç†ä¸ºkey int GetKey(char phone[])&#123;\t//å°†ç”µè¯å·ç çš„æ¯ä¸€ä½æ•°å­—åŠ èµ·æ¥å³ä¸ºkey\tint key=0;\tint i=0;\twhile(phone[i] != &#x27;\\0&#x27;) &#123;\t\tkey += phone[i]-&#x27;0&#x27;;\t\ti++;\t&#125;//\tprintf(&quot;key = %d\\n&quot;,key);\treturn key;&#125; //æ•£åˆ—å‡½æ•° ä¼ å…¥keyè¿”å›å­˜å‚¨çš„ä½ç½®l=Hash(key) int Hash(int key)&#123;\treturn key%19;\t//é‡‡ç”¨é™¤ç•™ä½™æ•°æ³•,ç”±äºè¡¨é•¿ä¸º20,é™¤æ•°ä¸€èˆ¬ä¸ºå°äºæˆ–ç­‰äºè¡¨é•¿çš„æœ€å¤§è´¨æ•°ï¼Œæ‰€ä»¥è¿™é‡Œä¸º19 &#125; //åˆå§‹åŒ–æ•£åˆ—è¡¨HashTable* InitHashTable()&#123;\tHashTable *hashTable = NULL;\thashTable = (HashTable*)malloc(sizeof(HashTable));\thashTable-&gt;count = 0;\t//åˆå§‹åŒ–æ—¶hashè¡¨ä¸­æ²¡æœ‰å…ƒç´  \tint i;\tfor(i=0;i&lt;MAXSIZE;i++)&#123;\t\thashTable-&gt;array[i] = NULL; //ä¸ºæ¯ä¸ªä½ç½®çš„ç”µè¯åˆå§‹åŒ–ä¸º-1\t&#125;&#125; //int Save()//int HandleCollision(HashTable *hashTable,Person person,int loc)&#123;//\t//&#125;//æ’å…¥æ•°æ®int Insert(HashTable *hashTable,Person *person)&#123;\tint key = GetKey(person-&gt;phone);\tint loc = Hash(key);//è·å–åœ¨hashè¡¨ä¸­çš„ä½ç½®\t \tif(hashTable-&gt;array[loc] == NULL)&#123;\t\t//å¦‚æœè¯¥ä½ç½®ä¸ºç©ºï¼Œå°±å°†è”ç³»äººå­˜å‚¨åˆ°æ­¤å¤„\t\thashTable-&gt;array[loc] =  person;\t\thashTable-&gt;count++;\t\treturn OK;\t&#125;else&#123;\t\t//å¦‚æœè¯¥ä½ç½®ä¸ä¸ºç©ºï¼Œåˆ™å‡ºç°æ•£åˆ—è¡¨å†²çªï¼Œé‡‡ç”¨äºŒæ¬¡æ¢æµ‹å†æ•£åˆ—æ–¹å¼å¤„ç†\t\tint j=1;\t\tint k=0;\t\twhile(1)&#123;\t\t\tint newLoc = -1;\t\t\tif(k%2 == 0)&#123;\t\t\t\tnewLoc = loc + j*j;\t\t\t\tk++;\t\t\t&#125;else&#123;\t\t\t\tnewLoc = loc - j*j;\t\t\t\tj++;\t\t\t\tk++;\t\t\t\tif(newLoc &lt; 0)&#123;\t\t\t\t\t//ç›¸å‡æ—¶è¦è€ƒè™‘è´Ÿæ•°ï¼Œè´Ÿæ•°æ— æ³•å–æ¨¡ \t\t\t\t\tcontinue;\t\t\t\t&#125;\t\t\t&#125;\t\t\tif(newLoc&gt;MAXSIZE)&#123;\t\t\t\t//æ•°ç»„è¶Šç•Œ\t\t\t\treturn FALSE; \t\t\t&#125;\t\t\tif(hashTable-&gt;array[newLoc] == NULL)&#123;\t\t\t\t//å¦‚æœè¯¥ä½ç½®ä¸ºç©ºï¼Œå°±å°†è”ç³»äººå­˜å‚¨åˆ°æ­¤å¤„\t\t\t\thashTable-&gt;array[newLoc] =  person;\t\t\t\thashTable-&gt;count++;\t\t\t\treturn OK;\t\t\t&#125;\t\t&#125;\t&#125;\t&#125; //æŸ¥æ‰¾æ•°æ®Person* Find(HashTable *hashTable,char phone[])&#123;\tint loc = Hash(GetKey(phone));//è·å–åœ¨hashè¡¨ä¸­çš„ä½ç½®\tif(hashTable-&gt;array[loc] == NULL)&#123;\t\treturn NULL;\t&#125; \tif(!strcmp(hashTable-&gt;array[loc]-&gt;phone,phone))&#123;\t\t//å¦‚æœè¯¥ä½ç½®çš„å€¼ç­‰äºæŸ¥è¯¢çš„å€¼ï¼Œå°±å°†è”ç³»äººè¿”å› \t\treturn hashTable-&gt;array[loc]; \t&#125;else&#123;\t\t//å‡ºç°æ•£åˆ—è¡¨å†²çªï¼Œé‡‡ç”¨äºŒæ¬¡æ¢æµ‹å†æ•£åˆ—æ–¹å¼å¤„ç†\t\tint j=1;\t\tint k=0;\t\twhile(1)&#123;\t\t\tint newLoc = -1;\t\t\tif(k%2 == 0)&#123;\t\t\t\tnewLoc = loc + j*j;\t\t\t\tk++;\t\t\t&#125;else&#123;\t\t\t\tnewLoc = loc - j*j;\t\t\t\tj++;\t\t\t\tk++;\t\t\t\tif(newLoc &lt; 0)&#123;\t\t\t\t\t//ç›¸å‡æ—¶è¦è€ƒè™‘è´Ÿæ•°ï¼Œè´Ÿæ•°æ— æ³•å–æ¨¡ \t\t\t\t\tcontinue;\t\t\t\t&#125;\t\t\t&#125;\t\t\tif(newLoc&gt;MAXSIZE || hashTable-&gt;array[newLoc] == NULL)&#123;\t\t\t\t//æœªæ‰¾åˆ°è”ç³»äºº \t\t\t\treturn NULL;\t\t\t&#125;\t\t\t\t\t\tif(!strcmp(hashTable-&gt;array[newLoc]-&gt;phone,phone))&#123;\t\t\t\t//å¦‚æœè¯¥ä½ç½®çš„å€¼ç­‰äºæŸ¥è¯¢çš„å€¼ï¼Œå°±å°†è”ç³»äººè¿”å› \t\t\t\treturn hashTable-&gt;array[newLoc]; \t\t\t&#125;\t\t&#125;\t&#125;&#125;//å±•ç¤ºæ‰€æœ‰è”ç³»äºº,ç”±äºæ•°ç»„å†™æ­»ï¼Œæ‰€ä»¥æœ€å¤§å­˜å‚¨ä¸ºMAXSIZEï¼Œå¯è‡ªè¡Œå‡çº§ä¸ºåŠ¨æ€æ•°ç»„ void ShowAll(HashTable *hashTable)&#123;\tif(hashTable)&#123;\t\tint i;\t\tprintf(&quot;ä¸€å…±æœ‰%dæ¡è®°å½•:\\n&quot;,hashTable-&gt;count);\t\tfor(i=0;i&lt;MAXSIZE;i++)&#123;\t\t\tif(hashTable-&gt;array[i] != NULL)&#123;\t\t\t\tprintf(&quot;å§“åï¼š%s\\tç”µè¯ï¼š%s\\tåœ°å€ï¼š%s\\t\\n&quot;,hashTable-&gt;array[i]-&gt;name,hashTable-&gt;array[i]-&gt;phone,hashTable-&gt;array[i]-&gt;location);\t\t\t&#125;\t\t&#125;\t\tprintf(&quot;åŠ è½½å®Œæ¯•ï¼&quot;);\t\tsystem(&quot;pause&quot;);\t&#125;else&#123;\t\tprintf(&quot;è¯·å…ˆå»ºç«‹è”ç³»ç°™ï¼&quot;);\t\tsystem(&quot;pause&quot;); \t&#125;&#125;void menu()&#123;    printf(&quot;\\nè¯·é€‰æ‹©æ“ä½œ&quot;);  printf(&quot;\\n========================================&quot;);  printf(&quot;\\n|          1--å»ºç«‹è”ç³»ç°™               |&quot;);  printf(&quot;\\n|          2--æ·»åŠ è”ç³»äºº               |&quot;);  printf(&quot;\\n|          3--æŸ¥æ‰¾è”ç³»äºº               |&quot;);  printf(&quot;\\n|          4--æ˜¾ç¤ºæ‰€ä»¥è”ç³»äºº           |&quot;);  printf(&quot;\\n|          0--é€€å‡º                     |&quot;);  printf(&quot;\\n========================================&quot;);  printf(&quot;\\nè¯·è¾“å…¥èœå•å·(0-4)ï¼š&quot;);&#125; void main()&#123;\tHashTable *hashTable = NULL;\twhile(1)&#123; \t\tmenu(); \t\tint i; \t\tscanf(&quot;%d&quot;,&amp;i);\t\tif(i == 1)&#123;\t\t\thashTable = InitHashTable();\t\t\tprintf(&quot;å»ºç«‹æˆåŠŸï¼&quot;);\t\t\tsystem(&quot;pause&quot;);\t\t&#125;else if(i == 2)&#123;\t\t\tif(hashTable == NULL)&#123;\t\t\t\tprintf(&quot;è¯·å…ˆå»ºç«‹è”ç³»ç°™ï¼&quot;);\t\t\t\tsystem(&quot;pause&quot;); \t\t\t\tcontinue;\t\t\t&#125;\t\t\tPerson *p = NULL;\t\t\tp = (Person*)malloc(sizeof(Person));\t\t\tprintf(&quot;è¾“å…¥ç”µè¯å·ç ï¼š&quot;); \t\t\tscanf(&quot;%s&quot;,p-&gt;phone);\t\t\tprintf(&quot;è¾“å…¥å§“åï¼š&quot;);\t\t\tscanf(&quot;%s&quot;,p-&gt;name);\t\t\tprintf(&quot;è¾“å…¥åœ°å€ï¼š&quot;);\t\t\tscanf(&quot;%s&quot;,p-&gt;location);\t\t\t\t\t\tInsert(hashTable,p);\t\t\tprintf(&quot;æ·»åŠ æˆåŠŸ!\\n&quot;);\t\t\tprintf(&quot;å§“åï¼š%s\\tç”µè¯ï¼š%s\\tåœ°å€ï¼š%s\\t\\n&quot;,p-&gt;name,p-&gt;phone,p-&gt;location);\t\t\tsystem(&quot;pause&quot;); \t\t&#125; else if(i == 3)&#123;\t\t\tif(hashTable == NULL)&#123;\t\t\t\tprintf(&quot;è¯·å…ˆå»ºç«‹è”ç³»ç°™ï¼&quot;);\t\t\t\tsystem(&quot;pause&quot;); \t\t\t\tcontinue;\t\t\t&#125;\t\t\tchar phone[20];\t\t\tprintf(&quot;è¾“å…¥å¾…æŸ¥æ‰¾å·ç ï¼š&quot;);\t\t\tscanf(&quot;%s&quot;,phone); \t\t\tPerson *findPerson = Find(hashTable,phone); \t\t\tif(findPerson)&#123;\t\t\t\tprintf(&quot;æŸ¥è¯¢æˆåŠŸ:\\n&quot;); \t\t\t\tprintf(&quot;å§“åï¼š%s\\tç”µè¯ï¼š%s\\tåœ°å€ï¼š%s\\t\\n&quot;,findPerson-&gt;name,findPerson-&gt;phone,findPerson-&gt;location);\t\t\t\tsystem(&quot;pause&quot;);\t\t\t&#125;else&#123;\t\t\t\tprintf(&quot;æœªæŸ¥è¯¢åˆ°è¯¥è”ç³»äººï¼&quot;);\t\t\t\tsystem(&quot;pause&quot;);\t\t\t&#125;\t\t  \t\t\t&#125;else if(i == 4)&#123;\t\t\tShowAll(hashTable);\t\t&#125;else if(i == 0)&#123; \t\t  \tprintf(&quot;æˆåŠŸé€€å‡ºç³»ç»Ÿï¼&quot;); \t\t  \tbreak; \t\t&#125; else&#123;\t\t   printf(&quot;æŒ‡ä»¤é”™è¯¯ï¼&quot;);\t\t   system(&quot;pause&quot;);\t\t&#125;\t&#125;\treturn;&#125;\n\nä¸²#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#define MAXSIZE 200typedef struct &#123;\tchar ch[MAXSIZE + 1]; //æ°¸è¿œé¢„ç•™ä¸€ä¸ª&#x27;\\0&#x27;çš„ä½ç½®\tint len;\t\t\t//ä¸²çš„é•¿åº¦ &#125;String;//æ›´æ–°ä¸²çš„é•¿åº¦,å¹¶è¿”å› int updateLen(String *s)&#123;\tint i = 0;\twhile(s-&gt;ch[i] != &#x27;\\0&#x27;) i++;\ts-&gt;len = i;\treturn (s-&gt;len);&#125; //åˆ›å»ºä¸²String* creatStr()&#123;\tString *s = (String*)malloc(sizeof(String));\tgets(s-&gt;ch);\tupdateLen(s); \treturn s;&#125; //æ±‚å­ä¸²int subStr(String *s,String *sub,int index,int len)&#123;\t//åˆ¤æ–­ä½ç½®å’Œé•¿åº¦æ˜¯å¦ç¬¦åˆè¦æ±‚\tif(index &lt; 0 || index &gt; s-&gt;len - 1 || len &gt; s-&gt;len || len &gt; s-&gt;len - index)&#123;\t\tprintf(&quot;ä½ç½®æˆ–é•¿åº¦é”™è¯¯&quot;); \t\treturn 0; //è¿”å›0åˆ™æ“ä½œå¤±è´¥ \t&#125;\t\tfor(int i = 0; i &lt; len; i++)&#123;\t\tsub-&gt;ch[i] = s-&gt;ch[i+index];\t&#125;\tsub-&gt;ch[len] = &#x27;\\0&#x27;;\t\t//æ±‚å¾—å­ä¸²åå°†ä¸‹ä¸€ä½èµ‹å€¼ä¸º&#x27;\\0&#x27; \tsub-&gt;len = len;\treturn 1; //æ“ä½œæˆåŠŸ &#125; //é‡è¦æ“ä½œ1ï¼šåˆ é™¤å­ä¸²int deleteStr(String *s, int index, int len)&#123;\t//åˆ¤æ–­ä¸‹æ ‡å’Œé•¿åº¦æ˜¯å¦ç¬¦åˆè¦æ±‚\tif(index &lt; 0 || index &gt; s-&gt;len - 1|| len &gt; s-&gt;len || len &gt; s-&gt;len - index)&#123;\t\tprintf(&quot;ä½ç½®æˆ–é•¿åº¦é”™è¯¯&quot;); \t\treturn 0; //è¿”å›0åˆ™æ“ä½œå¤±è´¥ \t&#125;\t\tfor(int i = index + len; i&lt; s-&gt;len; i++)&#123;\t\ts-&gt;ch[i-len] = s-&gt;ch[i];\t&#125;\ts-&gt;len = s-&gt;len - len;\t\t//æ›´æ–°ä¸²é•¿åº¦ \ts-&gt;ch[s-&gt;len] = &#x27;\\0&#x27;;\t\t//æ ‡ä¸Šä¸²ç»“æŸå­—ç¬¦ \treturn 1;&#125; //é‡è¦æ“ä½œ2ï¼šæ·»åŠ å­ä¸²int insertStr(String *s, String *addStr,int index)&#123;\tif(index &lt; 0||index &gt; (s-&gt;len - 1))&#123;\t\tprintf(&quot;ä½ç½®é”™è¯¯&quot;); \t\treturn 0;\t&#125;\tif(s-&gt;len + addStr-&gt;len &gt; MAXSIZE)&#123;\t\tprintf(&quot;è¶…è¿‡æœ€å¤§å­˜å‚¨é•¿åº¦&quot;);\t\treturn 0;\t&#125; \t\t//1.ä¸ºå¾…åŠ å…¥çš„ä¸²æŒªå‡ºç©ºä½\tfor(int i = s-&gt;len - 1; i&gt;= index; i--)&#123;\t\ts-&gt;ch[i+addStr-&gt;len] = s-&gt;ch[i];\t&#125;\t//2.å°†ä¸²åŠ å…¥ä¸»ä¸² \tfor(int k = 0; k &lt; addStr-&gt;len;k++)&#123;\t\ts-&gt;ch[k+index] = addStr-&gt;ch[k];\t&#125; \t//3.æ›´æ–°ä¸²ä¿¡æ¯\ts-&gt;ch[s-&gt;len+addStr-&gt;len] = &#x27;\\0&#x27;;\ts-&gt;len =  s-&gt;len+addStr-&gt;len;\treturn 1;&#125; //é‡è¦æ“ä½œ3ï¼šä»æŸä¸€ä½ç½®å¼€å§‹è¿›è¡Œå­ä¸²åŒ¹é…,è¿”å›æŸ¥è¯¢åˆ°çš„ç¬¬ä¸€ä¸ªå­ä¸²çš„é¦–å­—ç¬¦ä¸‹æ ‡ï¼Œæœªæ‰¾åˆ°è¿”å›-1 int  indexStr(String *s, String *cmpStr,int index)&#123;\tif(index &lt; 0||index &gt; (s-&gt;len - 1))&#123;\t\tprintf(&quot;ä½ç½®é”™è¯¯&quot;); \t\treturn -1;\t&#125;\tint i = index,j = 0;\twhile(i&lt; s-&gt;len&amp;&amp; j&lt; cmpStr-&gt;len)&#123;\t\tif(s-&gt;ch[i] == cmpStr-&gt;ch[j])&#123;\t\t\ti++;\t\t\tj++;\t\t&#125;else&#123;\t\t\ti = i-j+1;\t\t\tj = 0;\t\t&#125;\t&#125;\t//æŸ¥è¯¢åˆ°å­ä¸²æ—¶j == cmpStr-&gt; len \tif(j&gt;= cmpStr-&gt;len)&#123;\t\treturn i-cmpStr-&gt;len;\t&#125;\t\t//æœªæŸ¥è¯¢åˆ° \treturn -1;&#125; //æ›¿æ¢å­ä¸²,è¿”å›æˆåŠŸæ›¿æ¢çš„ä¸ªæ•° int replaceStr(String *s,String *repStr,String *aimStr)&#123;\tint p = 0,count = 0;\t//ä¸²ä¸­å¯èƒ½åŒ…å«å¤šä¸ªå¾…æ›¿æ¢å­ä¸²æ‰€ä»¥ç”¨å¾ªç¯ \tdo&#123;\t\t//1.æŸ¥è¯¢å¾…æ›¿æ¢å­ä¸²ä¸‹æ ‡\t\tint index = indexStr(s,repStr,p);\t\tif(index != -1)&#123;\t\t\t//å¯èƒ½ç›®æ ‡å­ä¸²æ›¿æ¢åé•¿åº¦è¶…è¿‡æœ€å¤§é•¿åº¦ï¼Œæ‰€ä»¥è¿›è¡Œåˆ¤æ–­ \t\t\tif(s-&gt;len-repStr-&gt;len+aimStr-&gt;len&gt;MAXSIZE)&#123;\t\t\t\treturn count;\t\t\t&#125;\t\t\t//2.åˆ é™¤è¯¥å­ä¸²\t\t\tdeleteStr(s,index,repStr-&gt;len);\t\t\t//3.æ’å…¥ç›®æ ‡ä¸² \t\t\tinsertStr(s,aimStr,index);\t\t\t//4.æ›´æ–°p \t\t\tp = index;\t\t\tp+=aimStr-&gt;len;\t\t\t//5.æ›´æ–°ä¸»ä¸²é•¿åº¦\t\t\tcount++;\t\t&#125;\t\t//å¦‚æœå‰©ä½™çš„å­ä¸²é•¿åº¦è¶³å¤Ÿè¿›è¡Œæ›¿æ¢åˆ™ç»§ç»­è¿›è¡ŒåŒ¹é… \t&#125;while(s-&gt;len - p &gt;= aimStr-&gt;len);\treturn count; &#125;//è¿æ¥ä¸¤ä¸² int catStr(String *s,String *t)&#123;\t//ä¸¤ä¸²é•¿åº¦å’Œå°äºç­‰äºæœ€å¤§å€¼åˆ™å¯ä»¥å®Œå…¨è¿æ¥\tif(s-&gt;len + t-&gt;len &lt;= MAXSIZE)&#123;\t\tfor(int i = 0;i&lt;t-&gt;len;i++)&#123;\t\t\ts-&gt;ch[i+s-&gt;len] = t-&gt;ch[i];\t\t&#125;\t\ts-&gt;ch[s-&gt;len+t-&gt;len] = &#x27;\\0&#x27;; //æ›´æ–°ç»“æŸæ ‡å¿—\t\ts-&gt;len += t-&gt;len; \t&#125; else&#123;\t\t//ä¸¤ä¸²é•¿åº¦å’Œå¤§äºæœ€å¤§å€¼\t\tfor(int i = s-&gt;len;i&lt;MAXSIZE;i++)&#123;\t\t\ts-&gt;ch[i] = t-&gt;ch[i-s-&gt;len];\t\t&#125; \t\t\t\ts-&gt;ch[MAXSIZE] = &#x27;\\0&#x27;; //æ›´æ–°ç»“æŸæ ‡å¿—\t\ts-&gt;len = MAXSIZE;\t&#125;\treturn 1;&#125;//æ¯”è¾ƒä¸¤ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œé•¿åº¦ä¸ç›¸ç­‰è¿”å›é•¿åº¦å·®ï¼Œé•¿åº¦ç›¸ç­‰è¿”å›ç¬¬ä¸€æ¬¡ä¸ç›¸ç­‰å­—ç¬¦çš„ascllç å·®å€¼int cmpStr(String *s,String *cmp)&#123;\tif(s-&gt;len != cmp-&gt;len)&#123;\t\treturn s-&gt;len - cmp-&gt;len;\t&#125;else&#123;\t\tint i = 0;\t\twhile(i&lt;s-&gt;len || i&lt;cmp-&gt;len)&#123;\t\t\tif(s-&gt;ch[i] != cmp-&gt;ch[i])&#123;\t\t\t\treturn s-&gt;ch[i] - cmp-&gt;ch[i];\t\t\t&#125;\t\t\ti++;\t\t&#125;\t&#125;\treturn 0;&#125; //æ˜¾ç¤ºä¸² void showStr(String *s)&#123;\tint i = 0;\twhile(s-&gt;ch[i] != &#x27;\\0&#x27;) printf(&quot;%c&quot;,s-&gt;ch[i++]);\tprintf(&quot;,ä¸²é•¿ä¸º%d\\n&quot;,s-&gt;len);&#125;//kmpç®—æ³•void getNext(String *t,int *next)&#123;\tint i = 0,k = -1;\tnext[i] = k;\twhile(i&lt;t-&gt;len)&#123;\t\tif(k == -1 || t-&gt;ch[k] == t-&gt;ch[i])&#123;\t\t\tk++;\t\t\ti++;\t\t\tnext[i] = k;\t\t&#125;else&#123;\t\t\tk = next[k];\t\t&#125;\t&#125;\tfor(int l = 0;l&lt;t-&gt;len;l++)&#123;\t\tprintf(&quot;%d &quot;,next[l]);\t&#125;&#125; int kmp(String *s,String *p,int index)&#123;\tint i = index,j = 0;\tint next[MAXSIZE];\tgetNext(p,next);\twhile(i&lt;s-&gt;len &amp;&amp; j&lt;p-&gt;len)&#123;\t\tif( j==-1 || s-&gt;ch[i] == p-&gt;ch[j])&#123;\t\t\ti++;\t\t\tj++;\t\t&#125;else&#123;\t\t\tj = next[j];\t\t&#125;\t&#125;\tif(j &gt;= p-&gt;len)&#123;\t\treturn i-p-&gt;len;\t&#125;\treturn -1;\t&#125;//èœå• void menu()&#123;    printf(&quot;\\né¡ºåºè¡¨çš„å„ç§æ“ä½œ&quot;);  printf(&quot;\\n========================================&quot;);  printf(&quot;\\n|          1--åˆ›å»ºä¸²                   |&quot;);  printf(&quot;\\n|          2--æ±‚å­ä¸²                   |&quot;);  printf(&quot;\\n|          3--åˆ é™¤å­ä¸²                 |&quot;);  printf(&quot;\\n|          4--æ·»åŠ å­ä¸²                 |&quot;);  printf(&quot;\\n|          5--å­ä¸²å®šä½                 |&quot;);  printf(&quot;\\n|          6--æ›¿æ¢å­ä¸²                 |&quot;);  printf(&quot;\\n|          7--ä¸²çš„è¿æ¥                 |&quot;);  printf(&quot;\\n|          8--ä¸²çš„æ¯”è¾ƒ                 |&quot;);  printf(&quot;\\n|          9--æ˜¾ç¤ºä¸»ä¸²                 |&quot;);  printf(&quot;\\n|          0--è¿”å›                     |&quot;);  printf(&quot;\\n========================================&quot;);  printf(&quot;\\nè¯·è¾“å…¥èœå•å·(0-8)ï¼š&quot;);&#125;  int main()&#123;\tchar ch1,ch2;\tString tempString;\t\t//é»˜è®¤ç©ºä¸² \ttempString.ch[0] = &#x27;\\0&#x27;;\tString *s = &amp;tempString;\tch1=&#x27;y&#x27;;\tint context;\t\twhile(ch1==&#x27;y&#x27;||ch1==&#x27;Y&#x27;)&#123;\t\tmenu();\t\tscanf(&quot;%c&quot;,&amp;ch2);\t\tgetchar();\t\tswitch(ch2)\t\t&#123;\t\t\tcase &#x27;1&#x27;:\t\t\t\t&#123;\t\t\t\t\tprintf(&quot;è¯·è¾“å…¥è¦å­˜å‚¨çš„å­—ç¬¦ä¸²ï¼š&quot;); \t\t\t\t\ts = creatStr();\t\t\t\t\tprintf(&quot;åˆ›å»ºå­—ç¬¦ä¸²æˆåŠŸ!\\n&quot;);\t\t\t\t\tshowStr(s);\t\t\t\t&#125;\t\t\t\tbreak;\t  \t\tcase &#x27;2&#x27;:\t  \t\t\t&#123;\t  \t\t\t\tprintf(&quot;ä¸»ä¸²ä¸ºï¼š&quot;);\t  \t\t\t\tshowStr(s);\t  \t\t\t\tString *sub = (String*)malloc(sizeof(String));\t\t\t\t\tprintf(&quot;\\nè¯·è¾“å…¥ä»ç¬¬å‡ ä¸ªå­—ç¬¦æ±‚å­ä¸²(ä¸‹æ ‡ä»0å¼€å§‹):&quot;);\t\t\t\t\tint index;\t\t\t\t\tscanf(&quot;%d&quot;,&amp;index);\t\t\t\t\tgetchar();\t\t\t\t\tprintf(&quot;è¯·è¾“å…¥æ±‚å–çš„é•¿åº¦ï¼š&quot;);\t\t\t\t\tint len;\t\t\t\t\tscanf(&quot;%d&quot;,&amp;len);\t\t\t\t\tgetchar();\t  \t\t\t\tint sign = subStr(s,sub,index,len);\t  \t\t\t\tif(sign)&#123;\t  \t\t\t\t\tprintf(&quot;æ“ä½œæˆåŠŸ!,å­ä¸²ä¸ºï¼š&quot;);\t\t\t\t\t\tshowStr(sub);\t\t\t\t\t\t&#125;\t  \t\t\t\t\t\t\t\t&#125;\t\t\t\tbreak;\t\t\tcase &#x27;3&#x27;:\t\t\t\t&#123;\t\t\t\t\tprintf(&quot;ä¸»ä¸²ä¸ºï¼š&quot;);\t  \t\t\t\tshowStr(s);\t\t\t\t\tprintf(&quot;\\nè¯·è¾“å…¥ä»ç¬¬å‡ ä¸ªå­—ç¬¦åˆ é™¤(ä¸‹æ ‡ä»0å¼€å§‹):&quot;);\t\t\t\t\tint index;\t\t\t\t\tscanf(&quot;%d&quot;,&amp;index);\t\t\t\t\tgetchar();\t\t\t\t\tprintf(&quot;è¯·è¾“å…¥åˆ é™¤çš„é•¿åº¦ï¼š&quot;);\t\t\t\t\tint len;\t\t\t\t\tscanf(&quot;%d&quot;,&amp;len);\t\t\t\t\tgetchar();\t  \t\t\t\tint sign = deleteStr(s,index,len);\t  \t\t\t\tif(sign)&#123;\t  \t\t\t\t\tprintf(&quot;æ“ä½œæˆåŠŸ!,ä¸»ä¸²ä¸ºï¼š&quot;);\t\t\t\t\t\tshowStr(s);\t\t\t\t\t\t&#125;\t\t\t\t&#125;\t\t\t\tbreak;\t\t\t\tcase &#x27;4&#x27;:\t\t\t\t&#123;\t\t\t\t\tprintf(&quot;ä¸»ä¸²ä¸ºï¼š&quot;);\t  \t\t\t\tshowStr(s);\t  \t\t\t\tprintf(&quot;\\nè¯·è¾“å…¥æ’å…¥çš„å­ä¸²:&quot;);\t  \t\t\t\tString *addStr = creatStr();\t\t\t\t\tprintf(&quot;\\nè¯·è¾“å…¥æ’å…¥çš„ä½ç½®(ä¸‹æ ‡ä»0å¼€å§‹):&quot;);\t\t\t\t\tint index;\t\t\t\t\tscanf(&quot;%d&quot;,&amp;index);\t\t\t\t\tgetchar();\t  \t\t\t\tint sign = insertStr(s,addStr,index);\t  \t\t\t\tif(sign)&#123;\t  \t\t\t\t\tprintf(&quot;æ“ä½œæˆåŠŸ!,ä¸»ä¸²ä¸ºï¼š&quot;);\t\t\t\t\t\tshowStr(s);\t\t\t\t\t\t&#125;\t\t\t\t&#125;\t\t\t\tbreak;\t\t\t\tcase &#x27;5&#x27;:\t\t\t\t&#123;\t\t\t\t\tprintf(&quot;ä¸»ä¸²ä¸ºï¼š&quot;);\t  \t\t\t\tshowStr(s);\t  \t\t\t\tprintf(&quot;\\nè¯·è¾“å…¥è¦æŸ¥è¯¢çš„å­ä¸²:&quot;);\t  \t\t\t\tString *cmpStr = creatStr();\t\t\t\t\tprintf(&quot;\\nè¯·è¾“å…¥ä»ç¬¬å‡ ä¸ªå­—ç¬¦å¼€å§‹æŸ¥æ‰¾(ä¸‹æ ‡ä»0å¼€å§‹):&quot;);\t\t\t\t\tint index;\t\t\t\t\tscanf(&quot;%d&quot;,&amp;index);\t\t\t\t\tgetchar();\t  \t\t\t\t//int sign = indexStr(s,cmpStr,index);\t  \t\t\t\tint sign = kmp(s,cmpStr,index);\t  \t\t\t\tif(sign != -1)&#123;\t  \t\t\t\t\tprintf(&quot;å­ä¸²åœ¨%dç¬¬ä¸€æ¬¡å‡ºç°.&quot;,sign);\t\t\t\t\t&#125;else&#123;\t\t\t\t\t\tprintf(&quot;æœªæ‰¾åˆ°.&quot;);\t\t\t\t\t&#125;\t\t\t\t&#125;\t\t\t\tbreak;\t\t\t\tcase &#x27;6&#x27;:\t\t\t\t&#123;\t\t\t\t\tprintf(&quot;ä¸»ä¸²ä¸ºï¼š&quot;);\t  \t\t\t\tshowStr(s);\t  \t\t\t\tprintf(&quot;\\nè¯·è¾“å…¥è¦æ›¿æ¢çš„å­ä¸²:&quot;);\t  \t\t\t\tString *repStr = creatStr();\t\t\t\t\tprintf(&quot;\\nè¯·è¾“å…¥è¦æ›¿æ¢ä¸ºç›®æ ‡å­ä¸²:&quot;);\t  \t\t\t\tString *aimStr = creatStr();\t  \t\t\t\tint count = replaceStr(s,repStr,aimStr);\t  \t\t\t\tprintf(&quot;æ›¿æ¢åçš„ä¸»ä¸²ä¸ºï¼š&quot;); \t  \t\t\t\tshowStr(s);\t  \t\t\t\tprintf(&quot;***æˆåŠŸæ›¿æ¢%dä¸ªå­ä¸²***&quot;,count);\t\t\t\t&#125;\t\t\t\tbreak;\t\t\t\tcase &#x27;7&#x27;:\t\t\t\t&#123;\t\t\t\t\tprintf(&quot;ä¸»ä¸²ä¸ºï¼š&quot;);\t  \t\t\t\tshowStr(s);\t  \t\t\t\tprintf(&quot;\\nè¯·è¾“å…¥è¦è¿æ¥çš„ä¸²:&quot;);\t  \t\t\t\tString *str = creatStr();\t  \t\t\t\tcatStr(s,str);\t  \t\t\t\tprintf(&quot;è¿æ¥åçš„ä¸²ä¸ºï¼š&quot;);\t  \t\t\t\tshowStr(s);\t\t\t\t&#125;\t\t\t\tbreak;\t\t\t\tcase &#x27;8&#x27;:\t\t\t\t&#123;\t\t\t\t\tprintf(&quot;ä¸»ä¸²ä¸ºï¼š&quot;);\t  \t\t\t\tshowStr(s);\t  \t\t\t\tprintf(&quot;\\nè¯·è¾“å…¥è¦æ¯”è¾ƒçš„å­ä¸²:&quot;);\t  \t\t\t\tString *str = creatStr();\t  \t\t\t\tint sign = cmpStr(s,str);\t  \t\t\t\tif(sign == 0)&#123;\t  \t\t\t\t\tprintf(&quot;ä¸¤ä¸²ç›¸ç­‰&quot;);\t\t\t\t\t&#125;else&#123;\t\t\t\t\t\tprintf(&quot;ä¸¤ä¸²ä¸ç›¸ç­‰&quot;);\t\t\t\t\t&#125;\t\t\t\t&#125;\t\t\t\tbreak;\t\t\t\tcase &#x27;9&#x27;:\t\t\t\t&#123;\t\t\t\t\tprintf(&quot;ä¸»ä¸²ä¸ºï¼š&quot;);\t  \t\t\t\tshowStr(s);\t\t\t\t&#125;\t\t\t\tbreak;\t\t\tcase &#x27;0&#x27; :\t\t\t\tch1=&#x27;n&#x27;;\t\t\t\tbreak;\t\t\tdefault:\t\t\t\tprintf(&quot;è¾“å…¥æœ‰è¯¯ï¼Œè¯·è¾“å…¥0~8è¿›è¡Œé€‰æ‹©!&quot;);\t\t\t&#125;\t\t\t\t&#125;\treturn 0;&#125;\n\næ ‘äºŒå‰æ ‘#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt; //äºŒå‰æ ‘typedef struct Tree&#123;\tchar data;\tstruct Tree *lchild;\t\t//å·¦å­©å­\tstruct Tree *rchild;\t\t//å³å­©å­ &#125;BT; //é€’å½’æ„å»ºäºŒå‰æ ‘(å…ˆåºåºåˆ—æ„å»ºäºŒå‰æ ‘)//é€’å½’ç†è§£ï¼šå°†æ•´ä¸ªæ„æ ‘è¿‡ç¨‹åˆ†ä¸ºå››æ­¥//1.æ„å»ºæ ¹èŠ‚ç‚¹//2.æ„å»ºå·¦å­æ ‘(é€’å½’å»ºæ ‘) //3.æ„å»ºå³å­æ ‘(é€’å½’å»ºæ ‘) //4.è¿”å›æ ¹èŠ‚ç‚¹ //é€’å½’ç»“æŸæ¡ä»¶ä¸ºï¼šæ²¡æœ‰å·¦æˆ–å³å­©å­(è¾“å…¥&#x27;0&#x27;) BT *creatBT()&#123;\tBT *bt;\t//æ²¡æœ‰å·¦æˆ–å³å­©å­(è¾“å…¥&#x27;0&#x27;)ï¼Œè¾“å…¥0åˆ™æ ‘èŠ‚ç‚¹ä¸ºNULL \tchar ch = &#x27;0&#x27;; \tscanf(&quot;%c&quot;,&amp;ch);\tgetchar();\t//é€’å½’ç»“æŸæ¡ä»¶ \tif(ch == &#x27;0&#x27;)&#123;\t\tbt = NULL;\t&#125; else&#123;\t\t//ç¬¬ä¸€æ­¥æ„å»ºæ ¹èŠ‚ç‚¹\t\tbt = (BT*)malloc(sizeof(BT));\t\tbt-&gt;data = ch;\t\t//ç¬¬äºŒæ­¥æ„å»ºå·¦å­æ ‘(é€’å½’å»ºæ ‘) \t\tprintf(&quot;è¯·è¾“å…¥%cèŠ‚ç‚¹çš„å·¦å­©å­èŠ‚ç‚¹(æ— èŠ‚ç‚¹è¾“å…¥0):&quot;,bt-&gt;data); \t\tbt-&gt;lchild = creatBT();\t\t//ç¬¬ä¸‰æ­¥æ„å»ºå³å­æ ‘(é€’å½’å»ºæ ‘)  \t\tprintf(&quot;è¯·è¾“å…¥%cèŠ‚ç‚¹çš„å³å­©å­èŠ‚ç‚¹(æ— èŠ‚ç‚¹è¾“å…¥0):&quot;,bt-&gt;data); \t\tbt-&gt;rchild = creatBT();\t&#125;\t//ç¬¬å››æ­¥è¿”å›æ‰€åˆ›å»ºçš„æ ¹èŠ‚ç‚¹ \treturn bt;&#125; //é€’å½’å…ˆåºéå† (å…ˆåºéå†æ—¶ç¬¬ä¸€ä¸ªå…ƒç´ è‚¯å®šæ˜¯æ ¹èŠ‚ç‚¹)//é€’å½’ç†è§£ï¼šå°†æ•´ä¸ªéå†æ ‘è¿‡ç¨‹åˆ†ä¸ºä¸‰æ­¥//1.è¾“å‡ºæ ¹èŠ‚ç‚¹ //2.éå†å·¦å­æ ‘(é€’å½’éå†) //3.éå†å³å­æ ‘(é€’å½’éå†) //é€’å½’ç»“æŸæ¡ä»¶ä¸ºï¼šæ²¡æœ‰å·¦æˆ–å³å­©å­void preOrderShowBT(BT *bt)&#123;\tif(bt == NULL)&#123;\t\treturn;\t&#125; \t//ç¬¬ä¸€æ­¥è¾“å‡ºæ ¹èŠ‚ç‚¹ \tprintf(&quot;%c &quot;,bt-&gt;data);\t//ç¬¬äºŒæ­¥éå†å·¦å­æ ‘(é€’å½’éå†)  \tpreOrderShowBT(bt-&gt;lchild); \t//ç¬¬ä¸‰æ­¥éå†å³å­æ ‘(é€’å½’éå†) \tpreOrderShowBT(bt-&gt;rchild); &#125;//é€’å½’ä¸­åºéå† //é€’å½’ç†è§£ï¼šå°†æ•´ä¸ªéå†æ ‘è¿‡ç¨‹åˆ†ä¸ºä¸‰æ­¥//1.éå†å·¦å­æ ‘(é€’å½’éå†) //2.è¾“å‡ºæ ¹èŠ‚ç‚¹ //3.éå†å³å­æ ‘(é€’å½’éå†) //é€’å½’ç»“æŸæ¡ä»¶ä¸ºï¼šæ²¡æœ‰å·¦æˆ–å³å­©å­void midOrderShowBT(BT *bt)&#123;\tif(bt == NULL)&#123;\t\treturn;\t&#125; \t//ç¬¬ä¸€æ­¥éå†å·¦å­æ ‘(é€’å½’éå†)\tmidOrderShowBT(bt-&gt;lchild); \t//ç¬¬äºŒæ­¥è¾“å‡ºæ ¹èŠ‚ç‚¹  \tprintf(&quot;%c &quot;,bt-&gt;data);\t//ç¬¬ä¸‰æ­¥éå†å³å­æ ‘(é€’å½’éå†)\tmidOrderShowBT(bt-&gt;rchild); &#125;//é€’å½’ååºéå†(ååºéå†æ—¶æœ€åä¸€ä¸ªå…ƒç´ è‚¯å®šæ˜¯æ ¹èŠ‚ç‚¹)//é€’å½’ç†è§£ï¼šå°†æ•´ä¸ªéå†æ ‘è¿‡ç¨‹åˆ†ä¸ºä¸‰æ­¥//1.éå†å·¦å­æ ‘(é€’å½’éå†)  //2.éå†å³å­æ ‘(é€’å½’éå†) //3.è¾“å‡ºæ ¹èŠ‚ç‚¹//é€’å½’ç»“æŸæ¡ä»¶ä¸ºï¼šæ²¡æœ‰å·¦æˆ–å³å­©å­void postOrderShowBT(BT *bt)&#123;\tif(bt == NULL)&#123;\t\treturn;\t&#125; \t//ç¬¬ä¸€æ­¥éå†å·¦å­æ ‘(é€’å½’éå†)\tpostOrderShowBT(bt-&gt;lchild); \t//ç¬¬äºŒæ­¥éå†å³å­æ ‘(é€’å½’éå†) \tpostOrderShowBT(bt-&gt;rchild); \t//ç¬¬ä¸‰æ­¥è¾“å‡ºæ ¹èŠ‚ç‚¹\tprintf(&quot;%c &quot;,bt-&gt;data);&#125;//æ ‘çš„å±‚æ¬¡éå†//ç®—æ³•å®ç°ï¼šéœ€è¦ç”¨åˆ°ä¸€ä¸ªé˜Ÿåˆ—(è¿™é‡Œä½¿ç”¨å¾ªç¯é˜Ÿåˆ—ï¼Œæ‰€ä»¥å¯¹æ ‘çš„å±‚æ•°æœ‰é™åˆ¶)ï¼Œé¦–å…ˆæŠŠæ ¹èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ä¸­ ç„¶åå¾ªç¯å‡ºé˜Ÿï¼Œ//æ¯å‡ºé˜Ÿä¸€ä¸ªå…ƒç´ å°±å°†å®ƒçš„å·¦å­©å­å’Œå³å­©å­å…¥é˜Ÿï¼Œä¸ºç©ºåˆ™ä¸å…¥é˜Ÿï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ºç©º //å¦‚æœæœ€å¤§å¯éå†æ ‘çš„å±‚æ•°ä¸º4é‚£ä¹ˆæ•°ç»„å¤§å°åº”è¯¥è®¾ç½®ä¸º2^(k-1)+1,åŠ ä¸€æ˜¯ç»™å¾ªç¯é˜Ÿåˆ—ç”¨äºå¤„ç†é˜Ÿæ»¡çš„æƒ…å†µ void levelOrderShowBT(BT *bt)&#123;\tconst int MAX = 9;\tBT *btQueue[MAX],*tempBt = NULL;\t\t//é˜Ÿåˆ—æ•°ç»„ï¼Œä¸´æ—¶èŠ‚ç‚¹ \tint front,rear;\t\t\t\t\t\t//é˜Ÿé¦–æŒ‡é’ˆä¸é˜Ÿå°¾æŒ‡é’ˆ\tbtQueue[0] = bt;\t\t\t\t\t//å°†æ ¹èŠ‚ç‚¹å…¥é˜Ÿ\tfront = 0,rear = 1;\t\t\t\t\t//æ›´æ–°æŒ‡é’ˆ\t\twhile(front != rear) &#123;\t\ttempBt = btQueue[front];\t\t//å°†é˜Ÿé¦–å‡ºé˜Ÿ\t\tfront = (front + 1)%MAX;\t\t\t\t\tprintf(&quot;%c &quot;,tempBt-&gt;data);\t\t\t\tif(tempBt-&gt;lchild != NULL)&#123;\t\t\tbtQueue[rear] = tempBt-&gt;lchild;\t//å¦‚æœä¸ä¸ºç©ºåˆ™å°†å·¦å­©å­åŠ å…¥é˜Ÿåˆ— \t\t\trear = (rear + 1 ) % MAX;\t\t&#125;\t\tif(tempBt-&gt;rchild != NULL)&#123;\t\t\tbtQueue[rear] = tempBt-&gt;rchild;\t//å¦‚æœä¸ä¸ºç©ºåˆ™å°†å³å­©å­åŠ å…¥é˜Ÿåˆ— \t\t\trear = (rear + 1 ) % MAX;\t\t&#125;\t\t&#125;&#125;//æ ‘çš„é‡å»º(å‰åº+ä¸­åº)//ç®—æ³•å®ç°ï¼š(é¦–å…ˆè¦çŸ¥é“å‰åºéå†æ‰€å¾—åˆ°çš„æ•°ç»„é¦–å…ƒç´ è‚¯å®šä¸ºå¾…å»ºæ ‘çš„æ ¹èŠ‚ç‚¹)//æˆ‘ä»¬å…ˆåˆ¤æ–­å½“å‰å¾…å»ºæ ‘çš„èŠ‚ç‚¹æ˜¯å¦ä¸º0ï¼Œæ²¡æœ‰èŠ‚ç‚¹è‚¯å®šæ— æ³•å»ºæ ‘ï¼Œæœ‰èŠ‚ç‚¹å…ˆå»ºç«‹æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œå°†å‰åºæ•°ç»„çš„é¦–å…ƒç´ å­˜å…¥æ ¹èŠ‚ç‚¹ä¸­//ç„¶åéå†ä¸­åºæ•°ç»„ï¼ŒæŸ¥æ‰¾åˆ°è¯¥æ ¹å…ƒç´ (å‰åºæ•°ç»„é¦–å…ƒç´ )æ‰€åœ¨ä½ç½®(ä¸‹æ ‡i)ï¼Œæ ¹æ®ä¸­åºéå†çš„æ€§è´¨å¯ä»¥çŸ¥é“ï¼Œå…ƒç´ å·¦æ–¹æ˜¯å·¦å­æ ‘ï¼Œå³æ–¹æ˜¯å³å­æ ‘//ä¸‹æ ‡iå³ä¸ºå·¦å­æ ‘é•¿åº¦ï¼Œæ¯”å¦‚å‰åºä¸ºa,b,c =ä¸­åºä¸ºb,a,c.å¯çŸ¥æ ¹å…ƒç´ æ˜¯aï¼Œç„¶åéå†ä¸­åºæ•°ç»„ï¼Œæ‰¾åˆ°a,ä¸‹æ ‡ä¸º1ï¼Œå·¦å­æ ‘é•¿åº¦ä¹Ÿä¸º1.//æ¥ä¸‹æ¥åˆ™é€’å½’å»ºæ ‘ï¼Œæ„å»ºå·¦å­æ ‘(buidBT(å·¦å­æ ‘æ‰€åœ¨å‰åºæ•°ç»„,å·¦å­æ ‘æ‰€åœ¨ä¸­åºæ•°ç»„,æ ¹èŠ‚ç‚¹å·¦å­©å­,å·¦å­æ ‘èŠ‚ç‚¹æ•°))ï¼Œæ„å»ºå³å­æ ‘(buidBT(å³å­æ ‘æ‰€åœ¨å‰åºæ•°ç»„,å³å­æ ‘æ‰€åœ¨ä¸­åºæ•°ç»„,æ ¹èŠ‚ç‚¹å³å­©å­å³å­æ ‘èŠ‚ç‚¹æ•°))//æ€»ä¹‹é€’å½’ç®—æ³•å°±æ˜¯ä¸‰æ­¥ï¼š//1.æ„å»ºæ ¹èŠ‚ç‚¹//2.é€’å½’æ„å»ºå·¦å­æ ‘ //3.é€’å½’æ„å»ºå³å­æ ‘//é€’å½’é€€å‡ºæ¡ä»¶ä¸ºå¾…æ„å»ºæ ‘é•¿åº¦ä¸º0 void buildBT(char *pre,char *mid,BT **bt,int len)&#123;\t//preå‰åºæ•°ç»„ï¼Œmidä¸­åºæ•°ç»„ï¼Œbtå»ºæ ‘èŠ‚ç‚¹æŒ‡é’ˆçš„æŒ‡é’ˆï¼Œlenå¾…å»ºæ ‘èŠ‚ç‚¹ \t//å¾…æ„å»ºæ ‘çš„é•¿åº¦ä¸º0åˆ™ç»“æŸé€’å½’ \tif(len == 0)&#123;\t\t*bt = NULL;\t//æ²¡æœ‰å­èŠ‚ç‚¹åˆ™èµ‹å€¼NULL \t\treturn;\t&#125;\t//ç¬¬ä¸€æ­¥ï¼Œæ„å»ºæ ¹èŠ‚ç‚¹ \tint i;\t*bt = (BT*)malloc(sizeof(BT));\t//printf(&quot;%c&quot;,*pre);\t(*bt)-&gt;data=*pre;\t//*preï¼Œpreæ˜¯æ•°ç»„é¦–åœ°å€ï¼Œ*preå³å–å…¶å€¼ç±»ä¼¼äºpre[0] \tfor(i=0;i&lt;len;i++)&#123;\t\t//åœ¨ä¸­åºæ•°ç»„ä¸­å¾ªç¯éå†æ ¹çš„ä½ç½® \t\tif(mid[i] == *pre)&#123;\t\t\t//æ‰¾åˆ°åˆ™breakï¼Œè¿™æ—¶iå³ä¸ºæ ¹åœ¨ä¸­åºæ•°ç»„ä¸­çš„ä½ç½® \t\t\tbreak;\t\t&#125;\t&#125;\t//ç¬¬äºŒæ­¥ï¼Œæ„å»ºå·¦å­æ ‘ \t//pre+1ï¼Œè¡¨æ˜å·¦å­æ ‘æ‰€åœ¨å…ˆåºéå†æ•°ç»„çš„é¦–åœ°å€ï¼Œä»–å’Œæœ€åä¸€ä¸ªå‚æ•°iå¯ä»¥ç¡®å®šå·¦å­æ ‘çš„å‰åºæ•°ç»„ \t//midï¼Œå·¦å­æ ‘æ‰€åœ¨ä¸­åºéå†æ•°ç»„çš„é¦–åœ°å€ï¼Œä»–å’Œå‚æ•°iå¯ä»¥ç¡®å®šå·¦å­æ ‘çš„ä¸­åºæ•°ç»„\t//iå­æ ‘é•¿åº¦ \tbuildBT(pre+1,mid,&amp;((*bt)-&gt;lchild),i);\t\t\t\t\t//ç¬¬ä¸‰æ­¥ï¼Œæ„å»ºå³å­æ ‘ \t//pre+1+iï¼Œè¡¨æ˜å³å­æ ‘æ‰€åœ¨å…ˆåºéå†æ•°ç»„çš„é¦–åœ°å€ï¼Œä»–å’Œæœ€åä¸€ä¸ªå‚æ•°len-i-1å¯ä»¥ç¡®å®šå³å­æ ‘çš„å‰åºæ•°ç»„ \t//mid+i+1ï¼Œå³å­æ ‘æ‰€åœ¨ä¸­åºéå†æ•°ç»„çš„é¦–åœ°å€ï¼Œä»–å’Œå‚æ•°len-i-1å¯ä»¥ç¡®å®šå·¦å­æ ‘çš„ä¸­åºæ•°ç»„\t//len-i-1,å­æ ‘é•¿åº¦\tbuildBT(pre+i+1,mid+i+1,&amp;((*bt)-&gt;rchild),len-i-1);\t\t//è‡ªè¡Œä¸¾ä¾‹..... &#125; //ååºåŠ ä¸­åº void postMidBuildBT(char *post,char *mid,BT **bt,int len) &#123;\tif(len == 0)&#123;\t\t*bt = NULL;\t\treturn;\t&#125;\t\t*bt = (BT*)malloc(sizeof(BT));\t(*bt)-&gt; data = post[len-1];\tint i;\tfor(i = 0; i &lt; len; i++)&#123;\t\tif(post[len-1] == mid[i])&#123;\t\t\tbreak;\t\t&#125;\t&#125;\tpostMidBuildBT(post,mid,&amp;((*bt)-&gt;lchild),i);\tpostMidBuildBT(post+i,mid+i+1,&amp;((*bt)-&gt;rchild),len-i-1);&#125;//æ±‚èŠ‚ç‚¹æ€»æ•°int getAllNodeCount(BT *bt)&#123;\tint count = 0;\t//ç»“æŸæ¡ä»¶ï¼Œå·¦æˆ–å³å­æ ‘èŠ‚ç‚¹æ•°é‡ä¸º0 \tif(bt == NULL)&#123;\t\treturn 0; \t&#125;\t//é€’å½’è·å–å·¦å­æ ‘çš„æ•°é‡\tint l = getAllNodeCount(bt-&gt;lchild);\t//é€’å½’è·å–å³å­æ ‘çš„æ•°é‡\tint r = getAllNodeCount(bt-&gt;rchild);\tcount = l+r+1;\t\t//æ€»æ•°ä¸ºå·¦å­æ ‘æ•°é‡åŠ å³å­æ ‘æ•°é‡åŠ ä¸€ä¸ªæ ¹èŠ‚ç‚¹ \treturn count;&#125;//æ±‚æ ‘æ·±åº¦ int getDepth(BT *bt)&#123;\t//ç»“æŸæ¡ä»¶ï¼Œå·¦æˆ–å³å­æ ‘èŠ‚ç‚¹æ•°é‡ä¸º0\tif(bt == NULL)&#123;\t\treturn 0;\t&#125;\t//æ±‚å·¦å­æ ‘æ·±åº¦ \tint l = getDepth(bt-&gt;lchild);\t//æ±‚å³å­æ ‘æ·±åº¦ \tint r = getDepth(bt-&gt;rchild);\tint depth = 0;\t//å–æœ€å¤§çš„å­æ ‘æ·±åº¦ \tif(l &gt;= r)&#123;\t\tdepth+=l;\t&#125; else&#123;\t\tdepth+=r;\t&#125;\t//æœ€åæ·±åº¦åŠ 1åˆ™ä¸ºæœ€ç»ˆæ ‘çš„æ·±åº¦ \treturn ++depth;&#125; void menu()&#123;    printf(&quot;\\næ ‘çš„å„ç§æ“ä½œ&quot;);  printf(&quot;\\n========================================&quot;);  printf(&quot;\\n|          1--å»ºç«‹äºŒå‰æ ‘               |&quot;);  printf(&quot;\\n|          2--é‡å»ºäºŒå‰æ ‘(å‰åº+ä¸­åº)    |&quot;);  printf(&quot;\\n|          3--é‡å»ºäºŒå‰æ ‘(ååº+ä¸­åº)    |&quot;);  printf(&quot;\\n|          4--å…ˆåºéå†                 |&quot;);  printf(&quot;\\n|          5--ä¸­åºéå†                 |&quot;);  printf(&quot;\\n|          6--ååºéå†                 |&quot;);  printf(&quot;\\n|          7--å±‚æ¬¡éå†                 |&quot;);  printf(&quot;\\n|          8--æ±‚æ ‘æ€»èŠ‚ç‚¹æ•°             |&quot;);  printf(&quot;\\n|          9--æ±‚æ ‘æ·±åº¦                 |&quot;);  printf(&quot;\\n|          0--è¿”å›                     |&quot;);  printf(&quot;\\n========================================&quot;);  printf(&quot;\\nè¯·è¾“å…¥èœå•å·(0-9)ï¼š&quot;);&#125; int main()&#123; \tBT *bt = NULL;\tint context;\tint n,i,loc,x;\tchar ch1,ch2,a;\tch1=&#x27;y&#x27;;\twhile(ch1==&#x27;y&#x27;||ch1==&#x27;Y&#x27;)&#123;\t\tmenu();\t\tscanf(&quot;%c&quot;,&amp;ch2);\t\tgetchar();\t\tswitch(ch2)\t\t&#123;\t\t\tcase &#x27;1&#x27;:&#123;\t\t\t\tprintf(&quot;è¯·è¾“å…¥æ ¹èŠ‚ç‚¹:&quot;);\t\t\t\tbt = creatBT(); \t\t\t\tpreOrderShowBT(bt);\t\t\t\tbreak;\t\t\t&#125;\t  \t\tcase &#x27;2&#x27;:&#123;\t  \t\t\tBT *newBt = NULL;\t  \t\t\tchar pre[100],mid[100]; \t  \t\t\tprintf(&quot;è¯·è¾“å…¥å…ˆåºæ•°ç»„ï¼š&quot;);\t\t\t\tscanf(&quot;%s&quot;,pre);\t\t\t\tgetchar();\t\t\t\tprintf(&quot;è¯·è¾“å…¥ä¸­åºæ•°ç»„ï¼š&quot;);\t\t\t\tscanf(&quot;%s&quot;,&amp;mid);\t\t\t\tgetchar();\t\t\t\tint i = 0,j = 0;\t\t\t\tfor(;pre[i]!=&#x27;\\0&#x27;&amp;&amp;mid[j]!=&#x27;\\0&#x27;;i++,j++)&#123;&#125;\t\t\t\tif(pre[i] == mid[j])&#123;\t\t\t\t\t//printf(&quot;%d\\n&quot;,i);\t\t\t\t\tbuildBT(pre,mid,&amp;newBt,i);\t\t\t\t\t//å»ºæ ‘æˆåŠŸè¾“å‡ºå…¶ååºéå† \t\t\t\t\tpostOrderShowBT(newBt);\t\t\t\t\t//printf(&quot;mdfk\\n&quot;); \t\t\t\t&#125;else&#123;\t\t\t\t\tprintf(&quot;å…ˆåºæ•°ç»„ä¸ååºæ•°ç»„é•¿åº¦ä¸ä¸€è‡´!\\n&quot;);\t\t\t\t&#125;\t\t\t\tbreak;\t\t\t&#125;\t\t\tcase &#x27;3&#x27;:&#123;\t  \t\t\tBT *newBt = NULL;\t  \t\t\tchar post[100],mid[100]; \t  \t\t\tprintf(&quot;è¯·è¾“å…¥ååºæ•°ç»„ï¼š&quot;);\t\t\t\tscanf(&quot;%s&quot;,post);\t\t\t\tgetchar();\t\t\t\tprintf(&quot;è¯·è¾“å…¥ä¸­åºæ•°ç»„ï¼š&quot;);\t\t\t\tscanf(&quot;%s&quot;,mid);\t\t\t\tgetchar();\t\t\t\tint i = 0,j = 0;\t\t\t\tfor(;post[i]!=&#x27;\\0&#x27;&amp;&amp;mid[j]!=&#x27;\\0&#x27;;i++,j++)&#123;&#125;\t\t\t\tif(post[i] == mid[j])&#123;\t\t\t\t\tpostMidBuildBT(post,mid,&amp;newBt,i);\t\t\t\t\t//å»ºæ ‘æˆåŠŸè¾“å‡ºå…¶å…ˆåºéå†\t\t\t\t\tpreOrderShowBT(newBt);\t\t\t\t&#125;else&#123;\t\t\t\t\tprintf(&quot;ååºæ•°ç»„ä¸ååºæ•°ç»„é•¿åº¦ä¸ä¸€è‡´!\\n&quot;);\t\t\t\t&#125;\t\t\t\tbreak;\t\t\t&#125;\t\t\tcase &#x27;4&#x27;:\t\t\t\tif(bt)&#123;\t\t\t\t\tpreOrderShowBT(bt);\t\t\t\t&#125; else &#123;\t\t\t\t\tprintf(&quot;è¯·å…ˆå»ºä¸€é¢—æ ‘å§ï¼&quot;);\t\t\t\t&#125;\t\t\t\t\tbreak;\t\t\tcase &#x27;5&#x27;:\t\t\t\tif(bt)&#123;\t\t\t\t\tmidOrderShowBT(bt);\t\t\t\t&#125; else &#123;\t\t\t\t\tprintf(&quot;è¯·å…ˆå»ºä¸€é¢—æ ‘å§ï¼&quot;);\t\t\t\t&#125;\t\t\t\tbreak;\t\t\tcase &#x27;6&#x27;:\t\t\t\tif(bt)&#123;\t\t\t\t\tpostOrderShowBT(bt);\t\t\t\t&#125; else &#123;\t\t\t\t\tprintf(&quot;è¯·å…ˆå»ºä¸€é¢—æ ‘å§ï¼&quot;);\t\t\t\t&#125;\t\t\t\tbreak;\t\t\tcase &#x27;7&#x27;:\t\t\t\tif(bt)&#123;\t\t\t\t\tlevelOrderShowBT(bt);\t\t\t\t&#125; else &#123;\t\t\t\t\tprintf(&quot;è¯·å…ˆå»ºä¸€é¢—æ ‘å§ï¼&quot;);\t\t\t\t&#125;\t\t\t\tbreak;\t\t\tcase &#x27;8&#x27;:\t\t\t\tif(bt)&#123;\t\t\t\t\tprintf(&quot;æ ‘ä¸€å…±æœ‰%dä¸ªèŠ‚ç‚¹&quot;,getAllNodeCount(bt));\t\t\t\t&#125; else &#123;\t\t\t\t\tprintf(&quot;è¯·å…ˆå»ºä¸€é¢—æ ‘å§ï¼&quot;);\t\t\t\t&#125;\t\t\t\tbreak;\t\t\tcase &#x27;9&#x27;:\t\t\t\tif(bt)&#123;\t\t\t\t\tprintf(&quot;æ ‘çš„æ·±åº¦ä¸º:%d&quot;,getDepth(bt));\t\t\t\t&#125; else &#123;\t\t\t\t\tprintf(&quot;è¯·å…ˆå»ºä¸€é¢—æ ‘å§ï¼&quot;);\t\t\t\t&#125;\t\t\t\tbreak;\t\t\tcase &#x27;0&#x27; :\t\t\t\tch1=&#x27;n&#x27;;\t\t\t\tbreak;\t\t\tdefault:\t\t\t\tprintf(&quot;è¾“å…¥æœ‰è¯¯ï¼Œè¯·è¾“å…¥0~6è¿›è¡Œé€‰æ‹©!&quot;);\t\t\t&#125;\t\tprintf(&quot;\\n&quot;);\t\tsystem(&quot;pause&quot;);\t\t&#125;\treturn 0;&#125;\n\nå›¾#include &lt;iostream&gt;#include &lt;stdlib.h&gt;#include &lt;limits.h&gt;using namespace std;const int MAX = 100;\t//æœ€å¤§å­˜å‚¨èŠ‚ç‚¹typedef char DataType;\t//èŠ‚ç‚¹çš„æ•°æ®ç±»å‹ typedef int EdgeType;\t//è¾¹ç±»çš„æ•°æ®ç±»å‹ bool v[MAX];\t//å›¾æœç´¢è®°å½•æ•°ç»„//MyEdgesGraph-é‚»æ¥çŸ©é˜µè¡¨ç¤ºå›¾ typedef struct&#123;\tint nodeNum,edgeNum;\t//èŠ‚ç‚¹æ€»æ•°é‡ï¼Œè¾¹æ€»æ•°é‡ \tDataType vexs[MAX];\t\t//å­˜å‚¨æ‰€æœ‰èŠ‚ç‚¹çš„æ•°ç»„ \tint edges[MAX][MAX];\t//é‚»æ¥çŸ©é˜µ\t &#125;MyEdgesGraph; typedef struct ArcNode&#123;\tint vertexIndex;\t\t\t//èŠ‚ç‚¹ä¸‹æ ‡ \tint arcData;\t\t\t\t//æƒé‡ \tstruct ArcNode *nextArc;\t//ä¸‹é‚»æ¥ç‚¹ &#125;ArcNode;//å­˜å‚¨è¾¹å…³ç³»çš„èŠ‚ç‚¹typedef struct VertexNode&#123;\tDataType data;\t\t\t\t//å¤´èŠ‚ç‚¹ä¿¡æ¯ \tArcNode *first;\t\t\t\t//è¡¨å¤´æŒ‡é’ˆ,æŒ‡å‘å®ƒçš„è¾¹ &#125;VertexNode;//å­˜å‚¨é¡¶ç‚¹çš„èŠ‚ç‚¹\t //AdjList-é‚»æ¥è¡¨è¡¨ç¤ºå›¾ typedef struct&#123;\tint nodeNum,edgeNum;\t\t//é‚»æ¥è¡¨çš„èŠ‚ç‚¹æ•°ï¼Œè¾¹æ•° \tVertexNode vertexNode[MAX]; //é‚»æ¥è¡¨æ•°ç»„ &#125;AdjList; MyEdgesGraph *createEdgesGraph()&#123;\t//åˆ¤æ–­æ˜¯æœ‰å‘å›¾è¾“å…¥è¿˜æ˜¯æ— å‘å›¾è¾“å…¥ \tprintf(&quot;è¯·ç¡®è®¤æ˜¯æ— å‘å›¾è¿˜æ˜¯æœ‰å‘å›¾ï¼Ÿ(1.æ— å‘ï¼Œ2.æœ‰å‘):&quot;);\tint choose;\tscanf(&quot;%d&quot;,&amp;choose);\tgetchar();\tif(choose != 1 &amp;&amp; choose != 2) return NULL;\t//å¦‚æœè¾“å…¥ä¸ä¸º1æˆ–è€…2ï¼Œç›´æ¥é€€å‡ºæ–¹æ³• \t\tMyEdgesGraph *graph = (MyEdgesGraph*)malloc(sizeof(MyEdgesGraph));\t//åŠ¨æ€ç”³è¯·ä¸€å—ç©ºé—´ç”¨äºé‚»æ¥çŸ©é˜µå­˜å‚¨å›¾ \tprintf(&quot;è¯·è¾“å…¥æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹:&quot;);\tscanf(&quot;%d&quot;,&amp;graph-&gt;nodeNum);\t//å­˜å‚¨èŠ‚ç‚¹æ•° \tgetchar();\t\t\t\t\t\t//getchar()ç”¨äºè¯»å–ç¼“å­˜åŒºçš„å›è½¦ï¼Œé˜²æ­¢åç»­è¯»å–å­—ç¬¦å‡ºé”™ \tprintf(&quot;è¯·è¾“å…¥æœ‰å¤šå°‘æ¡è¾¹:&quot;);\tscanf(&quot;%d&quot;,&amp;graph-&gt;edgeNum);\t//å­˜å‚¨è¾¹æ•° \tgetchar();\t\tprintf(&quot;è¯·è¾“å…¥æ¯ä¸ªèŠ‚ç‚¹ä¿¡æ¯:&quot;);\tchar c;\tint i=1; \twhile(1)&#123;\t\t\t\t\t\t//å­˜å‚¨èŠ‚ç‚¹ä¿¡æ¯ \t\tc = getchar();\t\tgraph-&gt;vexs[i++] = c;\t\tif(i&gt;graph-&gt;nodeNum) break;\t&#125;\tgetchar();\t\t\tif(choose == 1)&#123;\t\t//æ— å‘å›¾ \t\tprintf(&quot;è¯·è¾“å…¥è¾¹(èŠ‚ç‚¹ç¼–å·,èŠ‚ç‚¹ç¼–å·):&quot;);\t\tint x,y;\t//ä¸´æ—¶å­˜å‚¨èŠ‚ç‚¹ç¼–å· \t\tfor(int i = 1; i&lt;=graph-&gt;edgeNum; i++)&#123;\t\t\tscanf(&quot;%d,%d&quot;,&amp;x,&amp;y);\t\t\tgetchar();\t\t\tgraph-&gt;edges[x][y] = 1;\t\t//å°†è¾¹æ ‡è®° \t\t\tgraph-&gt;edges[y][x] = 1;\t\t//æ— å‘å›¾,çŸ©é˜µå…·æœ‰å¯¹ç§°æ€§ \t\t&#125;  \t\t\t\t&#125; else if(choose == 2)&#123;\t\t//æœ‰å‘å›¾\t\t//å…ˆå°†çŸ©é˜µåˆå§‹åŒ–ä¸ºæœ€å¤§å€¼ \t\tfor(int i = 1;i&lt;=graph-&gt;nodeNum;i++)&#123;\t\t\tfor(int j = 1;j&lt;=graph-&gt;nodeNum;j++)&#123;\t\t\t\tgraph-&gt;edges[i][j] = INT_MAX;\t\t\t&#125;\t\t&#125; \t\tprintf(&quot;è¯·è¾“å…¥è¾¹(èŠ‚ç‚¹ç¼–å·,èŠ‚ç‚¹ç¼–å·,æƒé‡):&quot;);\t\tint x,y,w;\t//ä¸´æ—¶å­˜å‚¨èŠ‚ç‚¹ç¼–å·ä¸æƒé‡ \t\tfor(int i = 1; i&lt;=graph-&gt;edgeNum; i++)&#123;\t\t\tscanf(&quot;%d,%d,%d&quot;,&amp;x,&amp;y,&amp;w);\t\t\tgetchar();\t\t\tgraph-&gt;edges[x][y] = w;\t//å°†è¾¹æ ‡è®°ä¸ºæƒé‡ \t\t&#125;  \t&#125;\tprintf(&quot;åˆ›å»ºæˆåŠŸ!&quot;);\treturn graph;&#125;void showEdges(MyEdgesGraph *graph)&#123;\tprintf(&quot;è¯¥å›¾çš„é‚»æ¥çŸ©é˜µä¸ºï¼š\\n&quot;);\tprintf(&quot;  &quot;);\tfor(int i = 1;i&lt;=graph-&gt;nodeNum;i++)\t\tprintf(&quot;%c   &quot;,graph-&gt;vexs[i]);\tprintf(&quot;\\n&quot;);\tfor(int i = 1;i&lt;=graph-&gt;nodeNum;i++)&#123;\t\tprintf(&quot;%c &quot;,graph-&gt;vexs[i]);\t\tfor(int j = 1;j&lt;=graph-&gt;nodeNum;j++)&#123;\t\t\tif(graph-&gt;edges[i][j] == INT_MAX)&#123;\t\t\t\tprintf(&quot;âˆ  &quot;);\t\t\t&#125;else\t\t\t\tprintf(&quot;%d   &quot;,graph-&gt;edges[i][j]);\t\t&#125;\t\tcout&lt;&lt;endl;\t&#125;\tprintf(&quot;èŠ‚ç‚¹æ•°:%d&quot;,graph-&gt;nodeNum);\tprintf(&quot;\\nè¾¹æ•°:%d&quot;,graph-&gt;edgeNum);&#125;AdjList *createAdjList()&#123;\t//åˆ¤æ–­æ˜¯æœ‰å‘å›¾è¾“å…¥è¿˜æ˜¯æ— å‘å›¾è¾“å…¥ \tprintf(&quot;è¯·ç¡®è®¤æ˜¯æ— å‘å›¾è¿˜æ˜¯æœ‰å‘å›¾ï¼Ÿ(1.æ— å‘ï¼Œ2.æœ‰å‘):&quot;);\tint choose;\tscanf(&quot;%d&quot;,&amp;choose);\tgetchar();\tif(choose != 1 &amp;&amp; choose != 2) return NULL;\t\t\t//å¦‚æœè¾“å…¥ä¸ä¸º1æˆ–è€…2ï¼Œç›´æ¥é€€å‡ºæ–¹æ³•\t\tAdjList *graph = (AdjList*)malloc(sizeof(AdjList));\t//åŠ¨æ€å£°æ˜ä¸€å—ç©ºé—´å­˜å‚¨é‚»æ¥è¡¨ \tprintf(&quot;è¯·è¾“å…¥æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹:&quot;);\tscanf(&quot;%d&quot;,&amp;graph-&gt;nodeNum);\t\t\t\t\t\t//å­˜å‚¨èŠ‚ç‚¹æ•° \tgetchar();\tprintf(&quot;è¯·è¾“å…¥æœ‰å¤šå°‘æ¡è¾¹:&quot;);\t\t\t\t\t\t\tscanf(&quot;%d&quot;,&amp;graph-&gt;edgeNum);\t\t\t\t\t\t//å­˜å‚¨è¾¹æ•° \tgetchar();\t\tprintf(&quot;è¯·è¾“å…¥æ¯ä¸ªèŠ‚ç‚¹ä¿¡æ¯:&quot;);\tchar c;\tint i=1; \twhile(1)&#123;\t\t\t\t\t\t\t\t\t\t\t//å­˜å‚¨è¾¹ä¿¡æ¯ \t\tc = getchar();\t\tgraph-&gt;vertexNode[i].first = NULL;\t\tgraph-&gt;vertexNode[i++].data = c;\t\tif(i&gt;graph-&gt;nodeNum) break;\t&#125;\tgetchar();\t\tif(choose == 1)&#123;\t\t//æ— å‘è¾¹ \t\tprintf(&quot;è¯·è¾“å…¥è¾¹(èŠ‚ç‚¹ç¼–å·,èŠ‚ç‚¹ç¼–å·,æƒé‡):&quot;);\t\tint x,y,z;\t\t//èŠ‚ç‚¹ç¼–å·,èŠ‚ç‚¹ç¼–å·,æƒé‡\t\tfor(int i = 1; i&lt;=graph-&gt;edgeNum; i++)&#123;\t\t\tscanf(&quot;%d,%d,%d&quot;,&amp;x,&amp;y,&amp;z);\t\t\tgetchar();\t\t\tArcNode *node = (ArcNode*)malloc(sizeof(ArcNode));\t\t//åŠ¨æ€å£°æ˜ä¸€å—ç©ºé—´å­˜å‚¨è¾¹å…³ç³» \t\t\t//å…ˆå­˜å‚¨è¯¥è¾¹ä¿¡æ¯ \t\t\tnode-&gt;vertexIndex = y;\t\t\t\t\t\t\t\t\t//è¾¹ç›¸è¿çš„å¦ä¸€è¾¹ \t\t\tnode-&gt;arcData = z;\t\t\t\t\t\t\t\t\t\t//å­˜å‚¨æƒé‡ \t\t\t//é‡‡ç”¨å¤´æ’æ³•ï¼Œå°†å¤´èŠ‚ç‚¹ä¸è¾¹ç›¸è¿æ¥ \t\t\tnode-&gt;nextArc = graph-&gt;vertexNode[x].first;\t\t\t\t \t\t\tgraph-&gt;vertexNode[x].first = node;\t\t\t//æ— å‘å›¾æ‰€ä»¥å¯ä»¥x-&gt;yå’Œy-&gt;x\t\t\tArcNode *node1 = (ArcNode*)malloc(sizeof(ArcNode));\t\t\tnode1-&gt;vertexIndex = x;\t\t\tnode1-&gt;arcData = z;\t\t\tnode1-&gt;nextArc = graph-&gt;vertexNode[y].first;\t\t\tgraph-&gt;vertexNode[y].first = node1;\t\t&#125;  \t\t\t\t&#125; else if(choose == 2)&#123;\t\tprintf(&quot;è¯·è¾“å…¥è¾¹(èŠ‚ç‚¹ç¼–å·,èŠ‚ç‚¹ç¼–å·,æƒé‡):&quot;);\t\tint x,y,z;\t\tfor(int i = 1; i&lt;=graph-&gt;edgeNum; i++)&#123;\t\t\tscanf(&quot;%d,%d,%d&quot;,&amp;x,&amp;y,&amp;z);\t\t\tgetchar();\t\t\tArcNode *node = (ArcNode*)malloc(sizeof(ArcNode));\t\t\t\t\t\tnode-&gt;vertexIndex = y;\t\t\tnode-&gt;arcData = z;\t\t\tnode-&gt;nextArc = graph-&gt;vertexNode[x].first;\t\t\tgraph-&gt;vertexNode[x].first = node;\t\t\t\t\t&#125;  \t&#125;\tprintf(&quot;åˆ›å»ºæˆåŠŸ!&quot;);\treturn graph;\t&#125;void showAdjList(AdjList *graph)&#123;\tfor(int i = 1;i&lt;=graph-&gt;nodeNum;i++)&#123;\t\tprintf(&quot;ä¸‹æ ‡:%d èŠ‚ç‚¹:%c è¾¹:&quot;,i,graph-&gt;vertexNode[i].data);\t\tArcNode *node = graph-&gt;vertexNode[i].first;\t\twhile(node != NULL)&#123;\t\t\tprintf(&quot; (%d,%d)&quot;,node-&gt;vertexIndex,node-&gt;arcData);\t\t\tnode = node-&gt;nextArc;\t\t&#125;\t\tprintf(&quot;\\n&quot;);\t&#125;&#125;void dfs_adjList(AdjList *graph,int index)&#123;\tprintf(&quot;%c &quot;,graph-&gt;vertexNode[index].data);\t\t\t//æ‰“å°å½“å‰èŠ‚ç‚¹ä¿¡æ¯ \tv[index] = true;\t\t\t\t\t\t\t\t\t\t//è®¾ç½®å½“å‰èŠ‚ç‚¹å·²ç»è®¿é—® \tArcNode *node = graph-&gt;vertexNode[index].first;\t\t\t//è·å–ä¸è¯¥ç‚¹ç›¸è¿çš„è¾¹ \twhile(node != NULL)&#123;\t\t\t\t\t\t\t\t\t//å¦‚æœæœ‰è¾¹åˆ™å°†è¾¹ç›¸è¿çš„å¦ä¸€èŠ‚ç‚¹é€’å½’éå† \t\tif(!v[node-&gt;vertexIndex])\t\t\t\t\t\t\t//ä½†æ˜¯ï¼Œä¸è¾¹ç›¸è¿çš„å¦ä¸€èŠ‚ç‚¹è¦æ²¡æœ‰éå†è¿‡æ‰é€’å½’è°ƒç”¨ \t\t\tdfs_adjList(graph,node-&gt;vertexIndex);\t\tnode = node-&gt;nextArc;\t\t\t\t\t\t\t\t//æ›´æ–°å½“å‰èŠ‚ç‚¹çš„è¾¹ \t&#125;&#125;void dfs_edges(MyEdgesGraph *graph,int index)&#123;\tprintf(&quot;%c &quot;,graph-&gt;vexs[index]);\t\t\t\t\t\t//æ‰“å°å½“å‰èŠ‚ç‚¹ä¿¡æ¯ \tv[index] = true;\t\t\t\t\t\t\t\t\t\t//è®¾ç½®å½“å‰èŠ‚ç‚¹å·²ç»è®¿é—® \tfor(int i = 1;i&lt;=graph-&gt;nodeNum;i++)&#123;\t\t\t\t\t//å¾ªç¯éå†çŸ©é˜µ \t\tif(graph-&gt;edges[index][i] != 0 &amp;&amp; !v[i] &amp;&amp; graph-&gt;edges[index][i] != INT_MAX)&#123;//å¦‚æœæœ‰è¾¹åˆ™å°†è¾¹ç›¸è¿çš„å¦ä¸€èŠ‚ç‚¹é€’å½’éå† \t\t\tif(!v[i])\t\t\t\t\t\t\t\t\t\t//ä½†æ˜¯ï¼Œä¸è¾¹ç›¸è¿çš„å¦ä¸€èŠ‚ç‚¹è¦æ²¡æœ‰éå†è¿‡æ‰é€’å½’è°ƒç”¨ \t\t\t\tdfs_edges(graph,i);//é€’å½’ \t\t&#125;\t&#125;&#125;void bfs_adjList(AdjList *graph,int index)&#123;\tint q[MAX],front = 0,rear = 0;\t//å¾ªç¯é˜Ÿåˆ— \tint nowNode,nextNode;\t\t\t//å½“å‰èŠ‚ç‚¹ä¸ä¸‹ä¸€èŠ‚ç‚¹\tq[rear++] = index;\t\t\t\t//å°†indexå…¥é˜Ÿ \tv[index] = true;\t\t\t\t//è®¾ç½®å½“å‰èŠ‚ç‚¹å·²ç»è®¿é—® \twhile(front != rear)&#123;\t\t\t//é˜Ÿåˆ—ä¸ä¸ºç©º (é˜Ÿé¦–ä¸é˜Ÿå°¾æŒ‡é’ˆç›¸åŒæ—¶é˜Ÿåˆ—ä¸ºç©º) \t\t\t\tnowNode = q[front];\t\t\t//å°†é˜Ÿé¦–å‡ºé˜Ÿèµ‹å€¼ç»™å½“å‰èŠ‚ç‚¹ \t\tfront = (front+1) % MAX; \t//å‡ºé˜Ÿåæ›´æ–°é˜Ÿå¤´æŒ‡é’ˆ\t\tprintf(&quot;%c &quot;,graph-&gt;vertexNode[nowNode].data);\t\t//æ‰“å° \t\t\t\tArcNode* arcNode = graph-&gt;vertexNode[nowNode].first;\t\t//å–å‡ºä¸å½“å‰èŠ‚ç‚¹ç›¸è¿çš„ç¬¬ä¸€æ¡è¾¹ \t\twhile(arcNode != NULL)&#123;\t\t\t\t\t//å¦‚æœä¸å­˜åœ¨è¾¹åˆ™æ— èŠ‚ç‚¹å…¥é˜Ÿ \t\t\tnextNode = arcNode-&gt;vertexIndex;\t//ä¸‹ä¸€èŠ‚ç‚¹\t \t\t\tif(!v[nextNode])&#123;\t//å¦‚æœä¸‹ä¸€èŠ‚ç‚¹æ²¡æœ‰è®¿é—® \t\t\t\tv[nextNode] = true;\t\t//æ ‡è®°ä¸‹ä¸€èŠ‚ç‚¹å·²ç»è®¿é—®\t\t\t\tq[rear] = nextNode;\t\t//å…¥é˜Ÿ \t\t\t\trear = (rear+1)%MAX;\t//æ›´æ–°å°¾æŒ‡é’ˆ \t\t\t&#125;\t\t\tarcNode = arcNode-&gt;nextArc;\t//å–å‡ºä¸å½“å‰èŠ‚ç‚¹ç›¸è¿çš„ä¸‹ä¸€æ¡è¾¹\t\t&#125;\t&#125;&#125;void bfs_edges(MyEdgesGraph *graph,int index)&#123;\tint q[MAX],front = 0,rear = 0;\t//å¾ªç¯é˜Ÿåˆ— \tint nowNode,nextNode;\t//å½“å‰èŠ‚ç‚¹ä¸ä¸‹ä¸€èŠ‚ç‚¹ \tq[rear++] = index;\t\t//å°†indexå…¥é˜Ÿ \tv[index] = true;\t//è®¾ç½®å½“å‰èŠ‚ç‚¹å·²ç»è®¿é—® \twhile(rear != front)&#123;\t//å½“é˜Ÿåˆ—ä¸ä¸ºç©º(é˜Ÿé¦–ä¸é˜Ÿå°¾æŒ‡é’ˆç›¸åŒæ—¶é˜Ÿåˆ—ä¸ºç©º) \t\t\t\tnowNode = q[front];\t\t//å°†é˜Ÿé¦–å‡ºé˜Ÿ\t\tfront = (front+1)%MAX;\t//æ›´æ–°é˜Ÿå¤´æŒ‡é’ˆ \t\tprintf(&quot;%c &quot;,graph-&gt;vexs[nowNode]);\t//æ‰“å°èŠ‚ç‚¹ä¿¡æ¯ \t\t\t\tfor(int i = 1;i&lt;=graph-&gt;nodeNum;i++)&#123;\t//å°†ä¸è¯¥èŠ‚ç‚¹æœ‰è¾¹ç›¸è¿çš„èŠ‚ç‚¹å…¥é˜Ÿ \t\t\tif(graph-&gt;edges[nowNode][i] != 0 &amp;&amp; graph-&gt;edges[nowNode][i] != INT_MAX)&#123;\t//æƒé‡ä¸ä¸º0æˆ–è€…ä¸ä¸ºæœ€å¤§å€¼è¡¨æ˜æœ‰è¾¹ \t\t\t\tnextNode = i;\t\t\t\tif(!v[nextNode])&#123;\t\t\t\t//å¦‚æœä¸‹ä¸€èŠ‚ç‚¹æ²¡æœ‰è®¿é—®ï¼Œåˆ™å…¥é˜Ÿ \t\t\t\t\tq[rear] = nextNode;\t\t\t//å…¥é˜Ÿ \t\t\t\t\trear = (rear+1)%MAX;\t\t//æ›´æ–°å°¾æŒ‡é’ˆ \t\t\t\t\tv[nextNode] = true;\t//è®¾ç½®å½“å‰èŠ‚ç‚¹å·²ç»è®¿é—® \t\t\t\t&#125;\t\t\t&#125;\t\t&#125;\t&#125;\t&#125;void menu()&#123;    printf(&quot;\\nå›¾çš„å„ç§æ“ä½œ&quot;);  printf(&quot;\\n========================================&quot;);  printf(&quot;\\n|          1--å»ºç«‹é‚»æ¥çŸ©é˜µ             |&quot;);  printf(&quot;\\n|          2--æ˜¾ç¤ºé‚»æ¥çŸ©é˜µ             |&quot;);  printf(&quot;\\n|          3--å»ºç«‹é‚»æ¥è¡¨               |&quot;);  printf(&quot;\\n|          4--æ˜¾ç¤ºé‚»æ¥è¡¨               |&quot;);  printf(&quot;\\n|          5--å›¾çš„DFS-é‚»æ¥çŸ©é˜µ         |&quot;);  printf(&quot;\\n|          6--å›¾çš„DFS-é‚»æ¥è¡¨           |&quot;);  printf(&quot;\\n|          7--å›¾çš„BFS-é‚»æ¥çŸ©é˜µ         |&quot;);  printf(&quot;\\n|          8--å›¾çš„BFS-é‚»æ¥è¡¨           |&quot;);  printf(&quot;\\n|          0--è¿”å›                     |&quot;);  printf(&quot;\\n========================================&quot;);  printf(&quot;\\nè¯·è¾“å…¥èœå•å·(0-8)ï¼š&quot;);&#125; int main()&#123;\tchar ch1,ch2;\tMyEdgesGraph *edgesGraph = NULL;\tAdjList *adjList = NULL;\tch1=&#x27;y&#x27;;\t\t\twhile(ch1==&#x27;y&#x27;||ch1==&#x27;Y&#x27;)&#123;\t\tmenu();\t\tscanf(&quot;%c&quot;,&amp;ch2);\t\tgetchar();\t\tswitch(ch2)\t\t&#123;\t\t\tcase &#x27;1&#x27;:\t\t\t\t&#123;\t\t\t\t\tedgesGraph = createEdgesGraph();\t\t\t\t\t\t\t\t\t&#125;\t\t\t\tbreak;\t  \t\tcase &#x27;2&#x27;:\t  \t\t\t&#123;\t  \t\t\t\tif(edgesGraph != NULL)\t  \t\t\t\t\tshowEdges(edgesGraph);\t  \t\t\t\telse\t  \t\t\t\t\tprintf(&quot;è¯·å…ˆåˆ›å»ºé‚»æ¥çŸ©é˜µ!&quot;);\t  \t\t\t\t\t\t\t\t&#125;\t\t\t\tbreak;\t\t\tcase &#x27;3&#x27;:\t\t\t\t&#123;\t\t\t\t\tadjList = createAdjList();\t\t\t\t\t\t\t\t\t&#125;\t\t\t\tbreak;\t\t\tcase &#x27;4&#x27;:\t\t\t\t&#123;\t\t\t\t\tif(adjList != NULL)\t  \t\t\t\t\tshowAdjList(adjList);\t  \t\t\t\telse\t  \t\t\t\t\tprintf(&quot;è¯·å…ˆåˆ›å»ºé‚»æ¥è¡¨!&quot;);\t  \t\t\t\t\t\t\t\t\t&#125;\t\t\t\tbreak;\t\t\tcase &#x27;5&#x27;:\t\t\t\t&#123;\t\t\t\t\tif(edgesGraph != NULL)&#123;\t\t\t\t\t\tfor(int i =1;i&lt;=edgesGraph-&gt;nodeNum;i++)&#123;\t\t\t\t\t\t\tif(!v[i]) dfs_edges(edgesGraph,i);\t\t\t\t\t\t&#125; \t\t\t\t\t\t//æœç´¢åå°†è®¿é—®æ•°ç»„æ¢å¤åˆå§‹çŠ¶æ€ï¼Œä¾¿äºä¸‹æ¬¡æœç´¢ \t\t\t\t\t\tfor(int i =1;i&lt;=edgesGraph-&gt;nodeNum;i++)&#123;\t\t\t\t\t\t\tv[i] = false;\t\t\t\t\t\t&#125; \t\t\t\t\t&#125;else\t  \t\t\t\t\tprintf(&quot;è¯·å…ˆåˆ›å»ºé‚»æ¥çŸ©é˜µ!&quot;);\t\t\t\t&#125;\t\t\t\tbreak;\t\t\tcase &#x27;6&#x27;:\t\t\t\t&#123;\t\t\t\t\tif(adjList != NULL)&#123;\t\t\t\t\t\tfor(int i =1;i&lt;=adjList-&gt;nodeNum;i++)&#123;\t\t\t\t\t\t\tif(!v[i]) dfs_adjList(adjList,i);\t\t\t\t\t\t &#125; \t\t\t\t\t\t //æœç´¢åå°†è®¿é—®æ•°ç»„æ¢å¤åˆå§‹çŠ¶æ€ï¼Œä¾¿äºä¸‹æ¬¡æœç´¢ \t\t\t\t\t\tfor(int i =1;i&lt;=adjList-&gt;nodeNum;i++)&#123;\t\t\t\t\t\t\tv[i] = false;\t\t\t\t\t\t&#125; \t\t\t\t\t\t&#125;else\t  \t\t\t\t\tprintf(&quot;è¯·å…ˆåˆ›å»ºé‚»æ¥è¡¨!&quot;);\t\t\t\t&#125;\t\t\t\tbreak;\t\t\tcase &#x27;7&#x27;:\t\t\t\t&#123;\t\t\t\t\tif(edgesGraph != NULL)&#123;\t\t\t\t\t\tfor(int i =1;i&lt;=edgesGraph-&gt;nodeNum;i++)&#123;\t\t\t\t\t\t\tif(!v[i]) bfs_edges(edgesGraph,i);\t\t\t\t\t\t &#125; \t\t\t\t\t\t //æœç´¢åå°†è®¿é—®æ•°ç»„æ¢å¤åˆå§‹çŠ¶æ€ï¼Œä¾¿äºä¸‹æ¬¡æœç´¢ \t\t\t\t\t\tfor(int i =1;i&lt;=edgesGraph-&gt;nodeNum;i++)&#123;\t\t\t\t\t\t\tv[i] = false;\t\t\t\t\t\t&#125; \t\t\t\t\t\t&#125;else\t  \t\t\t\t\tprintf(&quot;è¯·å…ˆåˆ›å»ºé‚»æ¥çŸ©é˜µ!&quot;);\t\t\t\t&#125;\t\t\t\tbreak;\t\t\tcase &#x27;8&#x27;:\t\t\t\t&#123;\t\t\t\t\tif(adjList != NULL)&#123;\t\t\t\t\t\tfor(int i =1;i&lt;=adjList-&gt;nodeNum;i++)&#123;\t\t\t\t\t\t\tif(!v[i]) bfs_adjList(adjList,i);\t\t\t\t\t\t &#125;\t\t\t\t\t\t //æœç´¢åå°†è®¿é—®æ•°ç»„æ¢å¤åˆå§‹çŠ¶æ€ï¼Œä¾¿äºä¸‹æ¬¡æœç´¢  \t\t\t\t\t\tfor(int i =1;i&lt;=adjList-&gt;nodeNum;i++)&#123;\t\t\t\t\t\t\tv[i] = false;\t\t\t\t\t\t&#125; \t\t\t\t\t\t&#125;else\t  \t\t\t\t\tprintf(&quot;è¯·å…ˆåˆ›å»ºé‚»æ¥è¡¨!&quot;);\t\t\t\t&#125;\t\t\t\tbreak;\t\t\tcase &#x27;0&#x27; :\t\t\t\tch1=&#x27;n&#x27;;\t\t\t\tbreak;\t\t\tdefault:\t\t\t\tprintf(&quot;è¾“å…¥æœ‰è¯¯ï¼Œè¯·è¾“å…¥0~8è¿›è¡Œé€‰æ‹©!&quot;);\t\t&#125;\t\tprintf(&quot;\\n&quot;);\t\tsystem(&quot;pause&quot;);\t\t&#125;\treturn 0;&#125;\n\næœªå®Œå¾…ç»­â€¦â€¦ç®—æ³•æœ€çŸ­è·¯å¾„æœ´ç´ ç‰ˆDijkstraç®—æ³•\nå‚è€ƒé¢˜ç›®:acwing-æœ€çŸ­è·¯å¾„\n\n#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;//ç¨ å¯†å›¾ä½¿ç”¨æœ´ç´ ç‰ˆdijkstra,æ—¶é—´å¤æ‚åº¦ä¸ºo(n*n)const int MAX = 510;    //æœ€å¤§èŠ‚ç‚¹æ•°int g[MAX][MAX];        //é‚»æ¥çŸ©é˜µbool v[MAX];            //å·²ç»è®¿é—®äº†çš„åˆ°èµ·ç‚¹çš„è·ç¦»æœ€çŸ­çš„ç‚¹int pre[MAX];           //å¹¶æŸ¥é›†,ç”¨äºè®°å½•æœ€çŸ­è·¯å¾„int dijkstra(int n,int m)&#123;    int dist[MAX];  //å­˜å‚¨æ¯ä¸ªç‚¹åˆ°èµ·ç‚¹çš„æœ€çŸ­è·ç¦»    for(int i = 0;i&lt;=n;i++)&#123;        pre[i] = i; //åˆå§‹åŒ–æ¯ä¸ªç‚¹éƒ½ä»¥è‡ªå·±ä¸ºä¸€ä¸ªé›†åˆ    &#125;    memset(dist,0x3f,sizeof dist);  //åˆå§‹åŒ–è®¾ä¸ºæ— ç©·å¤§    dist[1] = 0;                    //æœ¬é¢˜èµ·ç‚¹æ˜¯1,èµ·ç‚¹åˆ°èµ·ç‚¹çš„è·ç¦»è®¾ä¸º0    //1å·èŠ‚ç‚¹å¯¹distè¿›è¡Œæ›´æ–°ä¼šå¯¼è‡´ä¸€ç›´ä¸ºæ— ç©·å¤§    for(int i = 0;i&lt;n;i++)&#123; //æœ€å¤šnæ¬¡è¿­ä»£        int k = -1; //è¿˜æœªæ‰¾åˆ°æœ€å°å€¼æ—¶kä¸º-1        for(int j = 1;j&lt;= n;j++)&#123;   //éå†distæ•°ç»„ï¼Œæ‰¾åˆ°è·ç¦»èµ·ç‚¹çš„æœ€å°è·ç¦»ï¼Œèµ‹å€¼ç»™k            if(!v[j] &amp;&amp; (k == -1 || dist[j] &lt; dist[k])) //å½“ç„¶ï¼Œå¦‚æœè¯¥ç‚¹å·²ç»æ±‚å¾—åˆ°åŸç‚¹çš„è·ç¦»æœ€å°åˆ™ä¸ç”¨åœ¨æ¯”è¾ƒ                k = j;        &#125;                v[k] = true;    //å°†åˆ°èµ·ç‚¹çš„è·ç¦»æœ€å°çš„ç‚¹æ ‡è®°        if(k == n) break;   //å¦‚æœè¯¥ç‚¹æ­£å¥½æ˜¯è¦æ±‚çš„ç»ˆç‚¹åˆ™ç›´æ¥é€€å‡ºè¿­ä»£                for(int j = 1;j&lt;=n;j++)&#123;    //æ›´æ–°distæ•°ç»„            if(!v[j]&amp;&amp;dist[j] &gt; dist[k] + g[k][j])&#123;  //å¦‚æœè¯¥ç‚¹è¿˜æœªè¢«æ ‡è®°ï¼Œä¸”ä»åŸç‚¹åˆ°kåŠ ä¸Škåˆ°è¯¥ç‚¹jçš„è·ç¦»ï¼Œæ¯”æ›¾ç»åŸç‚¹åˆ°jè·ç¦»æ›´è¿‘ï¼Œåˆ™æ›´æ–°åŸç‚¹åˆ°è¯¥ç‚¹çš„è·ç¦»                dist[j] = dist[k] + g[k][j];                pre[j] = k;     //æ›´æ–°è¯¥èŠ‚ç‚¹ä»èµ·å§‹ä½ç½®ç»è¿‡kåˆ°è¾¾jè·ç¦»æœ€è¿‘ï¼Œä¹Ÿå°±æ˜¯è¯´jèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸ºk            &#125;        &#125;    &#125;        if(dist[n] == 0x3f3f3f3f) return -1;    //å¦‚æœèµ·ç‚¹åˆ°ç»ˆç‚¹æœ€çŸ­è·ç¦»ä¸ºæ— ç©·å¤§åˆ™è¡¨æ˜å›¾æœªè”é€š    int hh = n; //ä»ç»ˆç‚¹å¼€å§‹é€†æ¨åˆ°èµ·ç‚¹    while(hh != pre[hh])&#123;   //èµ·ç‚¹æ»¡è¶³è‡ªå·±çš„ä¸Šä¸€èŠ‚ç‚¹æ˜¯è‡ªå·±        printf(&quot;%d-&gt;&quot;,hh);   //æ‰“å°è¯¥èŠ‚ç‚¹        hh = pre[hh];       //ç»§ç»­æŸ¥æ‰¾è‡ªå·±çš„ä¸Šä¸€èŠ‚ç‚¹æ˜¯ä¸æ˜¯èµ·ç‚¹    &#125;    printf(&quot;1&quot;);    return dist[n];&#125;int main()&#123;    int n,m;    scanf(&quot;%d %d&quot;,&amp;n,&amp;m);        memset(g,0x3f,sizeof g);        for(int i = 0;i&lt;m;i++)&#123;        int u,v,w;        scanf(&quot;%d %d %d&quot;,&amp;u,&amp;v,&amp;w);        g[u][v] = min(g[u][v],w);    &#125;    int res = dijkstra(n,m);    printf(&quot;\\n%d&quot;,res);    return 0;&#125;\n\nå †ä¼˜åŒ–ç‰ˆDijkstraç®—æ³•\nå‚è€ƒé¢˜ç›®ï¼šDijkstraæ±‚æœ€çŸ­è·¯ II\n\n#include &lt;iostream&gt;#include &lt;cstring&gt;#include &lt;queue&gt;using namespace std;typedef pair&lt;int,int&gt; PII;  //(ç¦»èµ·å§‹ç‚¹æœ€çŸ­è·ç¦»ï¼ŒèŠ‚ç‚¹ç¼–å·)const int MAX = 200005;//æ•°ç»„æ¨¡æ‹Ÿé‚»æ¥è¡¨ï¼Œhead[]æ•°ç»„æ˜¯é“¾è¡¨å¤´ï¼Œe[]æ•°ç»„å­˜å‚¨çš„æ˜¯èŠ‚ç‚¹ç¼–å·ï¼Œne[]æ•°ç»„å­˜å‚¨çš„æ˜¯ä¸‹ä¸€èŠ‚ç‚¹æŒ‡é’ˆ//idxå¼€è¾Ÿæ–°ç©ºé—´æŒ‡é’ˆï¼Œw[]æ•°ç»„å­˜å‚¨çš„æ˜¯è¯¥èŠ‚ç‚¹çš„æƒé‡int head[MAX],e[MAX],w[MAX],ne[MAX],idx;bool v[MAX];    //è®°å½•èŠ‚ç‚¹æ˜¯å¦è¢«é€‰å‡ºvoid init(int n)&#123;    //é‚»æ¥è¡¨åˆå§‹åŒ–    for(int i = 0;i&lt;=n;i++) head[i] = -1;   //å°†æ¯ä¸ªèŠ‚ç‚¹è¡¨å¤´è®¾ä¸º-1    idx = 0;&#125;//æ’å…¥è¾¹å…³ç³» a-&gt;b,cä¸ºæƒé‡void insert_head(int a,int b,int c)&#123;    e[idx] = b; //å­˜å‚¨ä¸head[a]ç›¸è¿è¾¹çš„èŠ‚ç‚¹ç¼–å·    w[idx] = c; //å­˜å‚¨è¾¹æƒé‡    ne[idx] = head[a];  //å¤´æ’æ³•    head[a] = idx;    idx++;  //æŒ‡é’ˆåŠ 1&#125;int dijkstra(int n,int m)&#123;    int dist[MAX];  //å­˜å‚¨å„èŠ‚ç‚¹åˆ°èµ·ç‚¹çš„è·ç¦»    memset(dist,0x3f,sizeof dist);  //åˆå§‹åŒ–è·ç¦»ä¸ºæ— ç©·å¤§    dist[1] = 0;    //èµ·ç‚¹åˆ°èµ·ç‚¹è·ç¦»ä¸º1    priority_queue&lt;PII,vector&lt;PII&gt;,greater&lt;PII&gt;&gt; q; //ä¼˜å…ˆé˜Ÿåˆ—ï¼ŒæŒ‰ç…§å‡åºæ’åº    q.push(&#123;0,1&#125;);  //å°†èŠ‚ç‚¹1å…¥é˜Ÿ    while(q.size())&#123;        //åªè¦é˜Ÿä¸ä¸ºç©ºåˆ™è¿›è¡Œå¾ªç¯        PII x = q.top();    //å–å‡ºé˜Ÿé¦–å…ƒç´ ï¼Œå–å‡ºçš„å…ƒç´ æ€»æ˜¯åˆ°åŸç‚¹çš„æœ€å°è·ç¦»ï¼Œè¿™æ­¥éª¤å°±æ˜¯æœ´ç´ ç‰ˆçš„æŸ¥è¯¢dist[]æ•°ç»„çš„æœ€å°å€¼        q.pop();            //å°†å…¶å‡ºé˜Ÿ        int now = x.second,weight = x.first;    //nowè¡¨ç¤ºç°åœ¨è¿™ä¸ªèŠ‚ç‚¹çš„ç¼–å·ï¼Œweightè¡¨ç¤ºæƒé‡        if(v[now]) continue;    //å¦‚æœè¯¥è¾¹å·²ç»è¢«é€‰ä¸­äº†ï¼Œåˆ™continue        v[now] = true;          //åä¹‹å°†è¯¥èŠ‚ç‚¹æ ‡è®°ä¸ºå·²ç»é€‰ä¸­                //ç”¨é€‰ä¸­çš„èŠ‚ç‚¹æ›´æ–°dist[]æ•°ç»„        for(int i = head[now];i!=-1;i = ne[i])&#123;//é“¾è¡¨æŸ¥è¯¢ï¼ŒæŸ¥è¯¢ä¸è¢«é€‰ä¸­èŠ‚ç‚¹è¿é€šçš„èŠ‚ç‚¹ï¼Œæ›´æ–°å…¶åˆ°èµ·ç‚¹çš„æœ€çŸ­è·ç¦»            int node = e[i];    //ä¸è¢«é€‰èŠ‚ç‚¹ç›¸è¿æ¥çš„èŠ‚ç‚¹ç¼–å·            if(!v[node] &amp;&amp; dist[node] &gt; weight+w[i])&#123;   //å¦‚æœè¯¥èŠ‚ç‚¹æœªé€‰ä¸­è¿‡ä¸”åŸæ¥åˆ°åŸç‚¹çš„è·ç¦»æ¯”é€šè¿‡è¢«é€‰èŠ‚ç‚¹åˆ°åŸç‚¹è·ç¦»è¿œåˆ™æ›´æ–°è·ç¦»                dist[node] = w[i] + weight;                q.push(&#123;dist[node],node&#125;);  //æ›´æ–°åå…¥é˜Ÿ            &#125;        &#125;    &#125;    if(dist[n] == 0x3f3f3f3f) return -1;    //å¦‚æœè·ç¦»å‡ºç°æ— ç©·å¤§è¯´æ˜å›¾æœªè”é€š    return dist[n];    &#125;int main()&#123;    int n,m;    scanf(&quot;%d %d&quot;,&amp;n,&amp;m);    init(n);    for(int i = 0;i&lt;m;i++)&#123;        int x,y,z;        scanf(&quot;%d %d %d&quot;,&amp;x,&amp;y,&amp;z);        insert_head(x,y,z);    &#125;    int ans = dijkstra(n,m);    printf(&quot;%d&quot;,ans);    return 0;  &#125;\n\næœ€å°ç”Ÿæˆæ ‘primç®—æ³•\nå‚è€ƒé¢˜ç›®:acwing-æœ€å°ç”Ÿæˆæ ‘\n\n#include &lt;iostream&gt;#include &lt;limits.h&gt;using namespace std;const int MAX = 510;\t//é‚»æ¥çŸ©é˜µèŠ‚ç‚¹æ•°æœ€å¤§å€¼ int graph[MAX][MAX];\t//é‚»æ¥çŸ©é˜µ //primç®—æ³•ï¼Œè·å–æœ€å°ç”Ÿæˆæ ‘ä¸å…¶æƒé‡å’Œ int prim(int nodes,int edges)&#123;\tint pre[MAX],dist[MAX],ans = 0;\t//preæ•°ç»„è®°å½•æœ€å°ç”Ÿæˆæ ‘çš„è¿æ¥å…³ç³»pre[3] = 2,è¡¨ç¤ºåˆ°èŠ‚ç‚¹3çš„æœ€çŸ­è·ç¦»æ˜¯èŠ‚ç‚¹2\t\t\t\t\t\t\t//distæ•°ç»„ä»£è¡¨è·ç¦»å·²ç»æ·»åŠ åˆ°æœ€å°ç”Ÿæˆæ ‘çš„èŠ‚ç‚¹é›†åˆçš„æœ€å°è·ç¦» \tbool v[MAX];\t\t\t//è®°å½•å·²ç»æ·»åŠ è¿›æœ€å°ç”Ÿæˆæ ‘é›†åˆçš„å…ƒç´ \tfor(int i = 1;i&lt;=nodes;i++)&#123;\t\tdist[i] = INT_MAX;\t//åˆå§‹åŒ–è·ç¦»æ•°ç»„ä¸ºæœ€å¤§å€¼ \t\tpre[i] = -1;\t\tv[i] = false;\t&#125; \tfor(int i = 0;i&lt;nodes;i++)&#123;\t//æœ€å°ç”Ÿæˆæ ‘è¿æ¥äº†æ‰€æœ‰èŠ‚ç‚¹ï¼Œæ‰€ä»¥æ˜¯nodesæ¬¡è¿­ä»£ï¼Œæ¯æ¬¡è¿æ¥ä¸€ä¸ªèŠ‚ç‚¹ \t\tint min = -1;\t\t//ç”¨äºè®°å½•distæ•°ç»„çš„æœ€å°å€¼ \t\tfor(int j = 1;j&lt;=nodes;j++)&#123;\t//æšä¸¾æ¯ä¸€ä¸ªæ²¡æœ‰è¢«åŠ å…¥æœ€å°ç”Ÿæˆæ ‘çš„èŠ‚ç‚¹ï¼Œæ‰¾å‡ºdistæ•°ç»„ä¸­è·ç¦»æœ€å°ç”Ÿæˆæ ‘é›†åˆæœ€è¿‘çš„èŠ‚ç‚¹ \t\t\tif(!v[j] &amp;&amp; (min == -1 || dist[j] &lt; dist[min]))&#123;\t//è¿™é‡Œå¦‚æœmin == -1 è¡¨ç¤ºç¬¬ä¸€æ¬¡å¯»æ‰¾ï¼Œç‰¹æ®Šå¤„ç†ä¸€ä¸‹ \t\t\t\tmin = j;\t\t\t&#125;\t\t&#125;\t\tif(i &amp;&amp; dist[min] == INT_MAX) return INT_MAX;\t//é™¤äº†ç¬¬ä¸€æ¬¡èŠ‚ç‚¹é€‰æ‹©ä¼šå‡ºç°åˆ°æœ€å°ç”Ÿæˆæ ‘é›†åˆæœ€å°è·ç¦»ä¸ºæ— ç©·å¤§æƒ…å†µï¼Œå¦‚æœå…¶ä»–æ—¶å€™å‡ºç°äº†è¡¨æ˜ï¼Œè¯¥å›¾æœªè”é€š        \t\tv[min] = true;\t//æ‰¾åˆ°æœ€å°å€¼åï¼Œå°†å…¶åŠ å…¥æœ€å°ç”Ÿæˆæ ‘é›†åˆ \t\tif(i) ans+=dist[min];\t//åŠ ä¸Šæƒé‡,æ’é™¤ç¬¬ä¸€æ¬¡é€‰æ‹©èŠ‚ç‚¹æ—¶ï¼Œç”±äºåˆå§‹åŒ–çš„distä¸ºæ— ç©·å¤§ \t\t//ä¹‹åæ›´æ–°distæ•°ç»„,å› ä¸ºæœ€å°ç”Ÿæˆæ ‘é›†åˆæ–°åŠ äº†å…ƒç´ ï¼Œæ‰€ä»¥æ›´æ–°ä¸‹distæ•°ç»„(å„èŠ‚ç‚¹åˆ°æœ€å°ç”Ÿæˆæ ‘é›†åˆçš„è·ç¦»æœ€å°å€¼) \t\tfor(int j = 1;j&lt;=nodes;j++)&#123;\t\t\tif(!v[j] &amp;&amp; dist[j]&gt;graph[j][min])&#123;\t\t\t\tdist[j] = graph[j][min];\t\t\t\tpre[j] = min;\t\t\t&#125; \t\t&#125;  \t&#125;\tfor(int i = 1;i&lt;=nodes;i++) printf(&quot;%d-&gt;%d &quot;,pre[i],i);\treturn ans;&#125;int main()&#123;\tint nodes,edges; //èŠ‚ç‚¹æ€»æ•°ï¼Œè¾¹æ•°\tint u,v,w;\t\t//èŠ‚ç‚¹ç¼–å·u,v æƒé‡w \tscanf(&quot;%d %d&quot;,&amp;nodes,&amp;edges);\t//è·å–åˆ°èŠ‚ç‚¹æ•°ä¸è¾¹æ•° \tfor(int i = 0;i&lt;=nodes;i++)&#123;\t//åˆå§‹åŒ–é‚»æ¥çŸ©é˜µ \t\tfor(int j = 0;j&lt;=nodes;j++)&#123;\t\t\tif(i == j) graph[i][j] = 0; \t\t\telse graph[i][j] = INT_MAX;\t\t&#125;\t&#125;\tfor(int i = 1;i&lt;=edges;i++)&#123;\t    scanf(&quot;%d %d %d&quot;,&amp;u,&amp;v,&amp;w);\t//è¯»å–è¾¹ä¿¡æ¯ \t    graph[u][v] = graph[v][u] = graph[u][v]&gt;w?w:graph[u][v];\t&#125; \tint res = prim(nodes,edges);\tif(res != INT_MAX) printf(&quot;%d&quot;,res);\telse printf(&quot;impossible&quot;);\treturn 0;&#125;\n\nkruskalç®—æ³•\nå‚è€ƒé¢˜ç›®:Kruskalç®—æ³•æ±‚æœ€å°ç”Ÿæˆæ ‘\n\n#include &lt;iostream&gt;using namespace std;const int MAX = 100005;//ç»“æ„ä½“ç”¨äºå­˜å‚¨è¾¹ typedef struct&#123;\tint a,b,w;\t//ç«¯ç‚¹a,b,æƒé‡w &#125;Edge;int p[MAX];\t//å¹¶æŸ¥é›†æ•°ç»„ï¼Œå¹¶æŸ¥é›†æ•°æ®ç»“æ„å¯ä»¥å¿«é€Ÿçš„åˆå¹¶é›†åˆï¼ŒæŸ¥è¯¢æŸå…ƒç´ å±äºå“ªä¸ªé›†åˆç­‰æ“ä½œ void quick_sort(Edge q[],int l,int r)&#123;  //ç”¨å¿«é€Ÿæ’åºç®—æ³•ï¼Œæ–‡ä¸­æœ‰å…·ä½“ç®—æ³•è§£é‡Šï¼Œä¹Ÿå¯ä»¥ç”¨åº“å‡½æ•°ä¸­çš„sort()\tif(l&gt;=r) return;\tint i = l-1,j = r+1;\tEdge x = q[l+r&gt;&gt;1];\twhile(i&lt;j)&#123;\t\tdo i++; while(q[i].w &lt; x.w);\t\tdo j--; while(q[j].w &gt; x.w);\t\tif(i&lt;j) swap(q[i],q[j]);\t&#125;\tquick_sort(q,l,j);\tquick_sort(q,j+1,r);&#125;int find(int x)&#123;    //æŸ¥è¯¢æŸä¸€å…ƒç´ è¾“å…¥å“ªä¸ªé›†åˆ(æŸ¥è¯¢æ ¹èŠ‚ç‚¹),å¹¶è¿›è¡Œè·¯å¾„å‹ç¼©\tif(p[x] != x) p[x] = find(p[x]);    //å¦‚æœæŸå…ƒç´ xçš„çˆ¶èŠ‚ç‚¹ä¸æ˜¯è‡ªå·±ï¼Œåˆ™æŸ¥è¯¢å…¶çˆ¶äº²èŠ‚ç‚¹æ˜¯å¦æ˜¯æ ¹èŠ‚ç‚¹\treturn p[x];    //å¦‚æœæ˜¯ï¼Œè¿”å›çˆ¶äº²èŠ‚ç‚¹ï¼Œå¹¶èµ‹å€¼ç»™å­èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´å°†æ‰€æœ‰å­èŠ‚ç‚¹çš„çˆ¶äº²éƒ½è®¾ä¸ºæ ¹èŠ‚ç‚¹ï¼Œè¿™æ ·æœ‰åˆ©äºä»¥åæŸ¥è¯¢&#125;int kruskal(Edge edges[],int nodes,int m)&#123;\tquick_sort(edges,0,m-1);        //å…ˆå¯¹è¾¹è¿›è¡Œæ’åº\tint res = 0,cnt = 0;\tfor(int i = 0;i&lt;m;i++)&#123;         //åªè¦ä¸¤èŠ‚ç‚¹æ²¡æœ‰è¿æ¥ï¼Œåˆ™è¿›è¡Œè¿æ¥\t\tint a = edges[i].a,b = edges[i].b,w = edges[i].w;\t\ta = find(a),b = find(b);    //æŸ¥è¯¢ä¸¤èŠ‚ç‚¹å±äºå“ªä¸ªé›†åˆ\t\tif(a != b)&#123;                 //å¦‚æœä¸å±äºåŒé›†åˆï¼Œè¡¨æ˜ä¸¤ç‚¹æœªè¿æ¥\t\t\tp[a] = b;               //æ›´æ–°æŸèŠ‚ç‚¹çš„çˆ¶äº²ï¼Œä¹Ÿå°±æ˜¯åˆå¹¶ä¸¤é›†åˆ\t\t\tres+=w;                 //æ›´æ–°æƒé‡\t\t\tcnt++;                  //è¿æ¥çš„èŠ‚ç‚¹æ•°åŠ 1\t\t&#125;\t&#125;\tif(cnt &lt; nodes-1) return 0x3f;  //å¦‚æœå›¾æ˜¯è¿é€šçš„é‚£ä¹ˆå…¶è¿æ¥çš„èŠ‚ç‚¹æ•°ä¸€å®šæ˜¯n-1(ç”±äºè®¡æ•°æ˜¯ä»0å¼€å§‹ï¼Œæ¯æ¬¡è¿æ¥çš„æ˜¯ä¸¤èŠ‚ç‚¹ï¼Œå½“ç¬¬ä¸€æ¬¡è¿æ¥çš„æ—¶å€™cntåªç´¯åŠ äº†ä¸€æ¬¡)\treturn res;&#125;int main()&#123;\tint nodes,m;\t//èŠ‚ç‚¹æ•°å’Œè¾¹æ•° \tEdge edges[2 * MAX];\t//å­˜å‚¨è¾¹çš„æ•°ç»„ \tscanf(&quot;%d %d&quot;,&amp;nodes,&amp;m);\tfor(int i = 1;i&lt;=nodes;i++) p[i] = i;\t//åˆå§‹åŒ–å¹¶æŸ¥é›†æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªé›†åˆ\tfor(int i = 0;i&lt;m;i++)&#123;\t\tint a,b,w;\t\tscanf(&quot;%d %d %d&quot;,&amp;a,&amp;b,&amp;w);\t\tedges[i] = &#123;a,b,w&#125;;\t\t\t\t\t//è¯»å…¥è¾¹ä¿¡æ¯ \t&#125; \tint res = kruskal(edges,nodes,m);\tif(res == 0x3f) printf(&quot;impossible&quot;);   //å›¾æœªè”é€š\telse printf(&quot;%d&quot;,res);                  \treturn 0;&#125;\n\næ’åºæ’å…¥æ’åº#include &lt;iostream&gt;using namespace std;int num[100];//æ’å…¥æ’åº//åŒºé—´0-nå¯åˆ†ä¸ºä¸¤ä¸ªåŒºé—´ï¼Œ0 - aä¸ºå·²ç»æ’åºåçš„åŒºé—´ï¼Œa+1 - nä¸ºæœªæ’åºåŒºé—´//ç®—æ³•æ€è·¯ï¼š//ä¸¤ä¸ªæŒ‡é’ˆï¼ŒæŒ‡é’ˆiæŒ‡å‘æœªæ’åºåŒºé—´ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºå¾…æ’å…¥å…ƒç´ ï¼ŒæŒ‡é’ˆjæŒ‡å‘æ’åºååŒºé—´çš„æœ€åä¸€ä¸ªå…ƒç´  //å…ˆå°†iæŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ å–å‡ºå­˜å‚¨åˆ°tempä¸­ï¼Œéšåtempä¸æ’åºçš„åŒºé—´è¿›è¡Œæ¯”è¾ƒï¼Œä»jæŒ‡å‘çš„å…ƒç´ å¼€å§‹æŸ¥æ‰¾åˆ°ä»–æœ¬è¯¥åœ¨çš„ä½ç½®//å³tempä¸num[j]è¿›è¡Œæ¯”è¾ƒ ï¼š//\t1.(å‡åº)å¦‚æœtempå¤§äºç­‰äºjæŒ‡å®šçš„å…ƒç´ é‚£ä¹ˆå¾…æ’å…¥å…ƒç´ çš„ä½ç½®å°±åœ¨å½“å‰ä½ç½® //  2.å°äºï¼Œåˆ™è¡¨æ˜åœ¨jæŒ‡å‘çš„å‰æ–¹ï¼Œæ‰€ä»¥æŠŠjå…ƒç´ ç§»åŠ¨åˆ°j+1ä½ç½®ï¼Œä¸ºæ’å…¥tempè…¾å‡ºä½ç½®ï¼Œéšåj--,ç»§ç»­è¿›è¡Œæ¯”è¾ƒç›´åˆ°æ‰¾åˆ°åˆé€‚çš„ä½ç½® int main()&#123;\tint n;\tcin&gt;&gt;n;\tfor(int i = 0;i&lt;n;i++) cin&gt;&gt;num[i];\tfor(int i = 1;i&lt;n;i++)&#123;\t\t//ä»å…ˆå°†å¾…æ’å…¥å…ƒç´ å–å‡ºï¼Œå­˜åˆ°tempä¸­\t\t//å®šä¹‰jæŒ‡é’ˆï¼ŒæŒ‡å‘æ’åºååŒºé—´çš„æœ€åä¸€ä¸ªå…ƒç´ \t\tint temp = num[i],j = i-1;\t\t//å¾ªç¯åˆ¤æ–­å¾…æ’å…¥å…ƒç´ ä¸jæŒ‡å‘çš„å…ƒç´ çš„å¤§å°å…³ç³» \t\twhile(j &gt;= 0 &amp;&amp; temp&lt;num[j])&#123;\t\t\t//å¦‚æœå°äºåˆ™ä½ç½®åœ¨jä¹‹å‰ï¼Œå…ˆå°†jæŒ‡å‘çš„å…ƒç´ ç§»å‘j+1ä¸ºtempè…¾ä½ç½® \t\t\tnum[j+1] = num[j];\t\t\tj--;\t//æŒ‡é’ˆå‡ä¸€ï¼Œç»§ç»­åˆ¤æ–­ \t\t&#125;\t\tnum[j+1] = temp;\t//æŸ¥è¯¢åˆ°äº†åˆé€‚ä½ç½®åï¼Œæ’å…¥åˆ°jå…ƒç´ åæ–¹ \t&#125;\tfor(int i = 0;i&lt;n;i++) cout&lt;&lt;num[i]&lt;&lt;&quot; &quot;;&#125;\n\nå¿«é€Ÿæ’åº\nå‚è€ƒé¢˜ç›®ï¼šå¿«é€Ÿæ’åº\n\n#include &lt;iostream&gt;using namespace std;const int MAX = 100005;int num[MAX];void quick_sort(int q[],int l,int r)&#123;    if(l&gt;=r) return;        //é€’å½’ç»“æŸæ¡ä»¶    //å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆi,j     int i = l-1,j = r+1,k = q[l+r&gt;&gt;1];  //kå¯å–ä»»æ„å€¼,ä½†æ˜¯è¯¥æ¨¡æ¿å–ä¸­é—´å€¼æœ€å¿«      while(i&lt;j)&#123;        //å·¦æŒ‡é’ˆå…ˆå¾ªç¯æŸ¥æ‰¾åˆ°å¤§äºkçš„å€¼,éšåå³æŒ‡é’ˆå¾ªç¯æŸ¥æ‰¾åˆ°å°äºkçš„å€¼        do&#123;            i++;        &#125;while(q[i]&lt;k);        do&#123;            j--;        &#125;while(q[j]&gt;k);        //å¦‚æœå·¦æŒ‡é’ˆå°äºå³æŒ‡é’ˆåˆ™å°†å·¦æŒ‡é’ˆä¸å³æŒ‡é’ˆçš„å†…å®¹è¿›è¡Œäº¤æ¢        if(i&lt;j) swap(q[i],q[j]);    &#125;        quick_sort(q,l,j);  //é€’å½’å¤„ç†æ•°ç»„å·¦è¾¹    quick_sort(q,j+1,r);    //é€’å½’å¤„ç†æ•°ç»„å³è¾¹&#125;int main()&#123;    int n;    scanf(&quot;%d&quot;,&amp;n);    for(int i = 0;i&lt;n;i++) scanf(&quot;%d&quot;,&amp;num[i]);    quick_sort(num,0,n-1);    for(int i = 0;i&lt;n;i++) printf(&quot;%d &quot;,num[i]);&#125;\n\nå½’å¹¶æ’åº\nå‚è€ƒé¢˜ç›®:å½’å¹¶æ’åº\n\n#include &lt;iostream&gt;using namespace std;const int MAX = 100005;int m[MAX],temp[MAX];void merge_sort(int p[],int l,int r)&#123;    if(l&gt;=r) return;    //å¦‚æœæ²¡æœ‰å…ƒç´ å¯ä»¥æ’åºåˆ™ç›´æ¥return    int mid = l+r&gt;&gt;1;   //å°†æ•°ç»„ä¸€åˆ†ä¸ºäºŒ    merge_sort(p,l,mid);    //å·¦è¾¹æ•°ç»„è¿›è¡Œæ’åº    merge_sort(p,mid+1,r);  //å³è¾¹æ•°ç»„è¿›è¡Œæ’åº    //å°†å·²ç»æ’å¥½åºçš„å·¦å³æ•°ç»„å½’å¹¶    int i = l,j = mid+1,k = 0;  //iæŒ‡å‘å·¦è¾¹ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ŒjæŒ‡å‘å³è¾¹ç¬¬ä¸€ä¸ªå…ƒç´     while(i&lt;=mid &amp;&amp; j&lt;=r)&#123;          //å¦‚æœå·¦è¾¹å…ƒç´ å°äºç­‰äºå³è¾¹å…ƒç´ ï¼Œåˆ™å°†å…¶æ”¾å…¥ä¸´æ—¶æ•°ç»„ï¼Œå·¦æŒ‡é’ˆåŠ 1ï¼Œåä¹‹        if(p[i]&lt;=p[j]) temp[k++] = p[i++];        else temp[k++] = p[j++];    &#125;    //å¦‚æœå·¦æˆ–è€…å³æŒ‡é’ˆè¿˜æœ‰å…ƒç´ æœªå­˜åˆ°ä¸´æ—¶æ•°ç»„ä¸­ï¼Œåˆ™å°†å…¶ç›´æ¥æ”¾åœ¨ä¸´æ—¶æ•°ç»„ä¸­    while(i&lt;=mid) temp[k++] = p[i++];    while(j&lt;=r) temp[k++] = p[j++];    //æœ€åå°†ä¸´æ—¶æ•°ç»„çš„å€¼æ”¾å›åŸæ•°ç»„    for(i = l,j = 0; i &lt;= r;i++,j++) p[i] = temp[j];&#125;int main()&#123;    int n;    scanf(&quot;%d&quot;,&amp;n);    for(int i = 0;i&lt;n;i++) scanf(&quot;%d&quot;,&amp;m[i]);    merge_sort(m,0,n-1);    for(int i = 0;i&lt;n;i++) printf(&quot;%d &quot;,m[i]);    return 0;&#125;\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•"],"tags":["c","æ•°æ®ç»“æ„ä¸ç®—æ³•","æ ˆ","é¡ºåºè¡¨","é“¾è¡¨","é˜Ÿåˆ—","æ ‘","ä¸²"]},{"title":"é‡åº†é‚®ç”µå¤§å­¦è€ƒç ”ç»éªŒ","url":"/2024/04/e227d6720297.html","content":"å„ç§‘å¤ä¹ è§„åˆ’æ•°å­¦æ•°å­¦è¿™ä¸€é—¨å­¦ç§‘ç‰¹åˆ«é‡è¦ï¼Œä¸€é“é€‰æ‹©é¢˜ç­‰äºäº”ä¸ªè‹±è¯­å®Œå½¢å¡«ç©ºã€‚å¹¶ä¸”æ•°å­¦çš„åŒºåˆ†åº¦å¾ˆé«˜ã€‚\næ€»ä½“æ—¶é—´å®‰æ’\næ— è®ºæ˜¯ä¸€è½®å¤ä¹ ã€äºŒè½®å¤ä¹ ã€ä¸‰è½®å¤ä¹ ï¼Œéƒ½æ˜¯é›·æ‰“ä¸åŠ¨ä¸€æ—©ä¸Šå­¦ä¹ æ—¶é—´ï¼Œè‹±è¯­å¥½çš„åŒå­¦ç”šè‡³å¯ä»¥ç‰ºç‰²ä¸€éƒ¨åˆ†è‹±è¯­æ—¶é—´å»ææ•°å­¦ã€‚  \né˜¶æ®µ\nç¬¬ä¸€é˜¶æ®µï¼ˆ ç°åœ¨ - 7 æœˆ ä¸­æ—¬ï¼‰ï¼šå®Œæˆæ•°å­¦åŸºç¡€å­¦ä¹ ï¼Œæ•°å­¦åŸºç¡€å¾ˆé‡è¦ã€‚å»ºè®®å½¢æˆè‡ªå·±çš„çŸ¥è¯†ä½“ç³»ï¼ŒæŒ‰ç…§çœ‹è¯¾ - æ€»ç»“ - å†™é¢˜ - åæ€ - æ€»ç»“ã€‚  \nç¬¬äºŒé˜¶æ®µï¼ˆ 7 æœˆ ä¸­æ—¬ - 10æœˆä¸­æ—¬ ï¼‰ï¼š å®Œæˆæ•°å­¦å¼ºåŒ–å­¦ä¹ ï¼Œå†™å¼ºåŒ–ä¹ é¢˜ï¼Œç»§ç»­å®Œå–„è‡ªå·±çš„çŸ¥è¯†ä½“ç³»ï¼ŒæŒ‰ç…§çœ‹è¯¾ - æ€»ç»“ - å†™é¢˜ - åæ€ - æ€»ç»“ã€‚  \nçœŸé¢˜é˜¶æ®µï¼ˆ 10 æœˆä¸­æ—¬ - 11 æœˆä¸­æ—¬ ï¼‰ï¼š å®ŒæˆçœŸé¢˜ï¼Œç ”ç©¶æ¯é“é¢˜çš„è€ƒç‚¹ï¼Œåœ¨è‡ªå·±æ€»ç»“çš„çŸ¥è¯†ä½“ç³»ä¸Šå»æ‰¾ï¼Œè¿™é“é¢˜è€ƒå¯Ÿçš„ä»€ä¹ˆç‚¹ï¼Œè‡ªå·±å“ªé‡Œæ²¡æœ‰æƒ³åˆ°ã€‚  \næ¨¡æ‹Ÿé¢˜é˜¶æ®µï¼ˆ 11 æœˆä¸­æ—¬ - è€ƒå‰ ï¼‰ï¼š  å†™æ¨¡æ‹Ÿå·æ ¹æ®åšçš„æƒ…å†µæŸ¥æ¼è¡¥ç¼ºã€‚  \nè¯¾ç¨‹å’Œè€å¸ˆæ¨è\nå¼ å®‡è€å¸ˆçš„è¯¾å¹½é»˜é£è¶£ï¼Œè®²è§£çš„çŸ¥è¯†ç‚¹é€šä¿—æ˜“æ‡‚ï¼Œæ€»ç»“çš„ç»“è®ºä¹Ÿå¾ˆå®ç”¨ã€‚  \nä¸ªäººå»ºè®®\nå¹³æ—¶æ³¨æ„ç»†èŠ‚ï¼Œæ¯ä¸€ä¸ªçŸ¥è¯†ç‚¹éƒ½è¦ææ‡‚ï¼Œå†™é¢˜æ—¶çš„æ¨¡ç³Šç‚¹ä¸€å®šè¦å¼„æ‡‚ï¼Œç„¶åæ€»ç»“åˆ°è‡ªå·±çš„ç¬”è®°ä¸Šï¼ˆå½¢æˆè‡ªå·±çš„çŸ¥è¯†ä½“ç³»ï¼‰ã€‚æ•°å­¦ä¸€å®šè¦é‡è§†è®¡ç®—ï¼ŒçœŸé¢˜è®¡ç®—é‡å¤§ï¼Œä¸€å®šè¦å¤šç®—ã€‚  \nè‹±è¯­ç›¸æ¯”äºæ•°å­¦æ¥è¯´ï¼Œè‹±è¯­çš„å¤ä¹ è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ã€‚  \næœ¬äººä¸­è€ƒè‹±è¯­Â 35ï¼Œé«˜è€ƒè‹±è¯­Â 100ï¼Œå››çº§è€ƒäº† 5 æ¬¡ï¼ˆæœ€åå‡­å€Ÿè€ƒç ”çš„è¯æ±‡é‡è¿‡çš„å››çº§ï¼Œå½“æ—¶æŠ¥äº†å…­çº§ï¼Œç”±äºåœ¨å®¶å¤‡è€ƒæ²¡å»è€ƒï¼‰ï¼Œè‹±è¯­è¯­æ³•åŸºç¡€ä¸ºÂ 0ã€‚  ä½†æ˜¯æœ€ç»ˆè€ƒç ”è‹±è¯­Â 77ã€‚  \né˜¶æ®µ\nå°†æ•´ä¸ªå¤ä¹ æ‹†åˆ†ä¸ºå•è¯éƒ¨åˆ†ã€è¯­æ³•éƒ¨åˆ†å’ŒçœŸé¢˜éƒ¨åˆ†ã€‚\nï¼ˆ1ï¼‰å•è¯éƒ¨åˆ†\nèƒŒè€ƒçº²è¯æ±‡é˜¶æ®µï¼ˆ ç°åœ¨ - 10 æœˆä¸­æ—¬ ï¼‰ï¼šä½¿ç”¨ä¸èƒŒå•è¯APPåœ¨æ¯å¤©æ—©ä¸Šèµ·åºŠä»¥åŠä¸­åˆç¡è§‰å‰ä»¥åŠä¸‹åˆèƒŒæ–°å•è¯ï¼Œå¤ä¹ æ—§å•è¯ã€‚æˆ‘å½“æ—¶èƒŒå•è¯ç‰¹åˆ«ç—›è‹¦ï¼ŒèƒŒå•è¯è¦èŠ±è´¹æ¥è¿‘ä¸¤ä¸ªå°æ—¶ã€‚\nåå¤åˆ·é«˜ - ä¸­ - ä½é¢‘è¯é˜¶æ®µï¼ˆ 10 æœˆä¸­æ—¬ - è€ƒå‰ ï¼‰ï¼šä½¿ç”¨ä¸èƒŒå•è¯APPè‡ªè¡ŒæŠ½æ—¶é—´ï¼Œæ¯å¤©æ–°å¤ä¹  150 ä¸ªå•è¯ï¼Œå†å¤ä¹ å‰ä¸€å¤©è®°çš„ 150 ä¸ªå•è¯ï¼Œè¿™ä¸ªé˜¶æ®µèƒŒå•è¯å°±ä¼šæ¯”è¾ƒå¿«äº†ï¼ŒåŸºæœ¬ä¸Š12å¤©å°±å¯ä»¥å®Œæˆä¸€è½®ï¼Œå› ä¸ºé«˜ - ä¸­ - ä½é¢‘è¯åªæœ‰ 1800 ä¸ªå·¦å³ã€‚\nï¼ˆ2ï¼‰è¯­æ³•éƒ¨åˆ†ï¼ˆ 7 æœˆä¹‹å‰ï¼‰\nä¸€ä¸ªæœˆçœ‹å®Œç”°é™è€å¸ˆçš„å¥å¥çœŸç ”è¯­æ³•è¯¾ï¼Œè·Ÿç€é™å§å…¬ä¼—å·å†™æ¯æ—¥ä¸€å¥ï¼ˆ æˆ‘æ²¡åšæŒä¸‹æ¥æ¯å¤©å†™ ï¼‰ã€‚çœ‹å®Œåï¼Œå•è¯åˆ·åˆ°å¶è€ƒè¯å·¦å³å°±å¯ä»¥å¼€å¯çœŸé¢˜äº†ã€‚\nï¼ˆ3ï¼‰çœŸé¢˜éƒ¨åˆ†\nçœŸé¢˜ååˆ†é‡è¦ï¼Œå»ºè®®ç•™ 3 å¹´çœŸé¢˜æ¨¡æ‹Ÿè€ƒè¯•ï¼Œå…¶ä»–çš„çœŸé¢˜æ‹†åˆ†æ¥å†™ï¼Œæ¯å¤©å†™ä¸€ç¯‡ã€‚\né˜¶æ®µ 1ï¼ˆ7 æœˆ - 9 æœˆï¼‰ï¼šå†™å®Œæ‰€æœ‰é˜…è¯»ã€‚å®šæ—¶å†™å®Œä¸€ç¯‡é˜…è¯»ï¼Œå†™å®Œåç²¾è¯»ï¼Œè®°å¿†ä¸ä¼šçš„å•è¯ï¼Œææ‡‚æ–‡ç« ä¸­çš„é•¿éš¾å¥ã€‚\né˜¶æ®µ 2ï¼ˆ9 æœˆ - 11 æœˆï¼‰ï¼šå…ˆå­¦ä¹ æ–°é¢˜å‹çš„æŠ€å·§ï¼Œç„¶åæ¯å¤©äºŒåˆ·ä¸€ç¯‡çœŸé¢˜é˜…è¯»å†é…å¥—å†™ä¸€ç¯‡æ–°é¢˜å‹ï¼ŒåŒæ ·è¦å®šæ—¶ï¼Œå†™å®Œåç²¾è¯»ã€‚\né˜¶æ®µ 3ï¼ˆ11 æœˆ - è€ƒå‰ï¼‰ï¼šå»ºè®®å­¦ä¹  monkey è€å¸ˆçš„ä½œæ–‡å†™ä½œæ–¹æ³•ï¼Œç„¶åèƒŒæ¨¡æ¿ï¼Œå†™çœŸé¢˜çš„ä½œæ–‡ï¼Œæ¯å¤©ä¹Ÿè¦ä¿æŒå†™ä¸€ç¯‡çœŸé¢˜é˜…è¯»æˆ–è€…æ–°é¢˜å‹ã€‚è€ƒå‰å‡ å‘¨ï¼Œå¯ä»¥æŠŠç•™ä¸‹çš„ 3 å¥—çœŸé¢˜è¿›è¡Œæ¨¡è€ƒï¼Œç„¶åç²¾è¯»ã€‚\nè¯¾ç¨‹å’Œè€å¸ˆæ¨è\n\nå•è¯è½¯ä»¶æ¨èä¸èƒŒå•è¯APPã€‚\nè¯­æ³•è¯¾æ¨èç”°é™è€å¸ˆçš„å¥å¥çœŸç ”å’Œå¯¹åº”è¯¾æœ¬ã€‚\né˜…è¯»çœ‹çœ‹å”è¿Ÿè€å¸ˆçš„é˜…è¯»çš„é€»è¾‘ï¼ˆå•è¯é‡ä¸Šå»äº†æ„Ÿè§‰æŠ€å·§æ²¡å•¥ç”¨ï¼‰ã€‚\næ–°é¢˜å‹éšæ„é€‰è€å¸ˆã€‚\nä½œæ–‡éå¸¸æ¨è monkey è€å¸ˆï¼Œç”¨æœ€å°‘çš„æ—¶é—´å°½é‡æ‹¿é«˜åˆ†ï¼Œè‹±è¯­å·®ç”Ÿçš„ç¦éŸ³ï¼\n\nä¸ªäººå»ºè®®\nè‹±è¯­ä¸€å®šè¦æ³¨é‡åŸºç¡€ï¼Œè¯æ±‡é‡å’Œè¯­æ³•é•¿éš¾å¥ã€‚è¯æ±‡é‡åˆæ˜¯é‡ä¸­ä¹‹é‡ï¼Œè¯æ±‡é‡ä¸Šå»äº†ç›¸ä¿¡è‹±è¯­ 70 åˆ†å¹¶ä¸éš¾ã€‚\næ”¿æ²»æ”¿æ²»å¤ä¹ éå¸¸ç®€å•ï¼Œçœ‹å¾æ¶›å¼ºåŒ–è¯¾ + åˆ·é€‰æ‹©é¢˜ + èƒŒè‚–å››å¤§é¢˜ &#x3D; æ”¿æ²» 75ã€‚å› ä¸ºæˆ‘èƒŒåŠŸå¤ªå·®ï¼Œè‚–å››åªèƒŒäº†ä¸¤å¥—ï¼Œä½†æ˜¯è¿˜æ˜¯å»ºè®®å…¨èƒŒã€‚æ”¿æ²»è€ƒçš„è¿˜å¯ä»¥ä¸»è¦æ˜¯å› ä¸ºæˆ‘é€‰æ‹©é¢˜å†™çš„å¥½ï¼Œå¾—äº† 39 åˆ†ï¼ˆ æ»¡åˆ† 50 ï¼‰ï¼Œæ‰€ä»¥åˆ·é€‰æ‹©é¢˜è¿˜æ˜¯å¾ˆé‡è¦çš„ã€‚\næ€»ä½“æ—¶é—´å®‰æ’\næ”¿æ²»æˆ‘ä» 8 æœˆä»½æ‰å¼€å§‹ï¼Œæ¯å¤©åªèŠ±ä¸€ä¸ªåŠå°æ—¶å·¦å³çœ‹æ”¿æ²»è¯¾ç¨‹ï¼Œç„¶ååˆ·é¢˜ã€‚ä½†åœ¨æœ€åä¸€ä¸ªæœˆï¼Œæˆ‘å‹ç¼©äº†è®¡ç®—æœºç½‘ç»œå’Œè‹±è¯­çš„å¤ä¹ æ—¶é—´éƒ½ç»™æ”¿æ²»ï¼Œå»åˆ·é€‰æ‹©é¢˜ã€‚æœ€ååå¤šå¤©å‹ç¼©äº†å¾ˆå¤šæ—¶é—´æ¥èƒŒè‚–å››ã€‚\né˜¶æ®µ\né˜¶æ®µ 1 ï¼ˆ8 æœˆ - 9 æœˆï¼‰ï¼šçœ‹å¾æ¶›å¼ºåŒ–è¯¾ï¼Œçœ‹å®Œä¸€èŠ‚åˆ·å¯¹åº”çš„è‚– 1000 é€‰æ‹©é¢˜ã€‚\né˜¶æ®µ 2 ï¼ˆ9 æœˆ - è‚–å…«å‡ºç‰ˆï¼‰ï¼šäºŒåˆ·è‚– 1000 é€‰æ‹©é¢˜ï¼Œåˆ·è‚–å…«é€‰æ‹©é¢˜ã€‚\né˜¶æ®µ 3 ï¼ˆè‚–å››å‡ºç‰ˆ - è€ƒå‰ï¼‰ï¼šäºŒåˆ·è‚–å…«é€‰æ‹©é¢˜ + åˆ·è‚–å››é€‰æ‹©é¢˜ + èƒŒè‚–å››å¤§é¢˜ã€‚\nè¯¾ç¨‹å’Œè€å¸ˆæ¨è\n\næ”¿æ²»çš„è¯¾ç¨‹è®¤å‡†å¾æ¶›å¼ºåŒ–å°±è¡Œäº†ï¼Œå¾æ¶›è€å¸ˆçš„è¯¾çœŸçš„å¾ˆæœ‰æ„æ€ï¼Œä¹°æœ¬å¾æ¶›è€å¸ˆçš„æ ¸å¿ƒè€ƒæ¡ˆå‹¾å‹¾ç”»ç”»å°±è¡Œäº†ã€‚\nåæœŸå¯ä»¥å’Œç ”å‹æ‹¼ä¸€ä¸ªé€‰æ‹©é¢˜åˆ·é¢˜å°ç¨‹åºåˆ·é€‰æ‹©é¢˜ï¼Œæˆ‘ç”¨çš„æ˜¯è‹ç›¾è€ƒç ”ã€‚\nè‚–å…«è‚–å››äººæ‰‹ä¸€æœ¬ã€‚\n\nä¸ªäººå»ºè®®\næ”¿æ²»å±äºå‰æœŸè½»æ¾ï¼ŒåæœŸå‘åŠ›çš„å­¦ç§‘ï¼Œæˆ‘ä¸€èˆ¬åœ¨ä¸‹åˆé¥­åç‚¹å¼€å¾æ¶›è€å¸ˆçš„è¯¾æ¥çœ‹ï¼Œçœ‹å®Œå†™é¢˜éå¸¸æ„‰å¿«ã€‚æ”¿æ²»çš„é€‰è¿™é¢˜ç‰¹åˆ«é‡è¦ï¼Œé©¬åŸé€‰æ‹©é¢˜ä¸€å®šè¦ææ‡‚å¯¹åº”çš„çŸ¥è¯†ç‚¹ï¼Œå…¶ä»–å¸½å­é¢˜å¤šåˆ·å‡ æ¬¡å°±è®°ä½äº†ã€‚\nä¸“ä¸šè¯¾ä»ä»Šå¹´æƒ…å†µæ¥çœ‹ï¼Œé‡é‚® 803 è®¡ç®—æœºç½‘ç»œçš„éš¾åº¦å†æ¬¡åŠ å¤§ã€‚å°½é‡æ—©ç‚¹å¼€å§‹å‡†å¤‡ä¸“ä¸šè¯¾ï¼Œæˆ‘æ˜¯ä»é‡é‚®å‡ºå¤§çº²ï¼ˆ 2023 å¹´ 7 æœˆ 21 æ—¥ ï¼‰åæ‰å¼€å§‹å‡†å¤‡çš„è®¡ç®—æœºç½‘ç»œï¼Œå¹¶ä¸”æ¯å¤©èŠ±è´¹çš„æ—¶é—´ä¹Ÿä¸æ˜¯ç‰¹åˆ«å¤šï¼Œæœ€å¤š 3 å°æ—¶ï¼Œæœ€ç»ˆè®¡ç®—æœºç½‘ç»œæˆç»©è¿˜ä¸é”™ï¼Œåœ¨å‡†å¤‡è®¡ç®—æœºç½‘ç»œæ—¶ï¼Œç¬¬ä¸€ç« å’Œæœ€åä¸‰ç« ä¸ç”¨èŠ±å¤ªå¤šæ—¶é—´å»å‡†å¤‡ã€‚\nå¯¹æ¯”æˆ‘çš„æ•°å­¦ï¼ŒèŠ±è´¹äº†å¾ˆå¤šæ—¶é—´ï¼Œä½†æ˜¯ç»“æœä¸å°½äººæ„ï¼Œæ‰€ä»¥å­¦ä¹ ä¸æ˜¯ä¸€å‘³çš„å †ç§¯æ—¶é—´ï¼ŒæŒæ¡æ–¹æ³•è¿˜æ˜¯å¾ˆé‡è¦ã€‚åæ¥æˆ‘ä¹Ÿåæ€äº†è‡ªå·±çš„å­¦ä¹ æ–¹æ³•å’Œè€ƒè¯•ç­–ç•¥ï¼Œå‰é¢çš„ç»éªŒåˆ†äº«ï¼Œå°±æ˜¯æˆ‘ç»“åˆè‡ªå·±çš„ç»éªŒå’Œåæ€åç»™å‡ºçš„ã€‚\næˆ‘å½“åˆçš„è®¡åˆ’\næ¯å¤©å­¦ä¹  3 å°æ—¶ã€‚\nç¬¬ä¸€é˜¶æ®µï¼ˆ7 æœˆåº• - 8 æœˆåº•ï¼‰ï¼šçœ‹ bilibili æ¹–ç§‘å¤§çš„è¯¾ç¨‹ï¼Œæ¯çœ‹å®Œä¸€èŠ‚è¯¾å•ƒè°¢å¸Œä»è®¡ç®—æœºç½‘ç»œå¯¹åº”çš„ç« èŠ‚å†æ€»ç»“åˆ°è‡ªå·±çš„çŸ¥è¯†ä½“ç³»ä¸­ã€‚\nç¬¬äºŒé˜¶æ®µï¼ˆ8 æœˆåº• - 11 æœˆåˆï¼‰ï¼šæ›´ä»”ç»†çš„çœ‹è°¢å¸Œä»è®¡ç®—æœºç½‘ç»œï¼Œå®Œå–„çŸ¥è¯†ä½“ç³»ï¼Œçœ‹å®Œä¸€ç« å†™è¯¾åä¹ é¢˜ï¼Œå…ˆæŒ‰ç…§è‡ªå·±çš„æƒ³æ³•å»å†™ï¼Œç„¶åå¯¹ç­”æ¡ˆï¼Œç†è§£åå…³ä¸Šç­”æ¡ˆå†å†™ä¸€éã€‚\nç¬¬ä¸‰é˜¶æ®µï¼ˆ11 æœˆåˆ - 12 æœˆåˆï¼‰ï¼šå†™çœŸé¢˜ï¼Œç„¶åçœ‹å¯¹åº”è€ƒç‚¹ï¼Œç»“åˆä¹¦å’Œè‡ªå·±çš„çŸ¥è¯†ä½“ç³»ã€‚\nç¬¬å››é˜¶æ®µï¼ˆ12 æœˆåˆ - è€ƒå‰ï¼‰ï¼šç»“åˆä¹¦çœ‹è‡ªå·±çš„çŸ¥è¯†ä½“ç³»ï¼Œç†è§£è®°å¿†ï¼Œå»æ€è€ƒä¼šæ€æ ·è€ƒï¼Œè¿˜å¯ä»¥å†™å†™ 408 è®¡ç®—æœºç½‘ç»œçš„é¢˜ã€‚\nå»ºè®®çš„è®¡åˆ’\nè€ƒè™‘åˆ°è®¡ç®—æœºç½‘ç»œéš¾åº¦åŠ å¤§ï¼Œææ—©å‡†å¤‡ï¼Œå¤šå†™é¢˜å¤šçœ‹ä¹¦æœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ã€‚\nç¬¬ä¸€é˜¶æ®µï¼ˆç°åœ¨ - 6 æœˆåˆï¼‰ï¼šçœ‹ bilibili æ¹–ç§‘å¤§çš„è¯¾ç¨‹ï¼Œæ¯çœ‹å®Œä¸€èŠ‚è¯¾å•ƒè°¢å¸Œä»è®¡ç®—æœºç½‘ç»œå¯¹åº”çš„ç« èŠ‚å†æ€»ç»“åˆ°è‡ªå·±çš„çŸ¥è¯†ç»“æ„ä¸­ã€‚\nç¬¬äºŒé˜¶æ®µï¼ˆ6 æœˆ - 8 æœˆï¼‰ï¼šæ›´åŠ ä»”ç»†çš„çœ‹è°¢å¸Œä»è®¡ç®—æœºç½‘ç»œï¼Œå†™è¯¾åä¹ é¢˜å¹¶å®Œå–„çŸ¥è¯†ä½“ç³»ã€‚\nç¬¬ä¸‰é˜¶æ®µï¼ˆ8 æœˆ - 11 æœˆï¼‰ï¼šçœ‹è®¡ç®—æœºç½‘ç»œé»‘çš®ä¹¦ï¼Œå†™å¯¹åº”çš„è¯¾åä¹ é¢˜ã€‚\nç¬¬å››é˜¶æ®µï¼ˆ11 æœˆ - 12 æœˆï¼‰ï¼šå†™çœŸé¢˜ï¼Œç„¶åçœ‹å¯¹åº”è€ƒç‚¹ï¼Œç»“åˆä¹¦å’Œè‡ªå·±çš„çŸ¥è¯†ä½“ç³»ã€‚\nç¬¬äº”é˜¶æ®µï¼ˆ12 æœˆ - è€ƒå‰ï¼‰ï¼šç»“åˆä¹¦çœ‹è‡ªå·±çš„çŸ¥è¯†ä½“ç³»ï¼Œç†è§£è®°å¿†ï¼Œè¿˜å¯ä»¥å†™å†™ 408 è®¡ç®—æœºç½‘ç»œçš„é¢˜ã€‚\nè¯¾ç¨‹å’Œè€å¸ˆæ¨è\n\næ¹–ç§‘å¤§çš„è®¡ç®—æœºç½‘ç»œè¯¾ç¨‹ã€‚\nè°¢å¸Œä»çš„è®¡ç®—æœºç½‘ç»œå’Œé…å¥—çš„è®¡ç®—æœºç½‘ç»œé‡Šç–‘ä¸ä¹ é¢˜è§£ç­”ã€‚\nè®¡ç®—æœºç½‘ç»œé»‘çš®ä¹¦ã€‚\n\nä¸ªäººå»ºè®®\nè®¡ç®—æœºç½‘ç»œçš„ç¬¬ä¸€ç« å’Œæœ€åä¸‰ç« ä¸ç”¨èŠ±å¤§é‡æ—¶é—´ã€‚é‡è¦çš„æ˜¯ä¸­é—´çš„äº”å±‚ä½“ç³»ç»“æ„ï¼Œä¸€å®šè¦ææ‡‚æ¯å±‚æ¯ä¸ªåè®®ï¼Œä»¥åŠåè®®å’Œåè®®ä¹‹é—´çš„å…³ç³»ã€‚è¦å°†æ¯ä¸€å±‚çš„çŸ¥è¯†ç‚¹ä¸²èµ·æ¥ï¼Œæ¯ä¸ªåè®®ä¸æ˜¯å­¤ç«‹çš„ï¼Œå­¦åˆ°ä¸Šå±‚åè®®è¦å¤šæƒ³æƒ³ç›¸å…³è”çš„ä¸‹å±‚åè®®ã€‚\nè™½ç„¶è®¡ç®—æœºç½‘ç»œé‡é‚®å‹åˆ†ä¸¥é‡ï¼Œè€ƒé¢˜ä¹Ÿè€ƒçš„æ¯”è¾ƒéš¾ï¼Œä½†åªè¦é™ä¸‹å¿ƒæ¥æŠŠå„ç§åè®®ææ‡‚äº†ï¼Œå…¶å®ä¹Ÿä¸ä¼šå¤ªå·®ã€‚\n","categories":["æ‚æ–‡"],"tags":["è€ƒç ”"]},{"title":"Codeforces Round","url":"/2022/05/9ddeb4839bab.html","content":"\né¢˜ç›®æ¥æºhttps://codeforces.com/contest/1676\n\nç¬¬ä¸€é¢˜é¢˜æ„ç»™ä¸€ä¸ª6ä½çš„æ•°ï¼Œå¦‚æœåä¸‰ä½æ•°çš„å’Œç­‰äºå‰ä¸‰ä½æ•°çš„å’Œåˆ™è¾“å‡ºYESåä¹‹è¾“å‡ºNO\næ€è·¯å°†æ•°åä¸‰ä½ç´¯åŠ å‰ä¸‰ä½ç´¯å‡ï¼Œæœ€ååˆ¤æ–­æ˜¯å¦ä¸º0\nä»£ç #include &lt;iostream&gt;using namespace std;int main()&#123;    int n;    cin&gt;&gt;n;    int cnt = 0;    for(int i = 0;i&lt;n;i++)&#123;        int b;        int sum = 0;        int cnt = 0;        cin&gt;&gt;b;        while(b)&#123;            int temp = b%10;            b/=10;            if(cnt &gt;= 3)&#123;                sum-=temp;            &#125;else&#123;                sum+=temp;            &#125;            cnt++;        &#125;        if(sum == 0) cout&lt;&lt;&quot;YES&quot;&lt;&lt;endl;        else cout&lt;&lt;&quot;NO&quot;&lt;&lt;endl;    &#125;    return 0;&#125;\nç¬¬äºŒé¢˜é¢˜æ„æœ‰nä¸ªç›’å­ï¼Œæ¯ä¸ªç›’å­æœ‰ä¸€å®šçš„ç³–æœï¼Œè®©ä½ åƒæ¯ä¸ªç›’å­é‡Œçš„ç³–æœä½¿æ‰€æœ‰ç›’å­ä¸­çš„ç³–æœå˜æˆä¸€æ ·çš„ï¼Œè¾“å‡ºåƒäº†å¤šå°‘ä¸ªç³–æœ\næ€è·¯æ‰¾å‡ºç³–æœæœ€å°‘çš„ç›’å­ï¼Œè®©æ¯ä¸ªç›’å­çš„ç³–æœæ•°é‡ä¸æœ€å°çš„ç³–æœæ•°ç›¸å‡å¹¶ç´¯åŠ èµ·æ¥å°±æ˜¯ç»“æœã€‚\nä»£ç #include &lt;iostream&gt;using namespace std;int num[55];int main()&#123;    int t;    cin&gt;&gt;t;    while(t--)&#123;        int n;        cin&gt;&gt;n;        int minnum = 0x3f3f3f3f;        for(int i = 0;i&lt;n;i++)&#123;            cin&gt;&gt;num[i];            minnum = min(minnum,num[i]);        &#125;        int sum = 0;        for(int i = 0;i&lt;n;i++)&#123;            sum+=(num[i]-minnum);        &#125;        cout&lt;&lt;sum&lt;&lt;endl;    &#125;    return 0;&#125;\nç¬¬ä¸‰é¢˜é¢˜æ„ç»™nä¸ªå•è¯ï¼Œæ¯ä¸ªå•è¯çš„é•¿åº¦ä¸ºm,æ‰¾å‡ºä¸¤ä¸ªå•è¯ä½¿ä»–ä»¬æ»¡è¶³å˜æˆç›¸åŒçš„å•è¯æ‰€éœ€è¦çš„æ“ä½œæ¬¡æ•°æœ€å°ï¼Œæ“ä½œæ˜¯æŒ‡å•è¯çš„æ¯ä¸€ä¸ªå­—ç¬¦ä¾‹å¦‚aé€šè¿‡ä¸€æ¬¡æ“ä½œå¯ä»¥å˜ä¸ºbï¼Œbé€šè¿‡3æ¬¡æ“ä½œå˜æˆeã€‚best-&gt;cost,ä¹Ÿå°±æ˜¯b-&gt;c,e-&gt;o,s-&gt;s,t-&gt;tçš„æ“ä½œæ¬¡æ•°çš„å’Œã€‚\næ€è·¯ç”±äºæ•°æ®é‡æ¯”è¾ƒå°ï¼Œç›´æ¥æš´åŠ›æ¨¡æ‹Ÿï¼Œåˆ¤æ–­æ¯ä¸ªå•è¯å’Œå…¶ä»–å•è¯æ¯ä¸€ä½æ‰€éœ€è¦çš„æ“ä½œæ¬¡æ•°ï¼Œè®°å½•æœ€å°æ“ä½œæ•°æœ€åè¾“å‡ºå³å¯\nä»£ç #include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;cstring&gt;using namespace std;int nums[55][55];string strs[55];int main()&#123;    int t;    cin&gt;&gt;t;    while(t--)&#123;        int n,m;        int ans = 0x3f3f3f3f;        cin&gt;&gt;n&gt;&gt;m;        for(int i = 0;i&lt;n;i++) cin&gt;&gt;strs[i];                for(int i = 0;i&lt;n;i++)&#123;            for(int j = i+1;j&lt;n;j++)&#123;                int sum = 0;                for(int k = 0;k&lt;m;k++)&#123;                    sum += max(strs[i][k],strs[j][k])-min(strs[i][k],strs[j][k]);                 &#125;                ans = min(ans,sum);            &#125;        &#125;               cout&lt;&lt;ans&lt;&lt;endl;    &#125;    return 0;&#125;\nç¬¬å››é¢˜é¢˜æ„ç»™ä¸€ä¸ªn*mçš„çŸ©é˜µï¼Œæ‰¾åˆ°æŸä¸€ä¸ªä½ç½®çš„å€¼åŠ ä¸Šæ–œå¯¹è§’çš„å…¶ä»–æ‰€æœ‰å€¼ä»¥åŠåå¯¹è§’çš„å…¶ä»–æ‰€æœ‰å€¼çš„æ€»å’Œæœ€å¤§\næ€è·¯å¯¹è§’çº¿å¯ä»¥çœ‹åšæ˜¯y&#x3D;x+bçš„ä¸€æ¡ç›´çº¿ï¼Œåå¯¹è§’çº¿å¯ä»¥çœ‹åšæ˜¯y&#x3D;-x+bçš„ç›´çº¿ï¼Œå¯ä»¥çœ‹å‡ºæ¯ä¸€ä¸ªbéƒ½ç¡®å®šä¸€æ¡ç›´çº¿ï¼Œç¡®å®šå¯¹è§’çº¿çš„b&#x3D;y-x,åå¯¹è§’çº¿çš„b&#x3D;y+xï¼Œè¯»æ•°çš„æ—¶å€™ç»´æŠ¤å¯¹è§’çº¿çš„å’Œä»¥åŠåå¯¹è§’çº¿çš„å’Œï¼Œç”±äºy-xå¯èƒ½ä¸ºè´Ÿæ•°ï¼Œæˆ‘ä»¬æ˜¯ç”¨æ•°ç»„æ¥å­˜å‚¨çš„æ‰€ä»¥éœ€è¦å¯¹æ•´ä¸ªå¯¹è§’çº¿çš„bè¿›è¡Œåç§»ï¼Œåç§»é‡ä¸ºnï¼Œæœ€åéå†æ•´ä¸ªçŸ©é˜µï¼Œè®¡ç®—æ¯ä¸ªä½ç½®å¯¹è§’çº¿æ•°å’Œ[y-x+n]+åå¯¹è§’æ•°å’Œ[x+y]-è¯¥ä½ç½®çš„å€¼[x][y]ï¼Œç„¶åé€‰å‡ºæœ€å¤§å€¼ã€‚\nä»£ç #include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;const int N = 210;int nums[N][N];int dg[2*N],udg[2*N];int dp[N][N];int main()&#123;    int t;    cin&gt;&gt;t;    while(t--)&#123;        int n,m;        memset(dg,0,sizeof dg);        memset(udg,0,sizeof udg);        cin&gt;&gt;n&gt;&gt;m;        for(int i = 0;i&lt;n;i++)&#123;            for(int j = 0;j&lt;m;j++)&#123;                cin&gt;&gt;nums[i][j];                dg[j-i+n]+=nums[i][j];                udg[i+j]+=nums[i][j];            &#125;        &#125;        int ans = 0;        for(int i = 0;i&lt;n;i++)&#123;            for(int j = 0;j&lt;m;j++)&#123;                dp[i][j] = dg[j-i+n]+udg[i+j]-nums[i][j];                ans = max(ans,dp[i][j]);            &#125;        &#125;        cout&lt;&lt;ans&lt;&lt;endl;    &#125;&#125;\nç¬¬äº”é¢˜é¢˜æ„ç»™nä¸ªç³–æœï¼Œæ¯ä¸ªç³–æœæœ‰ä¸€å®šçš„ç”œåº¦å€¼ï¼Œåƒç³–æœå¯ä»¥è·å¾—ç”œåº¦å€¼ã€‚ç„¶åæ˜¯qæ¬¡è¯¢é—®ï¼Œå¯¹äºæ¯ä¸€æ¬¡è¯¢é—®ï¼Œç»™ä¸€ä¸ªå¾…æ»¡è¶³ç”œåº¦å€¼xï¼Œåˆ¤æ–­ç›®å‰çš„ç³–æœæ˜¯å¦èƒ½å¤Ÿæ»¡è¶³è¯¥ç”œåº¦å€¼ï¼Œå¦‚æœä¸èƒ½è¾“å‡º-1ï¼Œå¦‚æœèƒ½è¾“å‡ºæœ€å°‘éœ€è¦åƒå¤šå°‘é¢—ç³–æœã€‚\næ€è·¯è´ªå¿ƒ+äºŒåˆ†æˆ‘ä»¬å°½é‡åƒç”œåº¦å€¼å¤§çš„ç³–æœï¼Œå¦‚æœåƒäº†è¿˜æœªæ»¡è¶³åˆåƒç¬¬äºŒå¤§çš„ç³–æœï¼Œè¿™æ ·çš„ç»“æœæ€»æ˜¯æœ€ä¼˜çš„ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å¯¹æ‰€ä»¥ç³–æœç”œåº¦å€¼æŒ‰ç…§ä»å¤§åˆ°å°æ’åºï¼Œç„¶åæ±‚å‰ç¼€åˆï¼Œå‰ç¼€å’Œæ•°ç»„sæ»¡è¶³è´ªå¿ƒçš„æ€è·¯ã€‚æ¥ä¸‹æ¥å°±æ˜¯åœ¨sæ•°ç»„ä¸­ä»1-nä¾æ¬¡æŸ¥è¯¢,ç¬¬ä¸€ä¸ªå¤§äºæˆ–ç­‰äºå¾…æ»¡è¶³ç”œåº¦å€¼çš„ä¸‹æ ‡ï¼Œè¯¥ä¸‹æ ‡è¡¨ç¤ºè¦åƒå¤šå°‘é¢—ç³–æœï¼Œä¹Ÿå°±æ˜¯ç­”æ¡ˆã€‚ä½†æ˜¯è¿™é“é¢˜æ•°æ®é‡å¯èƒ½ä¼šè¶…æ—¶æ‰€ä»¥é‡‡ç”¨äºŒåˆ†æŸ¥æ‰¾ã€‚æ³¨:å¯¹äºæ‰€æœ‰ç³–æœä¸€èµ·åƒéƒ½æ— æ³•æ»¡è¶³çš„è¯¢é—®ç›´æ¥è¾“å‡º-1ï¼Œ\nä»£ç #include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;cstring&gt;using namespace std;typedef long long LL;const int N = 300005;int n,m;LL nums[N],s[N];bool cmp(LL a,LL b)&#123;    return a&gt;b;&#125;int find(int a)&#123;    int l = 1,r = n;        while(l&lt;r)&#123;        int mid = l+r&gt;&gt;1;        if(s[mid] &lt; a)&#123;            l = mid+1;        &#125;else&#123;            r = mid;        &#125;    &#125;        return l;&#125;int main()&#123;    int t;    cin&gt;&gt;t;    while(t--)&#123;        memset(nums,0,sizeof nums);        memset(s,0,sizeof s);        cin&gt;&gt;n&gt;&gt;m;        for(int i = 1;i&lt;=n;i++)&#123;            cin&gt;&gt;nums[i];        &#125;        sort(nums+1,nums+n+1,cmp);              cout&lt;&lt;endl;        for(int i = 1;i&lt;=n;i++)&#123;            s[i] = s[i-1]+nums[i];        &#125;                cout&lt;&lt;endl;        while(m--)&#123;            int temp;            cin&gt;&gt;temp;            if(temp&gt;s[n])                 cout&lt;&lt;-1&lt;&lt;endl;            else                cout&lt;&lt;find(temp)&lt;&lt;endl;        &#125;    &#125;    return 0;&#125;\nç¬¬å…­é¢˜é¢˜æ„ç»™ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«nä¸ªæ•°ï¼Œç»™ä¸€ä¸ªkï¼Œå¯»æ‰¾ä¸€æ®µè¿ç»­çš„åºåˆ—ï¼Œä½¿å¾—åºåˆ—ä¸­çš„æ¯ä¸€ä¸ªæ•°éƒ½åœ¨æ•°ç»„ä¸­è‡³å°‘å‡ºç°kæ¬¡ã€‚åºåˆ—çš„å·¦å³è¾¹ç•Œl,ræ»¡è¶³l&lt;&#x3D;rï¼Œæ¯”å¦‚1-3çš„åºåˆ—å°±åŒ…å«äº†123ä¸‰ä¸ªæ•°ï¼Œ1-1åŒ…å«äº†1ä¸€ä¸ªæ•°\næ€è·¯mapç»“æ„å­˜å‚¨+åŒæŒ‡é’ˆmapåº•å±‚ä½¿ç”¨çš„çº¢é»‘æ ‘ï¼Œä¼šé»˜è®¤æŒ‰ç…§keyè¿›è¡Œæ’åºã€‚æˆ‘ä»¬keyå­˜å‚¨çš„æ˜¯æ•°ç»„ä¸­å‡ºç°çš„æ•°ï¼Œvalueå­˜å‚¨è¯¥æ•°å‡ºç°çš„æ¬¡æ•°ã€‚ç„¶åå¯¹æ•´ä¸ªmapè¿›è¡Œéå†ï¼Œç”¨l,lenç”¨äºè®°å½•å½“å‰è®¿é—®çš„ä¸€ä¸ªåºåˆ—ï¼Œç”¨ans_l,ans_lenå­˜å‚¨å…¨å±€æœ€é•¿çš„åºåˆ—ã€‚(r-l &#x3D; len-1æ‰€ä»¥å¯ä»¥å¾—åˆ°r &#x3D; len-1+r)ã€‚åˆå§‹åŒ–lenä¸º-1ï¼ŒræŒ‡é’ˆéå†mapçš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœrå…ƒç´ å‡ºç°çš„æ¬¡æ•°æ»¡è¶³é¢˜ç›®è¦æ±‚ï¼Œåˆ™è¿›ä¸€æ­¥åˆ¤æ–­è¯¥å…ƒç´ æ˜¯å¦å¯ä»¥ç›´æ¥åŠ å…¥ä¸Šæ¬¡çš„åºåˆ—ï¼Œå¯ä»¥åˆ™æ›´æ–°lå’Œlençš„é•¿åº¦ï¼Œåä¹‹åˆ™è¯´æ˜ä¸­é—´æŸäº›å…ƒç´ ä¸æ»¡è¶³ï¼Œæ›´æ–°åºåˆ— rä¸ºå½“å‰å…ƒç´ ,lenä¸º1ã€‚æ¯æ¬¡éå†åéƒ½æ›´æ–°å…¨å±€æœ€ä¼˜åºåˆ—ï¼Œå¦‚æœlå½“å‰åºåˆ—enæ¯”å…¨å±€æœ€ä¼˜çš„æ›´ä¼˜æ‰è¿›è¡Œæ›´æ–°ã€‚\nä»£ç #include &lt;iostream&gt;#include &lt;map&gt;using namespace std;int main()&#123;    int t;    cin&gt;&gt;t;    while(t--)&#123;        map&lt;int,int&gt; m;        int n,k;        cin&gt;&gt;n&gt;&gt;k;        int big = 0;        for(int i = 0;i&lt;n;i++)&#123;            int id;            cin&gt;&gt;id;            if(!m.count(id))&#123;                m.insert(&#123;id,1&#125;);            &#125;else&#123;                m[id] = m[id]+1;            &#125;        &#125;        int len = -1;        int ans_len = -1;        int ans_l = -1;        int l,r;         for(auto iter = m.begin();iter != m.end();iter++)&#123;            r = iter-&gt;first;            if(iter-&gt;second &gt;= k)&#123;                if(len == -1)&#123;                    l = r;                    len = 1;                &#125;else if(len-1+l == iter-&gt;first-1)&#123;                    len++;                &#125;else&#123;                    l = r;                    len = 1;                &#125;                if(len&gt;ans_len)&#123;                    ans_len = len;                    ans_l = l;                &#125;            &#125;        &#125;        if(ans_len == -1) cout&lt;&lt;-1&lt;&lt;endl;        else             cout&lt;&lt;ans_l&lt;&lt;&quot; &quot;&lt;&lt;ans_len-1+ans_l&lt;&lt;endl;    &#125;    return 0;&#125;\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","åˆ·é¢˜è®°å½•"],"tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•"]},{"title":"bfs-çŒ®ç»™é˜¿å°”å‰ä¾¬çš„èŠ±æŸ","url":"/2021/11/8ed9a65746b9.html","content":"é¢˜ç›®æ¥æºwww.acwing.com/problem/content/1103/\n\né¢˜ç›®é˜¿å°”å‰ä¾¬æ˜¯ä¸€åªèªæ˜åˆæ…µæ‡’çš„å°ç™½é¼ ï¼Œå®ƒæœ€æ“…é•¿çš„å°±æ˜¯èµ°å„ç§å„æ ·çš„è¿·å®«ã€‚\nä»Šå¤©å®ƒè¦æŒ‘æˆ˜ä¸€ä¸ªéå¸¸å¤§çš„è¿·å®«ï¼Œç ”ç©¶å‘˜ä»¬ä¸ºäº†é¼“åŠ±é˜¿å°”å‰ä¾¬å°½å¿«åˆ°è¾¾ç»ˆç‚¹ï¼Œå°±åœ¨ç»ˆç‚¹æ”¾äº†ä¸€å—é˜¿å°”å‰ä¾¬æœ€å–œæ¬¢çš„å¥¶é…ªã€‚\nç°åœ¨ç ”ç©¶å‘˜ä»¬æƒ³çŸ¥é“ï¼Œå¦‚æœé˜¿å°”å‰ä¾¬è¶³å¤Ÿèªæ˜ï¼Œå®ƒæœ€å°‘éœ€è¦å¤šå°‘æ—¶é—´å°±èƒ½åƒåˆ°å¥¶é…ªã€‚\nè¿·å®«ç”¨ä¸€ä¸ª RÃ—C çš„å­—ç¬¦çŸ©é˜µæ¥è¡¨ç¤ºã€‚\nå­—ç¬¦ S è¡¨ç¤ºé˜¿å°”å‰ä¾¬æ‰€åœ¨çš„ä½ç½®ï¼Œå­—ç¬¦ E è¡¨ç¤ºå¥¶é…ªæ‰€åœ¨çš„ä½ç½®ï¼Œå­—ç¬¦ # è¡¨ç¤ºå¢™å£ï¼Œå­—ç¬¦ . è¡¨ç¤ºå¯ä»¥é€šè¡Œã€‚\né˜¿å°”å‰ä¾¬åœ¨ 1 ä¸ªå•ä½æ—¶é—´å†…å¯ä»¥ä»å½“å‰çš„ä½ç½®èµ°åˆ°å®ƒä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ä¸Šçš„ä»»æ„ä¸€ä¸ªä½ç½®ï¼Œä½†ä¸èƒ½èµ°å‡ºåœ°å›¾è¾¹ç•Œã€‚\nè¾“å…¥æ ¼å¼ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ­£æ•´æ•° Tï¼Œè¡¨ç¤ºä¸€å…±æœ‰ T ç»„æ•°æ®ã€‚\næ¯ä¸€ç»„æ•°æ®çš„ç¬¬ä¸€è¡ŒåŒ…å«äº†ä¸¤ä¸ªç”¨ç©ºæ ¼åˆ†å¼€çš„æ­£æ•´æ•° R å’Œ Cï¼Œè¡¨ç¤ºåœ°å›¾æ˜¯ä¸€ä¸ª RÃ—C çš„çŸ©é˜µã€‚\næ¥ä¸‹æ¥çš„ R è¡Œæè¿°äº†åœ°å›¾çš„å…·ä½“å†…å®¹ï¼Œæ¯ä¸€è¡ŒåŒ…å«äº† C ä¸ªå­—ç¬¦ã€‚å­—ç¬¦å«ä¹‰å¦‚é¢˜ç›®æè¿°ä¸­æ‰€è¿°ã€‚ä¿è¯æœ‰ä¸”ä»…æœ‰ä¸€ä¸ª S å’Œ Eã€‚\nè¾“å‡ºæ ¼å¼å¯¹äºæ¯ä¸€ç»„æ•°æ®ï¼Œè¾“å‡ºé˜¿å°”å‰ä¾¬åƒåˆ°å¥¶é…ªçš„æœ€å°‘å•ä½æ—¶é—´ã€‚\nè‹¥é˜¿å°”å‰ä¾¬æ— æ³•åƒåˆ°å¥¶é…ªï¼Œåˆ™è¾“å‡ºâ€œoop!â€ï¼ˆåªè¾“å‡ºå¼•å·é‡Œé¢çš„å†…å®¹ï¼Œä¸è¾“å‡ºå¼•å·ï¼‰ã€‚\næ¯ç»„æ•°æ®çš„è¾“å‡ºç»“æœå ä¸€è¡Œã€‚\næ•°æ®èŒƒå›´1&lt;Tâ‰¤10,\n2â‰¤R,Câ‰¤200\nè¾“å…¥æ ·ä¾‹ï¼š33 4.S..###...E.3 4.S...E......3 4.S..####..E.\n\nè¾“å‡ºæ ·ä¾‹ï¼š51oop!\n\nACä»£ç #include &lt;iostream&gt;#include &lt;queue&gt;#include &lt;cstring&gt;using namespace std;#define x first#define y secondtypedef pair&lt;int,int&gt; PII;const int MAX = 202;char map[MAX][MAX]; //åœ°å›¾æ•°ç»„int dis[MAX][MAX];  //è·ç¦»æ•°ç»„int max_x,max_y;    //xæœ€å¤§å€¼ï¼Œyæœ€å¤§å€¼int moving[4][2] = &#123;&#123;0,1&#125;,&#123;0,-1&#125;,&#123;1,0&#125;,&#123;-1,0&#125;&#125;; //åç§»é‡bool isTrue(PII loc)&#123;    //åˆ¤æ–­æ˜¯å¦è¶Šç•Œæ˜¯å¦ä¸ºå¢™    return loc.x &gt;= 0 &amp;&amp; loc.x &lt; max_x &amp;&amp; loc.y &gt;= 0 &amp;&amp; loc.y &lt;max_y &amp;&amp; map[loc.x][loc.y] != &#x27;#&#x27;;&#125;//å®½æœ-bfs//bfsç®—æ³•ç±»ä¼¼äºå±‚æ¬¡éå†ç®—æ³•ï¼Œå°†éå†è¿‡çš„ä½ç½®ç”¨æ•°ç»„è®°å½•ï¼Œé˜²æ­¢é‡å¤éå†void bfs(PII start)&#123;\tmap[start.x][start.y] = &#x27;#&#x27;;    //å…ˆå°†èµ·å§‹ä½ç½®è®¾ä¸ºå·²ç»è®¿é—®    queue&lt;PII&gt; q;                   //å±‚æ¬¡éå†éœ€è¦ç”¨åˆ°æ•°ç»„    q.push(start);                  //å…ˆå°†èµ·å§‹èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—            while(!q.empty())&#123;        PII now = q.front();        //å–å‡ºé˜Ÿå¤´ï¼Œä¸ºå½“å‰æ‰€åœ¨èŠ‚ç‚¹        PII next;                   //å½“å‰èŠ‚ç‚¹å­èŠ‚ç‚¹        q.pop();                    //å°†å½“å‰å¯¹å¤´å‡ºé˜Ÿ               //éå†ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘        for(int i = 0; i &lt; 4; i++)&#123;            next.x = now.x + moving[i][0];            next.y = now.y + moving[i][1];                        if(isTrue(next))&#123;//åˆ¤æ–­å­èŠ‚ç‚¹æ˜¯å¦ç¬¦åˆè¦æ±‚                                if(map[next.x][next.y] == &#x27;.&#x27;)&#123;                    q.push(next);//ç¬¦åˆè¦æ±‚å°±å°†å­èŠ‚ç‚¹å…¥é˜Ÿ                    dis[next.x][next.y] = dis[now.x][now.y] + 1;//è®°å½•å­èŠ‚ç‚¹å±‚æ¬¡                    map[next.x][next.y] = &#x27;#&#x27;;//è®°å½•å­èŠ‚ç‚¹å·²ç»è®¿é—®                &#125;              \tif(map[next.x][next.y] == &#x27;E&#x27;)&#123;            \t    //å¦‚æœå­èŠ‚ç‚¹ä¸ºå‡ºå£åˆ™è¾“å‡ºç»“æœ                    cout&lt;&lt;dis[now.x][now.y]+1&lt;&lt;endl;                    return;                &#125;             &#125;       &#125;    &#125;    cout&lt;&lt;&quot;oop!&quot;&lt;&lt;endl;&#125;int main()&#123;    int n;    cin&gt;&gt;n;    int i = 0;    while(n--)&#123;        memset(map, &#x27;#&#x27;, sizeof(map));        memset(dis, 0, sizeof(dis));        PII start;        cin&gt;&gt;max_x&gt;&gt;max_y;        for(int i = 0; i &lt; max_x; i++)            cin&gt;&gt;map[i];        for(int i = 0; i &lt; max_x; i++)&#123;            for(int j = 0; j &lt; max_y; j++)&#123;                if(map[i][j] == &#x27;S&#x27;)&#123;                    start.x = i;                    start.y = j;                &#125;            &#125;        &#125;        bfs(start);    &#125;    return 0;&#125;\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","åˆ·é¢˜è®°å½•"],"tags":["æ•°æ®å’Œç»“æ„ä¸ç®—æ³•","æ‰“å¡","bfs"]},{"title":"CodeforcesRound791(Div2)","url":"/2022/05/fa03b3b7bd99.html","content":"\né¢˜ç›®æ¥æºhttps://codeforces.com/contest/1679\n\nç¬¬ä¸€é¢˜é¢˜æ„æœ‰ä¸¤ç§ç±»å‹çš„è½¦ï¼šä¸¤è½´è½¦ï¼Œä¸‰è½´è½¦ã€‚ä¸€ä¸ªè½´èƒ½è¿æ¥ä¸¤ä¸ªè½®èƒï¼Œé¢˜ç›®ç»™nä¸ªè½®èƒï¼Œè®¡ç®—æœ€å°‘å¯ä»¥ç»„æˆå¤šå°‘è¾†è½¦ï¼Œæœ€å¤šå¯ä»¥ç»„æˆå¤šå°‘è¾†è½¦ã€‚å¦‚æœç»™çš„nä¸èƒ½ç»„æˆè¾“å‡º-1\næ€è·¯æ— è®ºæ˜¯ä¸¤è½´è¿˜æ˜¯ä¸‰è½´è½¦ï¼Œç”±äºæ¯ä¸ªè½´åªèƒ½è¿æ¥2ä¸ªè½®èƒï¼Œæ‰€ä»¥è½®èƒå¿…ç„¶æ˜¯å¶æ•°ï¼Œå¥‡æ•°å¿…ç„¶ä¸æ»¡è¶³è¦æ±‚ã€‚é¦–å…ˆå°†è½®èƒè½¬æ¢æˆè½´æ•°ï¼Œå³è½´æ•°&#x3D;n&#x2F;2ã€‚å¯¹äºæœ€å¤§å€¼ï¼Œæˆ‘ä»¬å°½é‡å…ˆç»„äºŒè½´è½¦,å‰©ä¸‹çš„è½´æ•°å¯èƒ½ä¸º0æˆ–è€…ä¸º1ï¼Œå¦‚æœä¸º0åˆ™ä»£è¡¨åˆšå¥½å¯ä»¥å…¨éƒ¨ç»„æˆ2è½´è½¦ï¼Œå¦‚æœä¸º1åˆ™å¯ä»¥æ‹†ä¸€è¾†äºŒè½´è½¦ç»„æˆä¸‰è½´è½¦å¯¹äºæœ€å°å€¼ï¼Œæˆ‘ä»¬å°½é‡å…ˆç»„æˆä¸‰è½´è½¦ï¼Œå‰©ä¸‹çš„è½´æ•°å¯èƒ½ä¸º0,1,2ï¼Œå¦‚æœä¸º0åˆ™åˆšå¥½ç»„æˆï¼Œä¸º1åˆ™æ‹†ä¸€è¾†ä¸‰è½´ç»„æˆä¸¤è¾†äºŒè½´è½¦ï¼Œå¦‚æœä¸º2åˆ™è‡ªè¡Œç»„æˆä¸€è¾†äºŒè½´è½¦ã€‚æ³¨ï¼šè½®èƒæ•°å°äºç­‰äº4æ—¶è¦ç‰¹æ®Šè€ƒè™‘ï¼Œå½“nç­‰äº4è®¡ç®—å‡ºæ¥çš„ç»“æœæ°å¥½ç¬¦åˆç­”æ¡ˆï¼Œæ‰€ä»¥ä¸ç”¨å•ç‹¬è€ƒè™‘ã€‚å½“nå°äº4æ—¶ä¹Ÿæ˜¯æ— æ³•ç»„æˆä»»ä½•ä¸€ç§è½¦æ‰€ä»¥è¾“å‡º-1\nä»£ç #include &lt;iostream&gt;using namespace std;int main()&#123;    int t;    cin&gt;&gt;t;    while(t--)&#123;        long long n;        cin&gt;&gt;n;        if(n%2 !=0 || n&lt; 4)&#123;            cout&lt;&lt;-1&lt;&lt;endl;        &#125;else&#123;            long long minans = 0;             long long maxans = 0;            n/=2;            //è½´æ•°n;            if(n%2 == 1)&#123;                maxans = n/2-1+1;            &#125;else&#123;                maxans = n/2;            &#125;            if(n%3 == 1)&#123;                minans = n/3-1+2;            &#125;else if(n%3 == 2)&#123;                minans = n/3+1;            &#125;else&#123;                minans = n/3;            &#125;            cout&lt;&lt;minans&lt;&lt;&quot; &quot;&lt;&lt;maxans&lt;&lt;endl;        &#125;    &#125;    return 0;&#125;\nç¬¬äºŒé¢˜é¢˜æ„ç»™ä¸€ä¸ªåŒ…å«nä¸ªæ•°çš„æ•°ç»„ï¼Œå¯¹æ•°ç»„æ‰§è¡Œqæ¬¡æ“ä½œã€‚æ“ä½œåˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š\n\nå°†æ•°ç»„ä¸­ç¬¬iä¸ªå…ƒç´ æ”¹ä¸ºx\nå°†æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ æ”¹ä¸ºx\n\næ¯ä¸€æ¬¡æ“ä½œåè¾“å‡ºæ•°ç»„çš„å’Œã€‚\næ€è·¯æœ€æš´åŠ›çš„æ–¹æ³•æ˜¯ï¼š\n\nå¯¹äºæ¯ä¸€ä¸ªæ“ä½œéƒ½æ›´æ–°æ•°ç»„ä¸­çš„æ•°(æ“ä½œ1æ˜¯O(1)çš„æ“ä½œ2æ˜¯O(N))\nå¯¹æ•°ç»„æ±‚å’Œ(O(N))\n\nä¸€å…±æœ‰næ¬¡æ“ä½œæ‰€ä»¥å¿…ç„¶è¶…æ—¶ã€‚åœ¨æ­¤æ–¹æ³•ä¸Šå¯¹æ±‚å’Œæ­¥éª¤è¿›è¡Œä¼˜åŒ–ï¼š\n\nä¿ç•™ä¸Šæ¬¡æ“ä½œçš„sum(å’Œ)ã€‚\nå¯¹äºæ“ä½œ1ï¼Œæ–°çš„sumåªéœ€è¦åŠ ä¸Šç¬¬_iä½æœ¬æ¬¡è¦ä¿®æ”¹çš„å€¼å‡å»_ä¸Šæ¬¡ä¿®æ”¹åçš„å€¼ã€‚\nå¯¹äºæ“ä½œ2ï¼Œæ–°çš„sumæ˜¯n*xã€‚\n\nä¼˜åŒ–æ›´æ–°æ“ä½œï¼šæ“ä½œ2æ›´æ–°æ•´ä¸ªæ•°ç»„çš„å€¼å¿…ç„¶ä¼šé€ æˆè¶…æ—¶ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼˜åŒ–ä¸€ä¸‹åªéœ€è¦è®°å½•æ“ä½œ2æ‰§è¡Œäº†countæ¬¡ï¼Œä¿å­˜æ•´ä¸ªæ•°ç»„è¦ä¿®æ”¹çš„å€¼xï¼Œä»¥åŠè®°å½•æ•°ç»„æ¯ä¸ªå…ƒç´ æ‰§è¡Œäº†å¤šå°‘æ¬¡æ“ä½œ2ã€‚å½“æ“ä½œ1è¦æŸ¥è¯¢ä¸Šæ¬¡ä¿®æ”¹åçš„å€¼æ¥æ›´æ–°sumæ—¶ï¼Œå…ˆæŸ¥è¯¢iå…ƒç´ æ‰§è¡Œäº†å‡ æ¬¡æ“ä½œ2å’Œcountè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰è¯´æ˜iå…ƒç´ å·²ç»è¿›è¡Œäº†æœ€æ–°æ¬¡çš„æ“ä½œ2é‚£ä¹ˆè¯¥å…ƒç´ æ‰€å­˜çš„å€¼å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„å€¼ï¼Œå› æ­¤ç›´æ¥æŒ‰ç…§æ“ä½œ1çš„æ±‚å’Œæ¥æ›´æ–°sumï¼Œå¦‚æœä¸ç›¸ç­‰è¯´æ˜iå…ƒç´ æœªè¿›è¡Œæœ€æ–°æ¬¡çš„æ“ä½œ2ï¼Œé‚£ä¹ˆå®ƒä¸Šæ¬¡æ“ä½œåçš„å€¼ä¸ºæœ€æ–°æ¬¡æ“ä½œ2æ‰€ä¿®æ”¹çš„å€¼xï¼Œç”¨xæŒ‰ç…§æ“ä½œ1çš„æ±‚å’Œæ›´æ–°sumã€‚æ•´ä¸ªæ“ä½œ1ç»“æŸåæ›´æ–° iä½çš„å€¼ã€‚ä¼˜åŒ–åä¸ºO(N)\nä»£ç #include &lt;iostream&gt;#include &lt;map&gt;using namespace std;const int N = 200005;long long nums[N];map&lt;int ,int&gt; m;long long now_cnt;long long now[N];int main()&#123;    int n,q;    cin&gt;&gt;n&gt;&gt;q;    long long sum = 0;    for(int i = 1; i&lt;= n;i++)&#123;        cin&gt;&gt;nums[i];        sum+=nums[i];    &#125;        for(int i = 0;i&lt;q;i++)&#123;                long long a,b,c;        cin&gt;&gt;a;        if(a == 1)&#123;            cin&gt;&gt;b&gt;&gt;c;            if(now_cnt == m[b])&#123;                sum+=c-nums[b];            &#125;else&#123;                sum+=c-now[now_cnt];            &#125;            nums[b] = c;            m[b] = now_cnt;        &#125;else&#123;            cin&gt;&gt;b;            now_cnt++;            now[now_cnt] = b;            sum = n*b;        &#125;        cout&lt;&lt;sum&lt;&lt;endl;    &#125;        return 0;&#125;\nç¬¬ä¸‰é¢˜é¢˜æ„æ€è·¯ä»£ç ç¬¬å››é¢˜é¢˜æ„æ€è·¯ä»£ç ç¬¬äº”é¢˜é¢˜æ„æ€è·¯ä»£ç ç¬¬å…­é¢˜é¢˜æ„æ€è·¯ä»£ç ","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","åˆ·é¢˜è®°å½•"],"tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•"]},{"title":"äº¤æ¢ç“¶å­","url":"/2021/11/e35993db4acf.html","content":"é¢˜ç›®æ¥æºhttps://www.acwing.com/problem/content/1226/\n\né¢˜ç›®æœ‰ N ä¸ªç“¶å­ï¼Œç¼–å· 1âˆ¼Nï¼Œæ”¾åœ¨æ¶å­ä¸Šã€‚\næ¯”å¦‚æœ‰ 5 ä¸ªç“¶å­ï¼š\n2 1 3 5 4\n\nè¦æ±‚æ¯æ¬¡æ‹¿èµ· 2 ä¸ªç“¶å­ï¼Œäº¤æ¢å®ƒä»¬çš„ä½ç½®ã€‚\nç»è¿‡è‹¥å¹²æ¬¡åï¼Œä½¿å¾—ç“¶å­çš„åºå·ä¸ºï¼š\n1 2 3 4 5\n\nå¯¹äºè¿™ä¹ˆç®€å•çš„æƒ…å†µï¼Œæ˜¾ç„¶ï¼Œè‡³å°‘éœ€è¦äº¤æ¢ 2 æ¬¡å°±å¯ä»¥å¤ä½ã€‚\nå¦‚æœç“¶å­æ›´å¤šå‘¢ï¼Ÿä½ å¯ä»¥é€šè¿‡ç¼–ç¨‹æ¥è§£å†³ã€‚\nè¾“å…¥æ ¼å¼ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° Nï¼Œè¡¨ç¤ºç“¶å­æ•°é‡ã€‚\nç¬¬äºŒè¡ŒåŒ…å« N ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºç“¶å­ç›®å‰çš„æ’åˆ—çŠ¶å†µã€‚\nè¾“å‡ºæ ¼å¼è¾“å‡ºä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºè‡³å°‘äº¤æ¢å¤šå°‘æ¬¡ï¼Œæ‰èƒ½å®Œæˆæ’åºã€‚\næ•°æ®èŒƒå›´1â‰¤Nâ‰¤10000\nè¾“å…¥æ ·ä¾‹153 1 2 5 4\n\nè¾“å‡ºæ ·ä¾‹13\n\nè¾“å…¥æ ·ä¾‹255 4 3 2 1\n\nè¾“å‡ºæ ·ä¾‹22\n\nACä»£ç è´ªå¿ƒ\nç”¨è´ªå¿ƒçš„æ€æƒ³ï¼š\n\n\næ ¹æ®é¢˜æ„å¯çŸ¥ï¼Œæ‰€ç»™ä¸€ä¸ªNï¼Œé‚£ä¹ˆå°±å¿…ç„¶åŒ…å«1-nè¿™nä¸ªæ•°å­—ï¼Œè¿˜è¦æ±‚é€’å¢ï¼Œå› æ­¤å…¶æ•°å­—åº”è¯¥ä¸ä¸‹æ ‡å¯¹åº”ï¼ˆä¸‹æ ‡0ä¸å­˜å‚¨æ•°æ®ï¼‰ï¼Œæ„æ€å°±æ˜¯æ•°å­—1å¿…é¡»åœ¨1è¿™ä¸ªä¸‹æ ‡ä½ç½®ï¼Œæ•°å­—2å¿…é¡»åœ¨2è¿™ä¸ªä¸‹æ ‡ä½ç½®ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥å¯¹å…ƒç´ äº’æ¢ã€‚äº’æ¢æ¬¡æ•°å°±æ˜¯æ‰€æ±‚ç­”æ¡ˆ\n\n\næ ·ä¾‹åˆ†æï¼š\n\n\n3ï¼Œ1ï¼Œ2ï¼Œ5ï¼Œ4 ç¬¬ä¸€ä¸ªæ•°å­—æ˜¯3ï¼Œå®ƒæœ¬åº”è¯¥åœ¨ä¸‹æ ‡ä¸º3çš„ä½ç½®ï¼Œä½†æ˜¯å´åœ¨ä¸‹æ ‡ä¸º1è¿™ä¸ªä½ç½®ï¼Œæ— è®ºæˆ‘ä»¬æ€ä¹ˆäº¤æ¢ï¼Œæ•°å­—3æœ€ç»ˆä¼šåœ¨3è¿™ä¸ªä½ç½®ï¼Œæœ€ç»ˆç»“æœä¸€æ ·ï¼Œæˆ‘ä»¬æ€æ ·ä¿è¯æœ€å°‘æ¬¡äº¤æ¢æ¬¡æ•°è®©å…¶åœ¨å®ƒæœ¬åº”è¯¥åœ¨çš„ä½ç½®å‘¢ï¼Ÿæ˜¾ç„¶æˆ‘ä»¬ç›´æ¥å°†3æ”¾åœ¨ä¸‹æ ‡3çš„ä½ç½®ï¼Œä¸åŸæ¥ä¸‹æ ‡3ä½ç½®çš„å…ƒç´ è¿›è¡Œäº¤æ¢å³å¯ï¼Œæ‰€ä»¥3å’Œ2äº¤æ¢ï¼Œç¬¬ä¸€ä½æ˜¯2ï¼Œ2åˆå’Œ1äº¤æ¢ï¼Œç°åœ¨æ•°ç»„å˜æˆ1ï¼Œ2ï¼Œ3ï¼Œ5ï¼Œ4ï¼Œæˆ‘ä»¬ç»§ç»­éå†åˆ°5ï¼Œç„¶å5å’Œ4è¿›è¡Œäº¤æ¢ã€‚æ€»äº¤æ¢æ¬¡æ•°3\n\n#include &lt;iostream&gt;using namespace std;const int MAX = 10004;int main()&#123;    int n,res = 0;    int num[MAX];    cin&gt;&gt;n;    for(int i = 1; i &lt;= n; i++) cin&gt;&gt;num[i];    //æšä¸¾å¦‚æœç¬¬iä½çš„å€¼æ˜¯å¦åœ¨å…¶æ‰€åœ¨ä½ç½®    for(int i = 1; i &lt;= n; i++)&#123;        int temp;        while(num[i] != i)&#123;            //ä¸åœ¨å°±äº¤æ¢ä½ç½®            temp = num[i];            num[i] = num[temp];            num[temp] = temp;            res++;        &#125;    &#125;    cout&lt;&lt;res&lt;&lt;endl;    return 0;&#125;\n\nå›¾\nå¯ä»¥å°†æ•°ç»„è½¬æ¢æˆå›¾ï¼Œæˆ‘ä»¬æŠŠä»¥äº¤æ¢é¡ºåºä¸ºè¾¹ä½œå›¾ï¼ˆä¸Šé¢é‚£ç§æ–¹æ³•åˆ†æäº†å®é™…ä¸Šå°±æ˜¯æ•°å­—åº”è¯¥ä¸å…¶ä¸‹æ ‡å¯¹åº”ï¼Œæ‰€ä»¥æ˜¯3å°±è¦å’Œä¸‹æ ‡ä¸º3çš„å…ƒç´ äº’æ¢ï¼‰ï¼Œç›´æ¥æ ·ä¾‹åˆ†æï¼š3ï¼Œ1ï¼Œ2ï¼Œ5ï¼Œ4ï¼š3-&gt;2-&gt;1&gt;3è¿™æ˜¯ä¸€ä¸ªç¯ï¼Œ5-&gt;4-&gt;5è¿™æ˜¯ä¸€ä¸ªç¯ã€‚æˆ‘ä»¬æœ€ç»ˆè¦å°†æ•°ç»„ææˆå‡åºä¹Ÿå°±æ˜¯ï¼š1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œè½¬æ¢ä¸ºå›¾å…¶å®å°±æ˜¯1-&gt;1,2-&gt;2,3-&gt;3,4-&gt;4,5-&gt;5ã€‚ä¹Ÿå°±æ˜¯ä»ä¸Šé¢2ä¸ªç¯è½¬æ¢æˆ5ä¸ªè‡ªç¯ã€‚å¯¹äºä¸€ä¸ªç¯ï¼ˆ3ï¼Œ1ï¼Œ2ï¼‰ï¼Œæˆ‘ä»¬ä»»æ„äº¤æ¢ä¸€å¯¹ï¼ˆ1ï¼Œ2ï¼‰çº¿æ€§ç»“æœä¸º3ï¼Œ2ï¼Œ1ï¼Œç¯ä¸º3â€“&gt;1-&gt;3,2-&gt;2.1ä¸ªç¯è£‚æˆäº†2ä¸ªç¯ï¼Œå†äº¤æ¢ä¸€æ¬¡3-&gt;1-&gt;3è¿™ä¸ªç¯ï¼Œåˆåˆ†ä¸€ä¸ªç¯å‡ºæ¥ï¼Œæœ€ç»ˆï¼ˆ3ï¼Œ1ï¼Œ2ï¼‰è¿™ä¸ªä¸‰ä¸ªå…ƒç´ ç»„æˆçš„ç¯æ“ä½œä¸¤æ¬¡å˜æˆå…¨è‡ªç¯ã€‚å¯¹äºï¼ˆ5ï¼Œ4ï¼‰è¿™ä¸¤ä¸ªå…ƒç´ ç»„æˆçš„ç¯ï¼Œäº¤æ¢ä¸€æ¬¡å³å¯ã€‚å¯¹äºä¸€ä¸ªç¯ï¼Œæœ‰3ä¸ªå…ƒç´ ï¼Œæ“ä½œ2æ¬¡ï¼Œæœ‰2ä¸ªå…ƒç´ æ“ä½œ1æ¬¡ã€‚ç»¼åˆæ¥è¯´å¯¹äºä¸¤ä¸ªç¯ï¼Œæœ‰3+2äº”ä¸ªå…ƒç´ ï¼Œæ“ä½œäº†2+1æ¬¡ï¼Œ5ä¸ªå…ƒç´ æ“ä½œäº†3æ¬¡ï¼Œå¤šä¸¾å‡ ä¸ªä¾‹å­å°±å¯ä»¥å¾—åˆ°ï¼Œå…ƒç´ æ•°é‡-æ“ä½œæ¬¡æ•°&#x3D;ç¯æ•°ï¼Œæ‰€ä»¥ï¼Œå…ƒç´ æ•°é‡-ç¯æ•° &#x3D;æ“ä½œæ¬¡æ•°ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦çœ‹æœ‰å¤šå°‘ä¸ªç¯å°±è¡Œ\n\n#include &lt;iostream&gt;using namespace std;const int MAX = 10004;bool v[MAX];//è®°å½•æ˜¯å¦éå†è¿‡int num[MAX];int main()&#123;    int n,res = 0;    cin&gt;&gt;n;    for(int i = 1; i &lt;= n; i++) cin&gt;&gt;num[i];        for(int i = 1; i &lt;= n; i++)&#123;        if(!v[num[i]])&#123;\t//å¦‚æœç¬¬iä¸ªä½ç½®çš„æ•°ç»„æ²¡æœ‰éå†åˆ™å°±æ˜¯ä¸€ä¸ªæ–°ç¯            res++;//ç¯æ•°++            for(int j = num[i]; !v[j]; j = num[j])&#123;                v[j] = true;\t//å¾ªç¯éå†ï¼Œéå†çš„å…ƒç´ è®¾ä¸ºt            &#125;        &#125;    &#125;    cout&lt;&lt;n-res&lt;&lt;endl;    return 0;&#125;\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","åˆ·é¢˜è®°å½•"],"tags":["æ•°æ®å’Œç»“æ„ä¸ç®—æ³•","æ‰“å¡"]},{"title":"ä¼˜å…ˆé˜Ÿåˆ—-è´Ÿè½½å‡è¡¡","url":"/2021/11/f71cbcac6047.html","content":"\né¢˜ç›®ç”¨åˆ°äº†ä¼˜å…ˆé˜Ÿåˆ—çš„ä¸€äº›æ“ä½œï¼Œå¦‚æœçŸ¥é“æ“ä½œå°±æ¯”è¾ƒç®€å•äº†ï¼Œæ‰€ä»¥æœ‰å¿…è¦è®°å½•ä¸€ä¸‹ã€‚\n\né¢˜ç›®æ¥æºwww.acwing.com/problem/content/3495/\n\né¢˜ç›®æœ‰ n å°è®¡ç®—æœºï¼Œç¬¬ i å°è®¡ç®—æœºçš„è¿ç®—èƒ½åŠ›ä¸º$ v_i$ã€‚\næœ‰ä¸€ç³»åˆ—çš„ä»»åŠ¡è¢«æŒ‡æ´¾åˆ°å„ä¸ªè®¡ç®—æœºä¸Šï¼Œç¬¬ i ä¸ªä»»åŠ¡åœ¨ $a_i$ æ—¶åˆ»åˆ†é…ï¼ŒæŒ‡å®šè®¡ç®—æœºç¼–å·ä¸º $b_i$ï¼Œè€—æ—¶ä¸º $c_i$ ä¸”ç®—åŠ›æ¶ˆè€—ä¸º $d_i$ã€‚\nå¦‚æœæ­¤ä»»åŠ¡æˆåŠŸåˆ†é…ï¼Œå°†ç«‹åˆ»å¼€å§‹è¿è¡Œï¼ŒæœŸé—´æŒç»­å ç”¨ bi å·è®¡ç®—æœº $d_i$ çš„ç®—åŠ›ï¼ŒæŒç»­ $c_i$ ç§’ã€‚\nå¯¹äºæ¯æ¬¡ä»»åŠ¡åˆ†é…ï¼Œå¦‚æœè®¡ç®—æœºå‰©ä½™çš„è¿ç®—èƒ½åŠ›ä¸è¶³åˆ™è¾“å‡º âˆ’1ï¼Œå¹¶å–æ¶ˆè¿™æ¬¡åˆ†é…ï¼Œå¦åˆ™è¾“å‡ºåˆ†é…å®Œè¿™ä¸ªä»»åŠ¡åè¿™å°è®¡ç®—æœºçš„å‰©ä½™è¿ç®—èƒ½åŠ›ã€‚\n\nè¾“å…¥æ ¼å¼è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° n,mï¼Œåˆ†åˆ«è¡¨ç¤ºè®¡ç®—æœºæ•°ç›®å’Œè¦åˆ†é…çš„ä»»åŠ¡æ•°ã€‚\nç¬¬äºŒè¡ŒåŒ…å« n ä¸ªæ•´æ•°$ v_1,v_2,â‹…â‹…â‹…v_n$ï¼Œåˆ†åˆ«è¡¨ç¤ºæ¯ä¸ªè®¡ç®—æœºçš„è¿ç®—èƒ½åŠ›ã€‚\næ¥ä¸‹æ¥ m è¡Œæ¯è¡Œ 4 ä¸ªæ•´æ•° $a_i,b_i,c_i,d_i$ï¼Œæ„ä¹‰å¦‚ä¸Šæ‰€è¿°ã€‚æ•°æ®ä¿è¯ $a_i$ ä¸¥æ ¼é€’å¢ï¼Œå³ $a_i&lt;a_i+1$ã€‚\n\nè¾“å‡ºæ ¼å¼è¾“å‡º m è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•°ï¼Œå¯¹åº”æ¯æ¬¡ä»»åŠ¡åˆ†é…çš„ç»“æœã€‚\n\næ•°æ®èŒƒå›´å¯¹äº 20% çš„è¯„æµ‹ç”¨ä¾‹ï¼Œ$n,mâ‰¤200$ã€‚\nå¯¹äº 40% çš„è¯„æµ‹ç”¨ä¾‹ï¼Œ$n,mâ‰¤2000$ã€‚\nå¯¹äºæ‰€æœ‰è¯„æµ‹ç”¨ä¾‹ï¼Œ$1â‰¤n,mâ‰¤200000ï¼Œ$$1â‰¤a_i,c_i,d_i,v_iâ‰¤10^9$ï¼Œ$1â‰¤b_iâ‰¤n$ã€‚\n\nè¾“å…¥æ ·ä¾‹ï¼š5 51 1 5 32 2 2 63 1 2 34 1 6 15 1 3 36 1 3 4\n\n\nè¾“å‡ºæ ·ä¾‹ï¼š2-1-11-10\n\n\næ ·ä¾‹è§£é‡Šæ—¶åˆ» 1ï¼Œç¬¬ 1 ä¸ªä»»åŠ¡è¢«åˆ†é…åˆ°ç¬¬ 1 å°è®¡ç®—æœºï¼Œè€—æ—¶ä¸º 5ï¼Œè¿™ä¸ªä»»åŠ¡æ—¶åˆ» 6 ä¼šç»“æŸï¼Œå ç”¨è®¡ç®—æœº 1 çš„ç®—åŠ› 3ã€‚\næ—¶åˆ» 2ï¼Œç¬¬ 2 ä¸ªä»»åŠ¡éœ€è¦çš„ç®—åŠ›ä¸è¶³ï¼Œæ‰€ä»¥åˆ†é…å¤±è´¥äº†ã€‚\næ—¶åˆ» 3ï¼Œç¬¬ 1 ä¸ªè®¡ç®—æœºä»ç„¶æ­£åœ¨è®¡ç®—ç¬¬ 1 ä¸ªä»»åŠ¡ï¼Œå‰©ä½™ç®—åŠ›ä¸è¶³ 3ï¼Œæ‰€ä»¥å¤±è´¥ã€‚\næ—¶åˆ» 4ï¼Œç¬¬ 1 ä¸ªè®¡ç®—æœºä»ç„¶æ­£åœ¨è®¡ç®—ç¬¬ 1 ä¸ªä»»åŠ¡ï¼Œä½†å‰©ä½™ç®—åŠ›è¶³å¤Ÿï¼Œåˆ†é…åå‰©ä½™ç®—åŠ› 1ã€‚\næ—¶åˆ» 5ï¼Œç¬¬ 1 ä¸ªè®¡ç®—æœºä»ç„¶æ­£åœ¨è®¡ç®—ç¬¬ 1,4 ä¸ªä»»åŠ¡ï¼Œå‰©ä½™ç®—åŠ›ä¸è¶³ 4ï¼Œå¤±è´¥ã€‚\næ—¶åˆ» 6ï¼Œç¬¬ 1 ä¸ªè®¡ç®—æœºä»ç„¶æ­£åœ¨è®¡ç®—ç¬¬ 4 ä¸ªä»»åŠ¡ï¼Œå‰©ä½™ç®—åŠ›è¶³å¤Ÿï¼Œä¸”æ°å¥½ç”¨å®Œã€‚\n\nACä»£ç #include &lt;iostream&gt;#include &lt;queue&gt;using namespace std;const int MAX = 200005;typedef pair&lt;int,int&gt; PII;  //åŠ å…¥çš„å·¥ä½œï¼Œå­˜å‚¨å½¢å¼ä¸º&lt;ç»“æŸæ—¶åˆ»ï¼Œç®—åŠ›&gt;ï¼Œå‰ä¸€ä¸ªå‚æ•°å­˜æ”¾ç»“æŸæ—¶åˆ»ï¼Œåä¸€ä¸ªå‚æ•°å­˜æ”¾å ç”¨çš„ç®—åŠ›int computer[MAX];          //ç»´æŠ¤ä¸€ä¸ªç”µè„‘ç®—åŠ›æ•°ç»„priority_queue&lt;PII,vector&lt;PII&gt;,greater&lt;PII&gt;&gt; pq[MAX];//ä¼˜å…ˆé˜Ÿåˆ—æ•°ç»„ï¼Œä¸ºæ¯ä¸ªç”µè„‘ç›®æ ‡åˆ›å»ºä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—å­˜å–åŠ å…¥çš„PIIç±»å‹çš„å·¥ä½œint main()&#123;    int n,m;    cin&gt;&gt;n&gt;&gt;m;    for(int i = 1; i &lt;= n; i++) &#123;        cin&gt;&gt;computer[i];    &#125;    int a,aim,usetime,usev; //æ—¶åˆ»ï¼Œç›®æ ‡ï¼Œæ¶ˆè€—æ—¶é—´ï¼Œæ¶ˆè€—ç®—åŠ›    while(m--) &#123;        cin&gt;&gt;a&gt;&gt;aim&gt;&gt;usetime&gt;&gt;usev;        //å¾ªç¯å¤„ç†è¯¥ç›®æ ‡ç”µè„‘çš„å·¥ä½œï¼Œå¦‚æœå·¥ä½œç»“æŸæ—¶é—´&lt;=è¯¥æ—¶åˆ»åˆ™æ¢å¤ç®—åŠ›æ¸…é™¤è¿™ä¸€å·¥ä½œ        while(pq[aim].size() &amp;&amp; (pq[aim].top().first &lt;= a))&#123;            computer[aim]+=pq[aim].top().second;//æ¢å¤ç®—åŠ›            pq[aim].pop();//å¼¹å‡ºä»»åŠ¡        &#125;        //å¤„ç†å®Œåï¼Œåˆ¤æ–­å½“å‰å®‰æ’çš„å·¥ä½œæ˜¯å¦è¿˜å¯ä»¥æ‰§è¡Œ        if(computer[aim] &gt;= usev)&#123;            pq[aim].push(&#123;a+usetime,usev&#125;);//åŠ å…¥ä»»åŠ¡            computer[aim]-=usev;//æ›´æ–°ç®—åŠ›            cout&lt;&lt;computer[aim]&lt;&lt;endl;        &#125;else&#123;            cout&lt;&lt;-1&lt;&lt;endl;        &#125;    &#125;    return 0;&#125;\n\nä¼˜å…ˆé˜Ÿåˆ—\nä¼˜å…ˆé˜Ÿåˆ—è™½ç„¶ç§°ä¸ºé˜Ÿåˆ—ï¼Œä½†å…¶åº•å±‚å®ç°åŸç†æ˜¯åŸºäºå †çš„è®¾è®¡æ€æƒ³ï¼Œè¿˜æ²¡è¯¦ç»†å­¦ï¼Œè¿™é‡Œå…ˆç²—ç•¥çš„è®°å½•ä¸‹åŸºç¡€æ“ä½œï¼Œä¹‹åå­¦äº†å†æ›´æ–°\n\n\næ‰€åœ¨åº“:queue\n\næ“ä½œå’Œé˜Ÿåˆ—ç›¸ä¼¼\n\nc++ä¸­çš„å®šä¹‰ priority_queue&lt; æ•°æ®ç±»å‹ï¼Œå®¹å™¨(vector&lt;&gt;),æ’åºæ–¹å¼(greater&lt;&gt;,less&lt;&gt;)&gt;\n\ngreater&lt;&gt;å¤§é¡¶å †-é™åº\nless&lt;&gt;å°é¡¶å †-å‡åº\n\n\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","åˆ·é¢˜è®°å½•"],"tags":["æ•°æ®å’Œç»“æ„ä¸ç®—æ³•","æ‰“å¡","ä¼˜å…ˆé˜Ÿåˆ—","å †"]},{"title":"åˆ†è§£è´¨å› æ•°-æ±‚å®Œå…¨å¹³æ–¹æ•°","url":"/2021/11/ab2bbf7325e0.html","content":"é¢˜ç›®æ¥æºwww.acwing.com/problem/content/3493/\n\né¢˜ç›®ä¸€ä¸ªæ•´æ•° a æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼Œæ˜¯æŒ‡å®ƒæ˜¯æŸä¸€ä¸ªæ•´æ•°çš„å¹³æ–¹ï¼Œå³å­˜åœ¨ä¸€ä¸ªæ•´æ•° bï¼Œä½¿å¾—$ a&#x3D;b^ 2$\nç»™å®šä¸€ä¸ªæ­£æ•´æ•° nï¼Œè¯·æ‰¾åˆ°æœ€å°çš„æ­£æ•´æ•° xï¼Œä½¿å¾—å®ƒä»¬çš„ä¹˜ç§¯æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ã€‚\n\nè¾“å…¥æ ¼å¼è¾“å…¥ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•° nã€‚\n\nè¾“å‡ºæ ¼å¼è¾“å‡ºæ‰¾åˆ°çš„æœ€å°çš„æ­£æ•´æ•° xã€‚\n\næ•°æ®èŒƒå›´å¯¹äº 30% çš„è¯„æµ‹ç”¨ä¾‹ï¼Œ$1â‰¤nâ‰¤1000$ï¼Œç­”æ¡ˆä¸è¶…è¿‡ $1000$ã€‚\nå¯¹äº 60% çš„è¯„æµ‹ç”¨ä¾‹ï¼Œ$1â‰¤nâ‰¤10^8$ï¼Œç­”æ¡ˆä¸è¶…è¿‡ $10^8$ã€‚\nå¯¹äºæ‰€æœ‰è¯„æµ‹ç”¨ä¾‹ï¼Œ$1â‰¤nâ‰¤10^{12}$ï¼Œç­”æ¡ˆä¸è¶…è¿‡ $10^{12}$ã€‚\n\nè¾“å…¥æ ·ä¾‹112\n\n\nè¾“å‡ºæ ·ä¾‹13\n\n\nè¾“å…¥æ ·ä¾‹215\n\n\nè¾“å‡ºæ ·ä¾‹215\n\n\nACä»£ç \nç”¨åˆ°äº†åˆ†è§£è´¨å› æ•°æ“ä½œè¿˜æ˜¯æœ‰å¿…è¦è®°å½•ä»¥ä¸‹ï¼Œè¯´ä¸€ä¸‹é¢˜ç›®æ€è·¯ã€‚ä»¥æ ·ä¾‹åˆ†æï¼Œæ ·ä¾‹ç»™çš„12æ±‚ä¸€ä¸ªæ•°ä¹˜ä»¥12æ˜¯å®Œå…¨å¹³æ–¹æ•°ï¼Œæˆ‘ä»¬æŠŠ12è¿›è¡Œåˆ†è§£$32^2&#x3D;12$ ï¼Œæˆ‘ä»¬åªéœ€è¦è¡¥ä¸€ä¸ªè´¨å› æ•°3å°±å¯ä»¥å˜æˆå®Œå…¨å¹³æ–¹æ•°$3^22^2&#x3D;36$äº†\n\n#include &lt;iostream&gt;using namespace std;typedef long long LL;int main()&#123;    LL n;    cin&gt;&gt;n;    LL res = 1;    //åˆ†è§£è´¨å› æ•°    for(LL i = 2;i*i&lt;=n;i++)&#123;        int s = 0;        while(n%i == 0)&#123;            s++;            n/=i;        &#125;        if(s%2) res*=i;    &#125;    if(n&gt;1) res*=n;    cout&lt;&lt;res&lt;&lt;endl;    return 0;&#125;\n\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","åˆ·é¢˜è®°å½•"],"tags":["æ•°æ®å’Œç»“æ„ä¸ç®—æ³•","æ‰“å¡"]},{"title":"åè½¬é“¾è¡¨","url":"/2021/11/b66198f70862.html","content":"é¢˜ç›®æ¥æºwww.acwing.com/problem/content/33/\né¢˜ç›®å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸€ä¸ªé“¾è¡¨çš„å¤´ç»“ç‚¹ï¼Œåè½¬è¯¥é“¾è¡¨å¹¶è¾“å‡ºåè½¬åé“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚\næ€è€ƒé¢˜è¯·åŒæ—¶å®ç°è¿­ä»£ç‰ˆæœ¬å’Œé€’å½’ç‰ˆæœ¬ã€‚\næ ·ä¾‹è¾“å…¥:1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULLè¾“å‡º:5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;NULL\n\n\nACä»£ç /** * Definition for singly-linked list. * struct ListNode &#123; *     int val; *     ListNode *next; *     ListNode(int x) : val(x), next(NULL) &#123;&#125; * &#125;; */class Solution &#123;public:    ListNode* reverseList(ListNode* head) &#123;        ListNode* newHead = (ListNode*)malloc(sizeof(ListNode));        newHead-&gt;next = NULL;                ListNode* nowNode = head;        ListNode* nextNode;        while(nowNode)&#123;            nextNode = nowNode-&gt;next;            nowNode-&gt;next = newHead-&gt;next;            newHead-&gt;next = nowNode;            nowNode = nextNode;        &#125;        return newHead-&gt;next;            &#125;&#125;;\n\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","åˆ·é¢˜è®°å½•"],"tags":["æ•°æ®å’Œç»“æ„ä¸ç®—æ³•","æ‰“å¡","é“¾è¡¨"]},{"title":"åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨","url":"/2021/11/3d9c02fb16c1.html","content":"é¢˜ç›®æ¥æºwww.acwing.com/problem/content/34/\n\né¢˜ç›®è¾“å…¥ä¸¤ä¸ªé€’å¢æ’åºçš„é“¾è¡¨ï¼Œåˆå¹¶è¿™ä¸¤ä¸ªé“¾è¡¨å¹¶ä½¿æ–°é“¾è¡¨ä¸­çš„ç»“ç‚¹ä»ç„¶æ˜¯æŒ‰ç…§é€’å¢æ’åºçš„ã€‚\n\næ ·ä¾‹è¾“å…¥ï¼š1-&gt;3-&gt;5 , 2-&gt;4-&gt;5è¾“å‡ºï¼š1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;5\n\n\nACä»£ç /** * Definition for singly-linked list. * struct ListNode &#123; *     int val; *     ListNode *next; *     ListNode(int x) : val(x), next(NULL) &#123;&#125; * &#125;; */class Solution &#123;public:    ListNode* merge(ListNode* l1, ListNode* l2) &#123;        ListNode* newNode = (ListNode*)malloc(sizeof(ListNode));        newNode-&gt;next = NULL;                ListNode* nodeL1 = l1;        ListNode* nodeL2 = l2;        ListNode* endNode = newNode;        while(nodeL1!= NULL&amp;&amp;nodeL2!=NULL)&#123;                        if(nodeL1-&gt;val&lt;= nodeL2-&gt;val)&#123;                endNode-&gt;next = nodeL1;                endNode = nodeL1;                nodeL1 = nodeL1-&gt;next;            &#125;else&#123;                endNode-&gt;next = nodeL2;                endNode = nodeL2;                nodeL2 = nodeL2-&gt;next;            &#125;        &#125;                if(nodeL1!=NULL)&#123;            endNode-&gt;next = nodeL1;        &#125;else if(nodeL2!=NULL)&#123;            endNode-&gt;next = nodeL2;        &#125;else&#123;            endNode-&gt;next = NULL;        &#125;        return newNode-&gt;next;    &#125;&#125;;\n\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","åˆ·é¢˜è®°å½•"],"tags":["æ•°æ®å’Œç»“æ„ä¸ç®—æ³•","æ‰“å¡","é“¾è¡¨"]},{"title":"åœ°ç‰¢å¤§å¸ˆ","url":"/2021/11/6f2d94404767.html","content":"é¢˜ç›®æ¥æºhttps://www.acwing.com/problem/content/1098/\n\né¢˜ç›®ä½ ç°åœ¨è¢«å›°åœ¨ä¸€ä¸ªä¸‰ç»´åœ°ç‰¢ä¸­ï¼Œéœ€è¦æ‰¾åˆ°æœ€å¿«è„±ç¦»çš„å‡ºè·¯ï¼\nåœ°ç‰¢ç”±è‹¥å¹²ä¸ªå•ä½ç«‹æ–¹ä½“ç»„æˆï¼Œå…¶ä¸­éƒ¨åˆ†ä¸å«å²©çŸ³éšœç¢å¯ä»¥ç›´æ¥é€šè¿‡ï¼Œéƒ¨åˆ†åŒ…å«å²©çŸ³éšœç¢æ— æ³•é€šè¿‡ã€‚\nå‘åŒ—ï¼Œå‘å—ï¼Œå‘ä¸œï¼Œå‘è¥¿ï¼Œå‘ä¸Šæˆ–å‘ä¸‹ç§»åŠ¨ä¸€ä¸ªå•å…ƒè·ç¦»å‡éœ€è¦ä¸€åˆ†é’Ÿã€‚\nä½ ä¸èƒ½æ²¿å¯¹è§’çº¿ç§»åŠ¨ï¼Œè¿·å®«è¾¹ç•Œéƒ½æ˜¯åšç¡¬çš„å²©çŸ³ï¼Œä½ ä¸èƒ½èµ°å‡ºè¾¹ç•ŒèŒƒå›´ã€‚\nè¯·é—®ï¼Œä½ æœ‰å¯èƒ½é€ƒè„±å—ï¼Ÿ\nå¦‚æœå¯ä»¥ï¼Œéœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ\nè¾“å…¥æ ¼å¼è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ã€‚\næ¯ç»„æ•°æ®ç¬¬ä¸€è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° L,R,C åˆ†åˆ«è¡¨ç¤ºåœ°ç‰¢å±‚æ•°ï¼Œä»¥åŠæ¯ä¸€å±‚åœ°ç‰¢çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚\næ¥ä¸‹æ¥æ˜¯ L ä¸ª R è¡Œ C åˆ—çš„å­—ç¬¦çŸ©é˜µï¼Œç”¨æ¥è¡¨ç¤ºæ¯ä¸€å±‚åœ°ç‰¢çš„å…·ä½“çŠ¶å†µã€‚\næ¯ä¸ªå­—ç¬¦ç”¨æ¥æè¿°ä¸€ä¸ªåœ°ç‰¢å•å…ƒçš„å…·ä½“çŠ¶å†µã€‚\nå…¶ä¸­, å……æ»¡å²©çŸ³éšœç¢çš„å•å…ƒæ ¼ç”¨â€#â€è¡¨ç¤ºï¼Œä¸å«éšœç¢çš„ç©ºå•å…ƒæ ¼ç”¨â€.â€è¡¨ç¤ºï¼Œä½ çš„èµ·å§‹ä½ç½®ç”¨â€Sâ€è¡¨ç¤ºï¼Œç»ˆç‚¹ç”¨â€Eâ€è¡¨ç¤ºã€‚\næ¯ä¸€ä¸ªå­—ç¬¦çŸ©é˜µåé¢éƒ½ä¼šåŒ…å«ä¸€ä¸ªç©ºè¡Œã€‚\nå½“è¾“å…¥ä¸€è¡Œä¸ºâ€0 0 0â€æ—¶ï¼Œè¡¨ç¤ºè¾“å…¥ç»ˆæ­¢ã€‚\nè¾“å‡ºæ ¼å¼æ¯ç»„æ•°æ®è¾“å‡ºä¸€ä¸ªç»“æœï¼Œæ¯ä¸ªç»“æœå ä¸€è¡Œã€‚\nå¦‚æœèƒ½å¤Ÿé€ƒè„±åœ°ç‰¢ï¼Œåˆ™è¾“å‡ºâ€Escaped in x minute(s).â€ï¼Œå…¶ä¸­Xä¸ºé€ƒè„±æ‰€éœ€æœ€çŸ­æ—¶é—´ã€‚\nå¦‚æœä¸èƒ½é€ƒè„±åœ°ç‰¢ï¼Œåˆ™è¾“å‡ºâ€Trapped!â€ã€‚\næ•°æ®èŒƒå›´1â‰¤L,R,Câ‰¤100\nè¾“å…¥æ ·ä¾‹ï¼š3 4 5S.....###..##..###.#############.####...###########.#######E1 3 3S###E####0 0 0\n\nè¾“å‡ºæ ·ä¾‹ï¼šEscaped in 11 minute(s).Trapped!\n\nACä»£ç #include &lt;iostream&gt;#include &lt;cstring&gt;#include &lt;queue&gt;using namespace std;const int MAX = 103;int moving[6][3] = &#123;&#123;0,0,1&#125;,&#123;0,0,-1&#125;,&#123;0,1,0&#125;,&#123;0,-1,0&#125;,&#123;1,0,0&#125;,&#123;-1,0,0&#125;&#125;;//åç§»é‡char map[MAX][MAX][MAX];int a,b,c;      //åœ°å›¾æœ€å¤§å€¼ï¼Œaæœ€å¤§å±‚æ•°ï¼Œbæœ€å¤§è¡Œæ•°ï¼Œcæœ€å¤§åˆ—æ•°typedef struct&#123;    int x,y,z;  //x,y,zåæ ‡    int lev;    //åˆ°è¾¾è¯¥ç‚¹æ‰€ç”¨æ—¶é—´&#125;Loc;   //å®šä¹‰ä½ç½®ç»“æ„ä½“Loc start;  //å­˜å‚¨å¼€å§‹ä½ç½®&#x27;S&#x27;æ‰€åœ¨åæ ‡//åˆ¤æ–­ä½ç½®æ˜¯å¦è¶Šç•Œbool isTrue(Loc loc)&#123;    return loc.x&gt;=0&amp;&amp;loc.x&lt;a&amp;&amp;loc.y&gt;=0&amp;&amp;loc.y&lt;b&amp;&amp;loc.z&gt;=0&amp;&amp;loc.z&lt;c;&#125;//å®½æœå‡½æ•°void bfs()&#123;    queue&lt;Loc&gt; q;       //å®½æœå…¶å®å°±æ˜¯å±‚æ¬¡éå†ï¼Œæ‰€ä»¥ç”¨åˆ°é˜Ÿåˆ—    q.push(start);      //å°†å¼€å§‹ä½ç½®å…¥é˜Ÿ    map[start.x][start.y][start.z] = &#x27;#&#x27;;   //åˆå§‹åŒ–å¼€å§‹ä½ç½®ä¸ºå·²ç»è®¿é—®    start.lev = 0;                          //åˆå§‹åŒ–åˆ°è¾¾èµ·ç‚¹ä½ç½®æ‰€éœ€æ—¶é—´ä¸º0    while(!q.empty())&#123;          Loc now,next;               //å®šä¹‰å½“å‰æ‰€åœ¨ä½ç½®å’Œä¸‹ä¸€ä½ç½®        now = q.front();            //å°†å¯¹é¦–å…ƒç´ å–å‡ºï¼Œä½œä¸ºå½“å‰æ‰€åœ¨ä½ç½®        q.pop();                    //åˆ°è¾¾è¯¥ä½ç½®åå°†è¯¥ä½ç½®å‡ºé˜Ÿ        for(int i = 0; i &lt; 6; i++)&#123;            //éå†ä¸Šä¸‹å·¦å³å‰å6ä¸ªæ–¹å‘            next.x = now.x + moving[i][0];  //ä¸‹ä¸€ä½ç½®åæ ‡=å½“å‰ä½ç½®åæ ‡+åç§»é‡            next.y = now.y + moving[i][1];            next.z = now.z + moving[i][2];            next.lev = now.lev + 1;         //åˆ°è¾¾ä¸‹ä¸€ä½ç½®æ—¶é—´=å½“å‰æ—¶é—´+1            //å¦‚æœä¸‹ä¸€ä½ç½®åˆç†(æ²¡æœ‰åœ°å›¾è¶Šç•Œ)            if(isTrue(next))&#123;                //å¦‚æœä¸‹ä¸€ä½ç½®ä¸å¯é€šè¿‡ï¼Œæˆ–è€…å·²ç»åˆ°è¾¾è¿‡äº†å°±ä¸åœ¨è®¿é—®                if(map[next.x][next.y][next.z] == &#x27;#&#x27;) continue;                //å¦‚æœä¸‹ä¸€ä½ç½®å¯ä»¥è®¿é—®                if(map[next.x][next.y][next.z] == &#x27;.&#x27;)&#123;                    q.push(next);       //å°†ä¸‹ä¸€ä½ç½®å…¥é˜Ÿï¼Œç­‰å¾…ä¸‹æ¬¡å‡ºé˜Ÿè®¿é—®                    map[next.x][next.y][next.z] = &#x27;#&#x27;;      //è®¾ç½®ä¸‹ä¸€ä½ç½®å·²ç»è®¿é—®                &#125;                //å¦‚æœä¸‹ä¸€ä½ç½®ä¸ºå‡ºå£                if(map[next.x][next.y][next.z] == &#x27;E&#x27;)&#123;                    //ç›´æ¥æ‰“å°æ—¶æ‰€éœ€è¦èŠ±è´¹çš„æ—¶é—´                    cout&lt;&lt;&quot;Escaped in &quot;&lt;&lt;next.lev&lt;&lt;&quot; minute(s).&quot;&lt;&lt;endl;                    return; //ç»“æŸéå†                &#125;            &#125;        &#125;    &#125;    cout&lt;&lt;&quot;Trapped!&quot;&lt;&lt;endl;&#125;int main()&#123;    while(cin&gt;&gt;a&gt;&gt;b&gt;&gt;c,a||b||c)&#123;        memset(map,&#x27;#&#x27;,sizeof(map));        for(int i = 0; i &lt; a; i++)&#123;            for(int j = 0; j &lt; b; j++)&#123;                for(int k = 0; k &lt; c; k++)&#123;                    cin&gt;&gt;map[i][j][k];                    if(map[i][j][k] == &#x27;S&#x27;) &#123;                        start.x = i;                        start.y = j;                        start.z = k;                    &#125;                &#125;                getchar();            &#125;            getchar();        &#125;                bfs();    &#125;    return 0;&#125;\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","åˆ·é¢˜è®°å½•"],"tags":["æ•°æ®å’Œç»“æ„ä¸ç®—æ³•","æ‰“å¡","bfs"]},{"title":"å°å¹³æ–¹","url":"/2021/11/3ab222bab39a.html","content":"é¢˜ç›®æ¥æºwww.acwing.com/problem/content/34/\n\né¢˜ç›®å°è“å‘ç°ï¼Œå¯¹äºä¸€ä¸ªæ­£æ•´æ•° n å’Œä¸€ä¸ªå°äº n çš„æ­£æ•´æ•° vï¼Œå°† v å¹³æ–¹åå¯¹ n å–ä½™å¯èƒ½å°äº n çš„ä¸€åŠï¼Œä¹Ÿå¯èƒ½å¤§äºç­‰äº n çš„ä¸€åŠã€‚\nè¯·é—®ï¼Œåœ¨ 1 åˆ° nâˆ’1 ä¸­ï¼Œæœ‰å¤šå°‘ä¸ªæ•°å¹³æ–¹åé™¤ä»¥ n çš„ä½™æ•°å°äº n çš„ä¸€åŠã€‚\nä¾‹å¦‚ï¼Œå½“ n&#x3D;4 æ—¶ï¼Œ1,2,3 çš„å¹³æ–¹é™¤ä»¥ 4 çš„ä½™æ•°éƒ½å°äº 4 çš„ä¸€åŠã€‚\nåˆå¦‚ï¼Œå½“ n&#x3D;5 æ—¶ï¼Œ1,4 çš„å¹³æ–¹é™¤ä»¥ 5 çš„ä½™æ•°éƒ½æ˜¯ 1ï¼Œå°äº 5 çš„ä¸€åŠã€‚\nè€Œ 2,3 çš„å¹³æ–¹é™¤ä»¥ 5 çš„ä½™æ•°éƒ½æ˜¯ 4ï¼Œå¤§äºç­‰äº 5 çš„ä¸€åŠã€‚\n\nè¾“å…¥æ ¼å¼è¾“å…¥ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° nã€‚\n\nè¾“å‡ºæ ¼å¼è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ»¡è¶³æ¡ä»¶çš„æ•°çš„æ•°é‡ã€‚\n\næ•°æ®èŒƒå›´1â‰¤nâ‰¤10000\n\nè¾“å…¥æ ·ä¾‹5\n\n\nè¾“å‡ºæ ·ä¾‹2\n\n\nACä»£ç \nè™½ç„¶æ˜¯æ°´é¢˜ä½†æ˜¯æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œ(n_n)%m&lt;(m&#x2F;2)ä¼šé€ æˆé”™è¯¯,æ¯”å¦‚(2_2)%9&lt;(9&#x2F;2)ç»“æœä¸ºfalse,åº”è¯¥æ”¹ä¸º(n_n)%m&lt;(m&#x2F;2.0)æˆ–è€…(n_n)%m*2&lt;m.\n\n#include &lt;iostream&gt;using namespace std;int main()&#123;    int n;    cin&gt;&gt;n;    int m = n;    int count = 0;    while(--n)&#123;        //è™½ç„¶æ˜¯æ°´é¢˜ä½†æ˜¯æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œ(n*n)%m&lt;(m/2)ä¼šé€ æˆé”™è¯¯        //æ¯”å¦‚(2*2)%9&lt;(9/2)ç»“æœä¸ºfalse        //åº”è¯¥æ”¹ä¸º(n*n)%m&lt;(m/2.0)æˆ–è€…(n*n)%m*2&lt;m        if((n*n)%m&lt;(m/2.0))   count++;     &#125;    cout&lt;&lt;count&lt;&lt;endl;    return 0;&#125;\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","åˆ·é¢˜è®°å½•"],"tags":["æ•°æ®å’Œç»“æ„ä¸ç®—æ³•","æ‰“å¡","æšä¸¾"]},{"title":"æ•´æ•°æ‹¼æ¥","url":"/2021/11/1e71238371cc.html","content":"é¢˜ç›®æ¥æºwww.acwing.com/problem/content/2070/\n\né¢˜ç›®ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„A1,A2,Â·Â·Â·,Anã€‚\nä½ å¯ä»¥ä»ä¸­é€‰å‡ºä¸¤ä¸ªæ•° Ai å’Œ Aj(i ä¸ç­‰äº j)ï¼Œç„¶åå°† Ai å’Œ Aj ä¸€å‰ä¸€åæ‹¼æˆä¸€ä¸ªæ–°çš„æ•´æ•°ã€‚\nä¾‹å¦‚ 12 å’Œ 345 å¯ä»¥æ‹¼æˆ 12345 æˆ– 34512ã€‚\næ³¨æ„äº¤æ¢ Ai å’Œ Aj çš„é¡ºåºæ€»æ˜¯è¢«è§†ä¸º 2 ç§æ‹¼æ³•ï¼Œå³ä¾¿æ˜¯ Ai&#x3D;Aj æ—¶ã€‚\nè¯·ä½ è®¡ç®—æœ‰å¤šå°‘ç§æ‹¼æ³•æ»¡è¶³æ‹¼å‡ºçš„æ•´æ•°æ˜¯ K çš„å€æ•°ã€‚\n\nè¾“å…¥æ ¼å¼ç¬¬ä¸€è¡ŒåŒ…å« 22 ä¸ªæ•´æ•° nn å’Œ KKã€‚\nç¬¬äºŒè¡ŒåŒ…å« nn ä¸ªæ•´æ•° A1,A2,â‹…â‹…â‹…,AnA1,A2,Â·Â·Â·,Anã€‚\n\nè¾“å‡ºæ ¼å¼ä¸€ä¸ªæ•´æ•°ä»£è¡¨ç­”æ¡ˆã€‚\næ•°æ®èŒƒå›´1â‰¤nâ‰¤1051â‰¤nâ‰¤105,\n1â‰¤Kâ‰¤1051â‰¤Kâ‰¤105,\n1â‰¤Aiâ‰¤1091â‰¤Aiâ‰¤109\n\nè¾“å…¥æ ·ä¾‹4 21 2 3 4\n\n\nè¾“å‡ºæ ·ä¾‹6\n\n\næš´åŠ›dfsæšä¸¾æ³•\nèƒ½è¿‡ä¸€éƒ¨åˆ†æ•°æ®\n\n#include &lt;iostream&gt;using namespace std;typedef long long LL;const int MAX = 10003;LL num[MAX];bool isUsed[MAX];LL used[3];int n,k;int count;void dfs(int lev)&#123;    if(lev &gt; 2)&#123;        LL temp2 = used[2];        LL temp1 = used[1];        LL chen = 1;        do&#123;            chen *= 10;        &#125;while(temp2/=10);        temp1 = (used[1]%k)*(chen%k)%k;        temp2 = used[2]%k;        //cout&lt;&lt;used[1]&lt;&lt;used[2]&lt;&lt;&quot;:&quot;&lt;&lt;temp1&lt;&lt;&quot;,&quot;&lt;&lt;temp2&lt;&lt;endl;        if((temp1+temp2)%k== 0)&#123;            count++;        &#125;        return;    &#125;        for(int i=0;i&lt;n;i++)&#123;        if(!isUsed[i])&#123;        \tisUsed[i] = true;            used[lev] = num[i];            dfs(lev+1);            isUsed[i] = false;        &#125;    &#125;&#125;int main()&#123;        cin&gt;&gt;n&gt;&gt;k;    for(int i = 0;i&lt;n;i++)&#123;        cin&gt;&gt;num[i];    &#125;    dfs(1);    cout&lt;&lt;count&lt;&lt;endl;    return 0;&#125;\n\n\nå“ˆå¸Œè¡¨é¢„å¤„ç†å†æšä¸¾\nç©ºé—´æ¢æ—¶é—´\n\n\nå…¶ä¸­ç”¨åˆ°äº†ä¸€äº›æ•°è®ºçš„å–æ¨¡å…¬å¼ï¼š\n\n\n-(a+b)%c &#x3D; ((a%c)+(b%c))%c\n\n\n-(ab)%c &#x3D; (a%c)(b%c)%c\n\n\n-(a-b)%c &#x3D; ((a%c-b%c)+c)%c\n\n#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;typedef long long LL;const int MAX = 100005;LL num[MAX];int hashTable[11][MAX];//é¢˜ç›®æ ¸å¿ƒnum[j]*10^leni%k = -num[i]%kint main()&#123;    int n,k;    cin&gt;&gt;n&gt;&gt;k;    for(int i = 0;i&lt;n;i++)&#123;        cin&gt;&gt;num[i];    &#125;        //é¢„å¤„ç†ï¼šä»»æ„ä¸€ä¸ªnum*10^leny%kçš„ä½™æ•°ä¸ºxçš„æ•°é‡(1&lt;y&lt;10)    for(int i = 0;i&lt;n;i++)&#123;        LL chen = 1;        for(int j = 1;j&lt;11;j++)&#123;            chen *= 10;            int yu = ((num[i]%k)*(chen%k))%k;            hashTable[j][yu]++;        &#125;    &#125;        //æšä¸¾æŸ¥æ‰¾    LL res = 0;    for(int i = 0;i&lt;n;i++)&#123;        //-num[i]%k = (0+(-num[i]))%k = ((0%k)+(-num[i]%k))%k        int len = to_string(num[i]).size();        int yu = (k-num[i]%k)%k;        res +=hashTable[len][yu];        //åˆ¤æ–­æ˜¯å¦å­˜åœ¨é€‰æ‹©è‡ªå·±ä¸è‡ªå·±ç»„åˆçš„æƒ…å†µ-&gt;num[j]*10^leni%k = -num[i]%k        LL chen = 1;        while(len--)&#123;            chen*=10;        &#125;        if(yu == ((num[i]%k)*(chen%k))%k) res--;    &#125;            cout&lt;&lt;res&lt;&lt;endl;    return 0;&#125;\n\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","åˆ·é¢˜è®°å½•"],"tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","æ‰“å¡","hashè¡¨"]},{"title":"æ—¥å¿—ç»Ÿè®¡","url":"/2021/11/f2b0363f449b.html","content":"é¢˜ç›®æ¥æºwww.acwing.com/problem/content/1240/\n\né¢˜ç›®å°æ˜ç»´æŠ¤ç€ä¸€ä¸ªç¨‹åºå‘˜è®ºå›ã€‚ç°åœ¨ä»–æ”¶é›†äº†ä¸€ä»½â€ç‚¹èµâ€æ—¥å¿—ï¼Œæ—¥å¿—å…±æœ‰ N è¡Œã€‚\nå…¶ä¸­æ¯ä¸€è¡Œçš„æ ¼å¼æ˜¯ï¼š\nts id\n\nè¡¨ç¤ºåœ¨ ts æ—¶åˆ»ç¼–å· id çš„å¸–å­æ”¶åˆ°ä¸€ä¸ªâ€èµâ€ã€‚\nç°åœ¨å°æ˜æƒ³ç»Ÿè®¡æœ‰å“ªäº›å¸–å­æ›¾ç»æ˜¯â€çƒ­å¸–â€ã€‚\nå¦‚æœä¸€ä¸ªå¸–å­æ›¾åœ¨ä»»æ„ä¸€ä¸ªé•¿åº¦ä¸º D çš„æ—¶é—´æ®µå†…æ”¶åˆ°ä¸å°‘äº K ä¸ªèµï¼Œå°æ˜å°±è®¤ä¸ºè¿™ä¸ªå¸–å­æ›¾æ˜¯â€çƒ­å¸–â€ã€‚\nå…·ä½“æ¥è¯´ï¼Œå¦‚æœå­˜åœ¨æŸä¸ªæ—¶åˆ» T æ»¡è¶³è¯¥å¸–åœ¨ [T,T+D) è¿™æ®µæ—¶é—´å†…(æ³¨æ„æ˜¯å·¦é—­å³å¼€åŒºé—´)æ”¶åˆ°ä¸å°‘äº K ä¸ªèµï¼Œè¯¥å¸–å°±æ›¾æ˜¯â€çƒ­å¸–â€ã€‚\nç»™å®šæ—¥å¿—ï¼Œè¯·ä½ å¸®åŠ©å°æ˜ç»Ÿè®¡å‡ºæ‰€æœ‰æ›¾æ˜¯â€çƒ­å¸–â€çš„å¸–å­ç¼–å·ã€‚\nè¾“å…¥æ ¼å¼ç¬¬ä¸€è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° N,D,Kã€‚\nä»¥ä¸‹ N è¡Œæ¯è¡Œä¸€æ¡æ—¥å¿—ï¼ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° ts å’Œ idã€‚\n\nè¾“å‡ºæ ¼å¼æŒ‰ä»å°åˆ°å¤§çš„é¡ºåºè¾“å‡ºçƒ­å¸– idã€‚\næ¯ä¸ª id å ä¸€è¡Œã€‚\n\næ•°æ®èŒƒå›´$1â‰¤Kâ‰¤Nâ‰¤10^5$,\n$0â‰¤ts,idâ‰¤10^5$,\n$1â‰¤Dâ‰¤10000$\n\nè¾“å…¥æ ·ä¾‹7 10 20 10 1010 1010 19 1100 3100 3\n\n\nè¾“å‡ºæ ·ä¾‹13\n\nACä»£ç \nç®—æ³•æ€è·¯ï¼š\n\n\nå¯¹äºåŒä¸€ä¸ªå¸–å­ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰æ—¶åˆ»è¿›è¡Œæ’åºï¼Œç„¶åç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ¯è¦å…¥é˜Ÿä¸€ä¸ªå…ƒç´ æ—¶å°±åˆ¤æ–­ï¼Œä»¥é˜Ÿé¦–ä¸ºèµ·å§‹æ—¶åˆ»ä»¥å¾…åŠ å…¥é˜Ÿåˆ—å…ƒç´ ä¸ºæˆªæ­¢æ—¶åˆ»çš„æ—¶é—´æ®µæ˜¯å¦æ»¡è¶³é¢˜ç›®è¦æ±‚çš„[T,T+D)æ—¶é—´æ®µã€‚å¦‚æœä¸æ»¡è¶³å°±å°†è¯¥é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿï¼Œä»¥é˜Ÿåˆ—ä¸­ä¸‹ä¸€å…ƒç´ ä¸ºèµ·å§‹æ—¶åˆ»ï¼Œä»¥å¾…åŠ å…¥é˜Ÿåˆ—å…ƒç´ ä¸ºæˆªæ­¢æ—¶åˆ»ï¼Œç»§ç»­åˆ¤æ–­ï¼Œå¦‚æ­¤å¾ªç¯ï¼Œç›´åˆ°é˜Ÿä¸ºç©ºæˆ–è€…åœ¨é˜Ÿä¸­æ‰¾åˆ°ä¸€ä¸ªå…ƒç´ ä»¥å…¶ä½œä¸ºèµ·å§‹æ—¶åˆ»ä»¥å¾…åŠ å…¥å…ƒç´ ä¸ºç»“æŸæ—¶åˆ»çš„æ—¶é—´æ®µæ»¡è¶³é¢˜ç›®è¦æ±‚çš„[T,T+D)ï¼Œé‚£ä¹ˆå°±å°†å¾…åŠ å…¥å…ƒç´ åŠ å…¥é˜Ÿåˆ—ï¼ŒåŠ å…¥åå†è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœé˜Ÿåˆ—ä¸­å…ƒç´ å·²ç»å­˜åœ¨Kä¸ªå…ƒç´ ï¼Œåˆ™è¯¥å¸–å­æ»¡è¶³æ¡ä»¶ã€‚\n\n\næ ·ä¾‹æ¨¡æ‹Ÿï¼š\n\n1å·å¸–å­ï¼š1å·å¸–å­åœ¨0ï¼Œ9ï¼Œ10ä¸‰ä¸ªæ—¶åˆ»è·å¾—ç‚¹èµï¼Œé¦–å…ˆå°†0æ—¶åˆ»åŠ å…¥é˜Ÿåˆ—ï¼Œå½“9æ—¶åˆ»æƒ³åŠ å…¥é˜Ÿåˆ—æ—¶ï¼Œè¿›è¡Œåˆ¤æ–­0-9è¿™ä¸ªæ—¶é—´æ®µæ˜¯å¦æ»¡è¶³è¦æ±‚[0-10)ï¼Œé€šè¿‡åˆ¤æ–­å¯ä»¥çŸ¥é“æ˜¯æ»¡è¶³çš„æ‰€ä»¥å°†9æ—¶åˆ»åŠ å…¥é˜Ÿä¸­ï¼Œç„¶åè¿›è¡Œåˆ¤æ–­é˜Ÿä¸­å…ƒç´ æ˜¯å¦æ»¡è¶³ç‚¹èµæ•°k&#x3D;2ï¼Œä¹Ÿæ˜¯æ»¡è¶³çš„ï¼Œæ‰€ä»¥å¸–å­1æ˜¯çƒ­å¸–\n10å·å¸–å­ï¼š10å·å¸–å­åœ¨0ï¼Œ10ä¸¤ä¸ªæ—¶åˆ»è·å¾—ç‚¹èµï¼Œé¦–å…ˆå°†0æ—¶åˆ»åŠ å…¥é˜Ÿåˆ—ï¼Œå½“10æ—¶åˆ»æƒ³åŠ å…¥é˜Ÿåˆ—æ—¶ï¼Œè¿›è¡Œåˆ¤æ–­0-10è¿™ä¸ªæ—¶é—´æ®µæ˜¯å¦æ»¡è¶³è¦æ±‚[0-10)ï¼Œé€šè¿‡åˆ¤æ–­å¯ä»¥çŸ¥é“æ˜¯ä¸æ»¡è¶³ï¼Œæ‰€ä»¥å°†é˜Ÿé¦–0æ—¶åˆ»å‡ºé˜Ÿã€‚å‡ºé˜Ÿåé˜Ÿä¸ºç©ºï¼Œå°†å¾…åŠ å…¥å…ƒç´ 10æ—¶åˆ»åŠ å…¥é˜Ÿåˆ—ï¼Œéšåå†è¿›è¡Œåˆ¤æ–­ï¼Œé˜Ÿåˆ—ä¸­å…ƒç´ åªæœ‰1ä¸ªï¼Œä¸æ»¡è¶³æ¡ä»¶ï¼Œè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯ï¼Œä½†æ˜¯å·²ç»æ²¡æœ‰æ–°çš„å…ƒç´ åŠ å…¥äº†æ‰€ä»¥10å·å¸–å­ä¸æ»¡è¶³ã€‚\n#include &lt;iostream&gt;#include &lt;queue&gt;#include &lt;algorithm&gt;using namespace std;const int MAX = 100005;typedef pair&lt;int,int&gt; PII;  //(å¸–å­id,ç‚¹èµæ—¶åˆ»ts)queue&lt;PII&gt; p;               //ç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—PII piis[MAX];              //å‚¨å­˜æ—¥å¿—int ans[MAX];               //å­˜å‚¨ç»“æœçš„æ•°ç»„int main()&#123;    int n,d,k;    cin&gt;&gt;n&gt;&gt;d&gt;&gt;k;    for(int i = 0; i &lt; n; i++)        cin&gt;&gt;piis[i].second&gt;&gt;piis[i].first;    sort(piis,piis+n);  //sorté»˜è®¤å¯¹xå‡åºæ’åºxç›¸åŒå¯¹yå‡åºæ’åºï¼Œæˆ‘è¿™é‡Œxå­˜çš„æ˜¯å¸–å­idæ‰€ä»¥æ˜¯å…ˆæŒ‰ç…§å¸–å­idè¿›è¡Œæ’åºï¼ŒåŒä¸€å¸–å­æŒ‰ç…§æ—¶åˆ»æ’åº    p.push(piis[0]);    //å…ˆå°†ç¬¬ä¸€ä¸ªå…ƒç´ å…¥é˜Ÿ    for(int i = 1;i&lt;n;i++)&#123; //éå†æ¯ä¸€ä¸ªå¸–å­çš„æ¯ä¸€æ—¶åˆ»ï¼Œå…¶å®å¯¹äºä¸€ä¸ªå¸–å­å·²ç»åˆ¤æ–­æ»¡è¶³äº†æ¡ä»¶é‚£ä¹ˆå…¶ä»–æ—¶åˆ»çš„ç‚¹èµå°±ä¸ç”¨åœ¨åˆ¤æ–­äº†ï¼Œæˆ‘è¿™é‡Œæ²¡å†™è¿™ä¸ªé€»è¾‘        if(piis[i].first != piis[i-1].first )&#123;  //è¿™é‡Œæ˜¯åˆ†è¾¨ä¸åŒå¸–å­            //å¦‚æœä¸Šä¸€å¸–å­idä¸å½“å‰æšä¸¾åˆ°çš„å¸–å­idç›¸åŒï¼Œåˆ™å°†é˜Ÿåˆ—æ¸…ç©º            while(!p.empty()) p.pop();            p.push(piis[i]);        &#125;else&#123;            //å¦‚æœæ˜¯åŒä¸€å¸–å­ï¼š            if(piis[i].second-p.front().second&lt;d)&#123;//åˆ¤æ–­ä»¥é˜Ÿé¦–å…ƒç´ ä¸ºå¼€å§‹æ—¶åˆ»ï¼Œä»¥å¾…åŠ å…¥å…ƒç´ ä¸ºç»“æŸæ—¶åˆ»çš„æ—¶é—´æ®µæ˜¯å¦æ»¡è¶³æ¡ä»¶                p.push(piis[i]);        //æ»¡è¶³åˆ™å…¥é˜Ÿ            &#125;else&#123;                      //ä¸æ»¡è¶³å¾ªç¯å‡ºé˜Ÿï¼Œç›´åˆ°é˜Ÿç©ºæˆ–æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„å…ƒç´                 while(!p.empty()&amp;&amp;piis[i].second-p.front().second&gt;=d)&#123;                    p.pop();                &#125;                p.push(piis[i]);        //å¾ªç¯å‡ºé˜Ÿåå°†å¾…åŠ å…¥å…ƒç´ å…¥é˜Ÿ            &#125;            if(p.size() &gt;= k) ans[piis[i].first]++; //åˆ¤æ–­é˜Ÿä¸­å…ƒç´ æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œæ»¡è¶³åˆ™åœ¨ç»“æœæ•°ç»„ä¸­è¿›è¡Œè®°å½•        &#125;    &#125;    for(int i = 0;i&lt;MAX;i++)&#123;        //å¯¹ç»“æœæ•°ç»„è¿›è¡Œéå†ï¼Œä¸‹æ ‡è¡¨ç¤ºå¸–å­id        if(ans[i] != 0) cout&lt;&lt;i&lt;&lt;endl;    &#125;    return 0;&#125;\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","åˆ·é¢˜è®°å½•"],"tags":["æ ˆ","æ•°æ®å’Œç»“æ„ä¸ç®—æ³•","æ‰“å¡"]},{"title":"æœ€é•¿ä¸Šå‡å­åºåˆ—é—®é¢˜","url":"/2021/11/f7f9594be25c.html","content":"é¢˜ç›®æ¥æºhttps://www.acwing.com/problem/content/897/\n\né¢˜ç›®ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º N çš„æ•°åˆ—ï¼Œæ±‚æ•°å€¼ä¸¥æ ¼å•è°ƒé€’å¢çš„å­åºåˆ—çš„é•¿åº¦æœ€é•¿æ˜¯å¤šå°‘ã€‚\nè¾“å…¥æ ¼å¼ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Nã€‚\nç¬¬äºŒè¡ŒåŒ…å« N ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå®Œæ•´åºåˆ—ã€‚\nè¾“å‡ºæ ¼å¼è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§é•¿åº¦ã€‚\næ•°æ®èŒƒå›´1â‰¤Nâ‰¤1000ï¼Œ\n$âˆ’10^9$â‰¤æ•°åˆ—ä¸­çš„æ•°â‰¤$10^9$\nè¾“å…¥æ ·ä¾‹73 1 2 1 8 5 6\n\nè¾“å‡ºæ ·ä¾‹4\n\ndpé—®é¢˜è§£å†³æ€è·¯çŠ¶æ€è¡¨ç¤ºdp[i]æŸé•¿åº¦ä¸ºiçš„åºåˆ—çš„æœ€åä¸€ä½å…ƒç´ ï¼Œæ¯”å¦‚1ï¼Œ2ï¼Œ6åºåˆ—åˆ™å¯ç”¨çŠ¶æ€dp[3]æ¥è¡¨ç¤º &#x3D; 6\nçŠ¶æ€dp[i]è½¬ç§»åˆ°dp[i+1]å¯¹äºå°äºæœ€é•¿å­åºåˆ—é•¿åº¦çš„æ‰€æœ‰å­åºåˆ—çŠ¶æ€ï¼Œæœ‰ä¸¤ç§å¯èƒ½\n\niä¸ºæœ€é•¿å­åºåˆ—é•¿åº¦æ—¶ï¼Œè¿™æ—¶å€™dp[i]è½¬ç§»åˆ°dp[i+1]å³æ˜¯åœ¨dp[i+1]æ‰€è¡¨ç¤ºåºåˆ—çš„åŸºç¡€ä¸ŠåŠ ä¸Šä¸€ä¸ªå…ƒç´ ï¼Œæœ€é•¿åºåˆ—é•¿åº¦åŠ 1ã€‚\n\niä¸ä¸ºæœ€é•¿å­åºåˆ—é•¿åº¦æ—¶ï¼Œè¿™æ—¶å€™dp[i]è½¬ç§»åˆ°dp[i+1]å³æ˜¯æ›´æ–°dp[i+1]æ‰€è¡¨ç¤ºçš„åºåˆ—è€ƒè™‘ä¸€ä¸ªæ–°å…ƒç´ num\n\nå¯¹äºæƒ…å†µ(1)ï¼Œåªè¦å¤§ä¸æœ€é•¿ä¸Šå‡å­åºåˆ—å³å¯å®ŒæˆçŠ¶æ€è½¬ç§»ï¼Œdp[i+1] &#x3D; numï¼Œæ¯”å¦‚dp[3]è¡¨ç¤ºçš„åºåˆ—ä¸º1ï¼Œ2ï¼Œ4ï¼Œä¸”æœ€é•¿å­åºåˆ—é•¿åº¦å°±ä¸º3ï¼Œå¯¹äºæ–°å…ƒç´ 5é‚£ä¹ˆdp[4] &#x3D; 5ï¼Œæ‰€ä»£è¡¨çš„åºåˆ—å°±æ˜¯1ï¼Œ2ï¼Œ4ï¼Œ5,æœ€é•¿åºåˆ—é•¿åº¦åŠ 1\nå¯¹äºæƒ…å†µ(2)ï¼Œå¦‚æœæ–°å…ƒç´ numæ¯”å¾…æ›´æ–°çš„dp[i+1]å°ï¼Œåˆ™ç”±dp[i]åŠ ä¸Šæ–°å…ƒç´ å¯¹dp[i+1]è¿›è¡Œæ›´æ–°å¦‚æœå¤§åˆ™ä¸æ›´æ–°æ¯”è¾ƒå¥½ï¼Œæˆ‘ä»¬ä»¥è¾ƒå°æ•°ç»“å°¾è‚¯å®šæ¯”ä»¥è¾ƒå¤§æ•°ç»“å°¾å¯¹åç»­å­ä¸²çš„ä½œç”¨æ›´å¤§ã€‚æ¯”å¦‚åŸdp[3]è¡¨ç¤ºçš„å­åºåˆ—æ˜¯1,2,4ï¼Œdp[4]è¡¨ç¤ºçš„å­åºåˆ—æ˜¯1,2,4,8ç°åœ¨æ¥äº†æ–°å…ƒç´ 5å¯¹äºdp[3]è½¬ç§»åˆ°dp[4],å°±æ˜¯å°†1ï¼Œ2ï¼Œ4åŠ ä¸Šæ–°å…ƒç´ 5æ›´æ–°dp[4],å³dp[4]ä»åŸæ¥çš„8å˜æˆäº†5.åä¹‹dp[4]ç­‰äº5è‚¯å®šæ¯”dp[4] &#x3D; 8å¥½å•Šï¼Œå› ä¸ºï¼Œä»åŸæ¥è¦æ¯”8å¤§çš„æ•°æ‰èƒ½å¢åŠ æœ€é•¿åºåˆ—é•¿åº¦ï¼Œå˜æˆåªéœ€è¦å¤§äº5å°±è¡Œï¼\n\n\n\nçŠ¶æ€åˆå§‹åŒ–æƒ…å†µ1æ»¡è¶³çš„æ¡ä»¶æ˜¯num&gt;dp[i],æƒ…å†µ2æ»¡è¶³çš„æ¡ä»¶æ˜¯num&gt;dp[i]ä¸”num&lt;dp[i+1]ã€‚æ‰€ä»¥å¦‚æœæˆ‘ä»¬å°†dpæ•°ç»„é»˜è®¤å€¼éƒ½è®¾ç½®ä¸ºæœ€å¤§å€¼ï¼Œä¸¤ç§æƒ…å†µå°±å¯ä»¥åˆå¹¶ä¸ºæƒ…å†µ2æ¥è€ƒè™‘ã€‚åªéœ€è¦ç‰¹æ®Šåˆ¤æ–­ä¸€ä¸‹æ»¡è¶³æ¡ä»¶æ—¶iæ˜¯å¦ç­‰äºæœ€å¤§ä¸Šå‡åºåˆ—é•¿åº¦ï¼Œå¦‚æœæ˜¯åˆ™æ›´æ–°æœ€é•¿ä¸Šå‡åºåˆ—é•¿åº¦\nACä»£ç #include &lt;iostream&gt;#include &lt;climits&gt;#include &lt;cstring&gt;using namespace std;int main()&#123;    int n,len = 0,dp[1004];    cin&gt;&gt;n;    //é»˜è®¤çŠ¶æ€æ•°ç»„ä¸ºæœ€å¤§å€¼ï¼Œéƒ½ä¸¤ç§çŠ¶æ€å˜ä¸€ç§çŠ¶æ€è€ƒè™‘    for(int i = 1; i &lt; 1004; i++) dp[i] = INT_MAX;        dp[0] = INT_MIN;    //æˆ‘ä»¬é»˜è®¤æœ€é•¿å­åºåˆ—é•¿åº¦ä¸º0ï¼Œdp[0]æ²¡æ„ä¹‰è®¾ä¸ºæœ€å°å€¼    for(int i = 0;i&lt;n;i++)&#123;        int num;        cin&gt;&gt;num;        //æ¯æ¬¡è¯»å…¥ä¸€ä¸ªæ–°å…ƒç´         for(int j = 0;j&lt;=len;j++)&#123;            //ä»0å¼€å§‹éå†åˆ°æœ€é•¿å­ä¸²é•¿åº¦            if(num&gt;dp[j]&amp;&amp;num&lt;dp[j+1])&#123;                //ç»Ÿä¸€ç”¨æƒ…å†µ2è€ƒè™‘                dp[j+1] = num;//çŠ¶æ€æ›´æ–°                if(j == len) len++; //ç‰¹æ®Šåˆ¤æ–­ä¸€ä¸‹æƒ…å†µ1ï¼Œå¦‚æœæƒ…å†µ1å°±æ›´æ–°æœ€é•¿åºåˆ—é•¿åº¦            &#125;         &#125;    &#125;    cout&lt;&lt;len;    return 0;&#125;\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","åˆ·é¢˜è®°å½•"],"tags":["æ•°æ®å’Œç»“æ„ä¸ç®—æ³•","DP","æ‰“å¡","æœ€é•¿ä¸Šå‡å­åºåˆ—"]},{"title":"ç®—æ³•é¢˜ä¹‹æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—","url":"/2021/11/071f90d13652.html","content":"é¢˜ç›®æ¥æºwww.acwing.com/problem/content/40/\n\né¢˜ç›®è¾“å…¥ä¸¤ä¸ªæ•´æ•°åºåˆ—ï¼Œç¬¬ä¸€ä¸ªåºåˆ—è¡¨ç¤ºæ ˆçš„å‹å…¥é¡ºåºï¼Œè¯·åˆ¤æ–­ç¬¬äºŒä¸ªåºåˆ—æ˜¯å¦å¯èƒ½ä¸ºè¯¥æ ˆçš„å¼¹å‡ºé¡ºåºã€‚\nå‡è®¾å‹å…¥æ ˆçš„æ‰€æœ‰æ•°å­—å‡ä¸ç›¸ç­‰ã€‚\nä¾‹å¦‚åºåˆ— 1,2,3,4,5 æ˜¯æŸæ ˆçš„å‹å…¥é¡ºåºï¼Œåºåˆ— 4,5,3,2,1 æ˜¯è¯¥å‹æ ˆåºåˆ—å¯¹åº”çš„ä¸€ä¸ªå¼¹å‡ºåºåˆ—ï¼Œä½† 4,3,5,1,2 å°±ä¸å¯èƒ½æ˜¯è¯¥å‹æ ˆåºåˆ—çš„å¼¹å‡ºåºåˆ—ã€‚\n\næ³¨æ„è‹¥ä¸¤ä¸ªåºåˆ—é•¿åº¦ä¸ç­‰åˆ™è§†ä¸ºå¹¶ä¸æ˜¯ä¸€ä¸ªæ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—ã€‚è‹¥ä¸¤ä¸ªåºåˆ—éƒ½ä¸ºç©ºï¼Œåˆ™è§†ä¸ºæ˜¯ä¸€ä¸ªæ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—ã€‚\n\næ ·ä¾‹è¾“å…¥ï¼š[1,2,3,4,5]      [4,5,3,2,1]è¾“å‡ºï¼štrue\n\n\næ€è·¯ä»¥1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ä¸ºä¾‹ï¼Œé¢˜ä¸­æ‰€è¯´å…¥æ ˆé¡ºåºæ˜¯æŒ‡ï¼Œ**å¦‚æœç°åœ¨3å…¥æ ˆé‚£ä¹ˆåœ¨3å…¥æ ˆä¹‹å‰1ï¼Œ2ä¸€å®šå·²ç»å…¥æ ˆ(ä½†ä¸ä¸€å®šä»åœ¨æ ˆä¸­)**ï¼›\næˆ‘ä»¬å…ˆæ¨¡æ‹Ÿä¸¤ä¸ªå‡ºæ ˆé¡ºåºï¼Œæ‰¾å‡ºä¸åŒç‚¹ä¸è§„å¾‹ã€‚\n\nä¾‹å¦‚å‡ºæ ˆé¡ºåºå¯ä¸º1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œé‚£ä¹ˆå‡ºå…¥æ ˆçš„æ“ä½œä¸ºï¼š1å…ˆå…¥æ ˆç„¶åå‡ºæ ˆï¼Œ2å…¥æ ˆç„¶åå‡ºæ ˆï¼ˆè¿™æ—¶æ ˆä¸ºç©ºï¼‰ï¼Œ3å…¥æ ˆç„¶åå‡ºæ ˆï¼Œ4å…¥æ ˆç„¶åå‡ºæ ˆï¼Œ4å…¥æ ˆç„¶åå‡ºæ ˆï¼›å¦‚æœå‡ºæ ˆé¡ºåºä¸º1ï¼Œ2ï¼Œ3ï¼Œ5ï¼Œ4ï¼Œé‚£ä¹ˆå‡ºå…¥æ ˆçš„æ“ä½œä¸ºï¼š1å…ˆå…¥æ ˆç„¶åå‡ºæ ˆï¼Œ2å…¥æ ˆç„¶åå‡ºæ ˆï¼Œ3å…¥æ ˆç„¶åå‡ºæ ˆï¼Œ4å…¥æ ˆï¼Œ5å…¥æ ˆç„¶åå‡ºæ ˆï¼Œ4å‡ºæ ˆï¼›\n\nä¸€ä¸ªå‡ºæ ˆé¡ºåºæ˜¯1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œè€Œå¦ä¸€ä¸ªæ˜¯1ï¼Œ2ï¼Œ3ï¼Œ5ï¼Œ4.é€šè¿‡å¯¹æ¯”è¿‡ç¨‹æˆ‘ä»¬å¯ä»¥çŸ¥é“ä¸€ä¸ªæ˜¯4å…¥æ ˆåå‡ºæ ˆï¼Œä¸€ä¸ªæ˜¯4å…¥æ ˆåä½†æ²¡æœ‰å‡ºæ ˆè€Œæ˜¯ç»§ç»­å…¥æ ˆã€‚æ‰€ä»¥ï¼Œå¯¹äºåŒä¸€ä¸ªå…ƒç´ å…¥æ ˆåï¼Œæœ‰ä¸¤ç§æ“ä½œé€‰æ‹©ï¼Œç»§ç»­å…¥æ ˆå’Œå‡ºæ ˆã€‚è¿™æ—¶æˆ‘ä»¬å¯ä»¥ç”»ä¸€é¢—äºŒå‰æ ‘ï¼Œæ¯ä¸€æ¡è·¯å°±æ˜¯æˆ‘ä»¬å¯ä»¥é€‰æ‹©çš„æ–¹æ¡ˆã€‚é¢˜ä¸­å¹¶æ²¡æœ‰è®©æˆ‘ä»¬æ±‚æ‰€æœ‰æ–¹æ¡ˆï¼Œåªç»™æˆ‘ä»¬ä¸€ç§æ–¹æ¡ˆå»åˆ¤æ–­ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æ ¹æ®å‡ºæ ˆé¡ºåºå»æ¨¡æ‹Ÿè¯¥è¿›è¡Œçš„æ˜¯å…¥æ ˆè¿˜æ˜¯å‡ºæ ˆæ“ä½œå°±è¡Œäº†ã€‚ç®€å•æ¥è¯´å°±æ˜¯ç»™ä½ äº†è·¯æ ‡ï¼Œä½ è·Ÿç€èµ°ï¼Œèµ°é€šäº†å°±æ˜¯æ­£ç¡®çš„è·¯æ ‡èµ°ä¸é€šå°±æ˜¯é”™è¯¯çš„è·¯æ ‡ã€‚æ¥ä¸‹æ¥ç»§ç»­çœ‹ä¾‹å­ï¼Œå…¥æ ˆé¡ºåºä»æ˜¯1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5\n\nç¬¬ä¸€æ¡è·¯ï¼šå…¥æ ˆé¡ºåº1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œå‡ºæ ˆé¡ºåº1ï¼Œ2ï¼Œ5ï¼Œ4ï¼Œ3\n\n\næ¨¡æ‹Ÿè¿‡ç¨‹ï¼šé¦–å…ˆ1å…¥æ ˆï¼Œå…¥æ ˆåæœ‰ä¸¤æ¡è·¯å¯ä»¥é€‰ï¼Œå‡ºæ ˆæˆ–è€…ç»§ç»­å…¥æ ˆï¼Œè¿™æ—¶çœ‹åœ°å›¾(ç»™çš„å‡ºæ ˆé¡ºåº)ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯1ï¼Œè¯´æ˜æˆ‘ä»¬è¦é€‰æ‹©çš„è·¯æ˜¯1å‡ºæ ˆï¼›ç„¶åç»§ç»­2å…¥æ ˆï¼Œçœ‹åœ°å›¾(å‡ºæ ˆé¡ºåº)ç¬¬äºŒä¸ªå…ƒç´ æ˜¯2ï¼Œè¯´æ˜æˆ‘ä»¬è¦é€‰æ‹©çš„è·¯æ˜¯2å‡ºæ ˆï¼›ç„¶åç»§ç»­3å…¥æ ˆï¼Œçœ‹åœ°å›¾(å‡ºæ ˆé¡ºåº)ç¬¬ä¸‰ä¸ªå…ƒç´ æ˜¯5ï¼Œè¯´æ˜æˆ‘ä»¬è¦é€‰æ‹©çš„è·¯ä¸æ˜¯å‡ºæ ˆè€Œæ˜¯ç»§ç»­å…¥æ ˆï¼ˆè¿™æ—¶æ ˆä¸­æœ‰å…ƒç´ 3ï¼‰ï¼›ç„¶åç»§ç»­4å…¥æ ˆï¼Œçœ‹åœ°å›¾(å‡ºæ ˆé¡ºåº)ç¬¬ä¸‰ä¸ªå…ƒç´ æ˜¯5ï¼Œè¯´æ˜æˆ‘ä»¬è¦é€‰æ‹©çš„è·¯ä¸æ˜¯å‡ºæ ˆè€Œæ˜¯ç»§ç»­å…¥æ ˆï¼ˆè¿™æ—¶æ ˆä¸­æœ‰å…ƒç´ 3ï¼Œ4ï¼‰ï¼›ç„¶åç»§ç»­5å…¥æ ˆï¼Œçœ‹åœ°å›¾(å‡ºæ ˆé¡ºåº)ç¬¬ä¸‰ä¸ªå…ƒç´ æ˜¯5ï¼Œè¯´æ˜æˆ‘ä»¬è¦é€‰æ‹©çš„è·¯æ˜¯å‡ºæ ˆåˆšåˆšå…¥æ ˆçš„5ï¼Œå‡ºæ ˆåæ ˆä¸­è¿˜æœ‰å…ƒç´ 3ï¼Œ4ï¼Œçœ‹åœ°å›¾(å‡ºæ ˆé¡ºåº)ç¬¬å››ä¸ªå…ƒç´ æ˜¯4ï¼Œæ‰€ä»¥æˆ‘ä»¬å†å‡ºæ ˆï¼Œå‡ºæ ˆåæ ˆä¸­è¿˜æœ‰å…ƒç´ 3ï¼Œçœ‹åœ°å›¾(å‡ºæ ˆé¡ºåº)ç¬¬äº”ä¸ªå…ƒç´ æ˜¯3ï¼Œæ‰€ä»¥æˆ‘ä»¬å†å‡ºæ ˆ.æœ€åæ¨¡æ‹Ÿå®Œæ¯•ï¼Œè·¯èµ°é€šäº†ã€‚\n\n\nç¬¬äºŒæ¡è·¯ï¼šå…¥æ ˆé¡ºåº1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œå‡ºæ ˆé¡ºåº1ï¼Œ2ï¼Œ5ï¼Œ3ï¼Œ4\n\n\næ¨¡æ‹Ÿè¿‡ç¨‹ï¼šé¦–å…ˆ1å…¥æ ˆï¼Œå…¥æ ˆåæœ‰ä¸¤æ¡è·¯å¯ä»¥é€‰ï¼Œå‡ºæ ˆæˆ–è€…ç»§ç»­å…¥æ ˆï¼Œè¿™æ—¶çœ‹åœ°å›¾(ç»™çš„å‡ºæ ˆé¡ºåº)ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯1ï¼Œè¯´æ˜æˆ‘ä»¬è¦é€‰æ‹©çš„è·¯æ˜¯1å‡ºæ ˆï¼›ç„¶åç»§ç»­2å…¥æ ˆï¼Œçœ‹åœ°å›¾(å‡ºæ ˆé¡ºåº)ç¬¬äºŒä¸ªå…ƒç´ æ˜¯2ï¼Œè¯´æ˜æˆ‘ä»¬è¦é€‰æ‹©çš„è·¯æ˜¯2å‡ºæ ˆï¼›ç„¶åç»§ç»­3å…¥æ ˆï¼Œçœ‹åœ°å›¾(å‡ºæ ˆé¡ºåº)ç¬¬ä¸‰ä¸ªå…ƒç´ æ˜¯5ï¼Œè¯´æ˜æˆ‘ä»¬è¦é€‰æ‹©çš„è·¯ä¸æ˜¯å‡ºæ ˆè€Œæ˜¯ç»§ç»­å…¥æ ˆï¼ˆè¿™æ—¶æ ˆä¸­æœ‰å…ƒç´ 3ï¼‰ï¼›ç„¶åç»§ç»­4å…¥æ ˆï¼Œçœ‹åœ°å›¾(å‡ºæ ˆé¡ºåº)ç¬¬ä¸‰ä¸ªå…ƒç´ æ˜¯5ï¼Œè¯´æ˜æˆ‘ä»¬è¦é€‰æ‹©çš„è·¯ä¸æ˜¯å‡ºæ ˆè€Œæ˜¯ç»§ç»­å…¥æ ˆï¼ˆè¿™æ—¶æ ˆä¸­æœ‰å…ƒç´ 3ï¼Œ4ï¼‰ï¼›ç„¶åç»§ç»­5å…¥æ ˆï¼Œçœ‹åœ°å›¾(å‡ºæ ˆé¡ºåº)ç¬¬ä¸‰ä¸ªå…ƒç´ æ˜¯5ï¼Œè¯´æ˜æˆ‘ä»¬è¦é€‰æ‹©çš„è·¯æ˜¯å‡ºæ ˆåˆšåˆšå…¥æ ˆçš„5ï¼Œå‡ºæ ˆåæ ˆä¸­è¿˜æœ‰å…ƒç´ 3ï¼Œ4ï¼Œçœ‹åœ°å›¾(å‡ºæ ˆé¡ºåº)ç¬¬å››ä¸ªå…ƒç´ æ˜¯3ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½å†å‡ºæ ˆï¼Œéœ€è¦å…¥æ ˆä½†æ˜¯1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5éƒ½å·²ç»å…¥æ ˆäº†æ²¡æœ‰å…ƒç´ äº†ï¼Œæ‰€ä»¥è·¯èµ°ä¸é€šã€‚\n\n\nACä»£ç class Solution &#123;    public boolean isPopOrder(int [] pushV,int [] popV) &#123;        //å¦‚æœé•¿åº¦ä¸ä¸€æ ·ç›´æ¥return false        if(pushV.length != popV.length)&#123;            return false;        &#125;        //å¦‚æœè¾“å…¥è¾“å‡ºæ ˆä¸ºç©ºåˆ™ç›´æ¥return true        if(pushV.length == 0 &amp;&amp; popV.length == 0)&#123;            return true;        &#125;        Stack&lt;Integer&gt; s=new Stack&lt;&gt;();        int j = 0;  //å®šä¹‰jæŒ‡å‘popVæ•°ç»„ï¼Œå­˜å‚¨åˆ¤æ–­åˆ°äº†å“ªä¸ªå…ƒç´         //å¾ªç¯å…¥æ ˆï¼Œå¦‚æœæ ˆé¡¶å…ƒç´ ä¸å‡ºæ ˆæ•°ç»„popVçš„æ‰€æŒ‡å‘çš„å…ƒç´ ç›¸ç­‰åˆ™å‡ºæ ˆè¯¥å…ƒç´ ï¼Œå¦‚æœæ ˆä¸ä¸ºç©ºåˆ™ç»§ç»­å°è¯•å‡ºæ ˆæ“ä½œã€‚æ— æ³•å‡ºæ ˆåˆ™ç»§ç»­å¾ªç¯å…¥æ ˆç›´åˆ°æ— æ³•å…¥æ ˆ        for(int i = 0;i&lt;pushV.length;i++)&#123;            s.push(pushV[i]);            while(!s.isEmpty()&amp;&amp;s.peek() == popV[j])&#123;                j++;                s.pop();            &#125;        &#125;        //æœ€åæ¨¡æ‹Ÿçš„æ ˆä¸­åº”è¯¥ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºåˆ™å‡ºæ ˆé¡ºåºç¬¦åˆï¼Œåä¹‹ä¸ç¬¦åˆ        if(s.isEmpty())&#123;            return true;        &#125;        return false;    &#125;&#125;\n\n\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","åˆ·é¢˜è®°å½•"],"tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","æ ˆ","æ‰“å¡"]},{"title":"è“æ¡¥æ¯-å­ä¸²åˆ†å€¼å’Œ","url":"/2021/11/bdfb1b20a4e6.html","content":"é¢˜ç›®æè¿°å¯¹äºä¸€ä¸ªå­—ç¬¦ä¸² Sï¼Œæˆ‘ä»¬å®šä¹‰ S çš„åˆ†å€¼ f(S) ä¸º S ä¸­å‡ºç°çš„ä¸åŒçš„å­—ç¬¦ä¸ªæ•°ã€‚\nä¾‹å¦‚ f(â€œabaâ€)&#x3D;2ï¼Œf(â€œabcâ€)&#x3D;3,f(â€œaaaâ€)&#x3D;1 ã€‚\nç°åœ¨ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² S[0..nâˆ’1]ï¼ˆé•¿åº¦ä¸º nï¼‰ï¼Œè¯·ä½ è®¡ç®—å¯¹äºæ‰€æœ‰ S çš„éç©ºå­ä¸² Si..jï¼Œf(S[i..j]) çš„å’Œæ˜¯å¤šå°‘ã€‚\nå­ä¸²\né¦–å…ˆäº†è§£ä»€ä¹ˆæ˜¯å­ä¸²,ä¸€ä¸ªå­—ç¬¦ä¸² s è¢«ç§°ä½œå¦ä¸€ä¸ªå­—ç¬¦ä¸² S çš„å­ä¸²ï¼Œè¡¨ç¤ºS&#x3D;XsYã€‚\n\nä¾‹å¦‚abccçš„å­ä¸²æœ‰\n{\nç©ºä¸²\na\nb ab\nc bc abc\nc cc bcc abcc\n}\n\nä¸ºä»€ä¹ˆä¼šæœ‰ä¸¤ä¸ªå­ä¸²c?\nç¬¬ä¸€ä¸ªå­ä¸²cå‰é¢æ˜¯_ab_åé¢æ˜¯_c_ï¼Œç¬¬äºŒä¸ªå­ä¸²cå‰é¢æ˜¯_abc_åé¢æ˜¯ç©ºï¼Œéƒ½æ»¡è¶³å®šä¹‰ï¼\n\næ€è·¯æˆ‘ä»¬å¯ä»¥ç”¨çŠ¶æ€è½¬ç§»çš„æ–¹æ³•æ¥æ€è€ƒï¼ŒçŠ¶æ€çš„å®šä¹‰æ˜¯å½“å‰å­—ç¬¦ä¸²æ‰€æœ‰å­ä¸²çš„é›†åˆ(ä¾‹å¦‚:ab,å½“å‰å­—ç¬¦ä¸²å­ä¸²é›†åˆä¸º{a,b,ab,ç©ºä¸²})ï¼Œå½“æ–°æ¥ä¸€ä¸ªå­—æ¯bæ¥åˆ°å­—ç¬¦ä¸²åæ–¹æ—¶ï¼Œå­ä¸²é›†åˆå¯ä»¥ç”±ä¸¤éƒ¨åˆ†è½¬ç§»\n\nè€çš„å­ä¸²é›†åˆç›´æ¥è½¬ç§»,å³{a,b,ab,ç©ºä¸²} \næ–°ç”Ÿæˆçš„å­ä¸²,è¿™éƒ¨åˆ†å­ä¸²å¯åˆ†ä¸ºä¸¤éƒ¨åˆ†\n\n\næ–°æ¥çš„å­—æ¯å•ç‹¬åšä¸ºä¸€ä¸ªå­ä¸²,å³å­—æ¯{b} \nå¯ä»¥å°†æ–°å­—æ¯ç›´æ¥æ¥åœ¨æ—§å­ä¸²åé¢å½¢æˆæ–°å­ä¸²,å³ç›´æ¥æ¥åœ¨å‰ä¸€ä¸ªå­—æ¯båé¢å½¢æˆ{bb,abb}\n\næ‰€ä»¥å½“å‰çŠ¶æ€abbæ‰€è¡¨ç¤ºçš„æ–°é›†åˆä¸º:æ¥åœ¨åé¢çš„é›†åˆ+æ–°å­—æ¯å•ç‹¬åšå­ä¸²é›†åˆ+æ—§é›†åˆï¼Œå³{bb,abb}+{b}+{a,b,ab,ç©ºä¸²}&#x3D;{a,b,ab,ç©ºä¸²b,bb,abb}\næˆ‘ä»¬å†æ¥çœ‹çœ‹åœ¨è½¬ç§»è¿‡ç¨‹ä¸­,å­ä¸²æ•°å€¼çš„å˜åŒ–,ä»ç„¶ä»¥ä¸Šé¢çš„abæ–°æ·»åŠ bä¸ºä¾‹å­,è®¾æ—§å­ä¸²é›†åˆ{a,b,ab,ç©ºä¸²}çš„æ€»æ•°å€¼ä¸ºsum0,æ–°å­ä¸²é›†åˆçš„æ€»æ•°å€¼ä¸ºx,æœ€ç»ˆå½¢æˆçš„å­ä¸²é›†åˆä¸ºsum1,æ‰€ä»¥\n\nsum1&#x3D;sum0+x -&gt; sum &#x3D; sum + x\n\né€’æ¨å…¬å¼å·²ç»æ¨å‡º,æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªxçš„æ•°å€¼æ˜¯æ€æ ·å˜åŒ–çš„,{bb,abb}å®ƒæ˜¯ç”±æ—§é›†åˆä¸­ä»¥æœ€åä¸€ä¸ªå­—æ¯ç»“å°¾çš„å­ä¸²{b,ab}å†åŠ ä¸Šæ–°å­—ç¬¦bå½¢æˆçš„,æ ¹æ®é¢˜ç›®çš„å®šä¹‰å¦‚æœæ–°æ·»åŠ çš„å­—ç¬¦å‰é¢å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆæ•°å€¼ä¸å˜ä»ç„¶ä¸ºå‰é¢çš„å­ä¸²çš„æ•°å€¼ï¼Œåä¹‹åˆ™åœ¨å‰é¢å­ä¸²åŸºç¡€ä¸ŠåŠ ä¸Šæ–°å­—ç¬¦çš„æ•°å€¼å³1.å›åˆ°xä¸Šæ¥,ä»{b,ab}åˆ°{bb,abb},æˆ‘ä»¬è®¾{a,ab}æ•°å€¼ä¸ºx0,{bb,abb}æ•°å€¼ä¸ºx1,å¯ä»¥çŸ¥é“x1&#x3D;x0+å¢é‡c,å¢é‡cæ˜¯ç”±æ–°åŠ å­—ç¬¦å†³å®šçš„ï¼Œä¹Ÿå°±æ˜¯å‰é¢æœ‰å¤šå°‘ä¸ªä¸å«æ–°å­—ç¬¦çš„å­ä¸²æ•°é‡,è¿™é‡Œçš„å¢é‡ä¸º0ï¼Œå› ä¸ºb,abéƒ½å«æœ‰æ–°åŠ å­—ç¬¦b.ç°åœ¨xçš„é€’æ¨å…¬å¼ä¹Ÿå¾—åˆ°äº†,æœ€ååˆ«å¿˜äº†æ–°æ¥çš„å­—æ¯å•ç‹¬åšä¸ºä¸€ä¸ªå­ä¸²,å³å­—æ¯{b}ã€‚\n\nx1 &#x3D; x0 + å¢é‡ + 1\n\næœ€åæˆ‘ä»¬å¯ä»¥å¼€ä¸€ä¸ªæ•°ç»„st[i]æ¥è®°å½•å½“å‰çŠ¶æ€ä¸å«æŸä¸ªå­—ç¬¦içš„å­ä¸²æ•°é‡,å½“æ–°åŠ ä¸€ä¸ªå­—ç¬¦æ—¶ï¼Œæˆ‘ä»¬ç›´æ¥æŸ¥è¯¢å³å¯å¾—åˆ°å¢é‡,æ·»åŠ å®Œå­—ç¬¦åæˆ‘ä»¬å¯¹stæ•°ç»„è¿›è¡Œæ›´æ–°å³å¯\n\nx &#x3D; x + st[i] + 1\n\nACä»£ç #include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;char chs[100005];   //ç”¨æ¥å­˜å‚¨å­—ç¬¦ä¸²int st[30]; //å­˜å‚¨ä¸åŒ…å«iå­—ç¬¦çš„å­ä¸²æ•°void update(char ch)&#123;   //åœ¨æ—§å­—ç¬¦ä¸²åé¢åŠ ä¸Šæ–°å­—æ¯åï¼Œæ›´æ–°stæ•°ç»„    int aim = ch-&#x27;a&#x27;;   //è®¡ç®—ç´¢å¼•,aå¯¹åº”ä¸‹æ ‡0ï¼Œbå¯¹åº”1ä»¥æ­¤ç±»æ¨    st[aim] = 0;    //ç”±äºåœ¨å¯åŠ çš„æ‰€æœ‰å­ä¸²æœ«å°¾æ–°åŠ äº†å­—æ¯chï¼Œæ‰€ä»¥å‰é¢çš„æ‰€æœ‰å­ä¸²éƒ½ä¸åŒ…å«æ–°åŠ çš„å­—æ¯    for(int i = 0;i&lt;30;i++)&#123;    //éå†26ä¸ªå­—æ¯        if(i != aim)&#123;              st[i]++;    //æ–°æ¥çš„å­—æ¯å•ç‹¬åšä¸ºä¸€ä¸ªå­ä¸²ï¼Œæ‰€ä»¥éœ€è¦åŠ 1        &#125;    &#125;&#125;int main()&#123;    long long sum = 0;  //ç”¨äºè®°å½•å­ä¸²æ•°å€¼æ€»å’Œsum    long long x = 0;  //ç”¨äºè®°å½•æ–°ç”Ÿæˆçš„å­ä¸²æ•°å€¼å’Œ    cin&gt;&gt;chs;    int n = strlen(chs);    for(int i = 0;i&lt;n;i++)&#123;        x = x + st[chs[i]-&#x27;a&#x27;] + 1;  //æ–‡ç« ä¸­çš„x1=x0+å¢é‡        sum = sum + x;   //æ–‡ç« ä¸­çš„sum1=sum0+1+x.        update(chs[i]);     &#125;    cout&lt;&lt;sum;    return 0;&#125;\n","categories":["æ•°æ®ç»“æ„ä¸ç®—æ³•","åˆ·é¢˜è®°å½•"],"tags":["æ•°æ®ç»“æ„ä¸ç®—æ³•","æ‰“å¡"]}]